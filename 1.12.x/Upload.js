(window.webpackJsonpShineoutDoc=window.webpackJsonpShineoutDoc||[]).push([[54],{1422:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(563),i=n(564),s=n(40),l=n(1423),c=n.n(l),u=n(1424),d=n.n(u),p=Object(s.b)(c.a,d.a),f=[{name:"01-base",isTs:!0,isTest:!1,title:Object(s.b)("基本用法 \n 基础的文件上传, onSuccess 的返回值会作为 value 传给 onChange","Base \n Basic usage for uploading file, the onSuccess's returns will be the onChange params"),component:n(1425).default,rawText:n(1426),parseTsText:n(1427)},{name:"01-onChange",isTs:!0,isTest:!1,title:Object(s.b)("自定义结果 \n 默认展示的结果和 value 里面所存储的值是一样的, 如果有需求需要, 可以用 renderResult 自行处理","Custom result \n The result of the default display is the same as the value stored in the value. If there is a need, you can use the renderResult to handle it yourself."),component:n(1428).default,rawText:n(1429),parseTsText:n(1430)},{name:"02-image",isTs:!0,isTest:!1,title:Object(s.b)("上传图片 \n 使用 Upload.Image 处理带预览的图片上传","Image \n Use Upload.Image to upload and preview images."),component:n(1431).default,rawText:n(1432),parseTsText:n(1433)},{name:"02-show-image",isTs:!0,isTest:!1,title:Object(s.b)("自定义结果内容 \n 使用  renderContent 可以自定义上传之后的图片结果.","Custom result content \n Use renderContent to customize the image results after uploading."),component:n(1434).default,rawText:n(1435),parseTsText:n(1436)},{name:"03-button",isTs:!0,isTest:!1,title:Object(s.b)("按钮上传 \n 使用 Upload.Button 展示单个文件的上传进度","Button \n Use Upload.Button to show the upload progress of individual files"),component:n(1437).default,rawText:n(1438),parseTsText:n(1439)},{name:"03-confirm",isTs:!0,isTest:!1,title:Object(s.b)("删除确认 \n 设置 removeConfirm 属性来开启删除前确认","Remove Confirm \n Set the removeConfirm property to enable confirmation before deleting"),component:n(1440).default,rawText:n(1441),parseTsText:n(1442)},{name:"04-validator",isTs:!0,isTest:!1,title:Object(s.b)("校验 \n 通过 validator.imageSize 校验图片长宽，本例为 200px * 100px","Validator \n Set validator.imageSize to validate the width and height of the image."),component:n(1443).default,rawText:n(1444),parseTsText:n(1445)},{name:"05-filesize",isTs:!0,isTest:!1,title:Object(s.b)("文件大小 \n 文件大小校验，本例为 10KB"," \n Set validator.size to validate the size of the file. This example is 10KB."),component:n(1446).default,rawText:n(1447),parseTsText:n(1448)},{name:"06-error",isTs:!0,isTest:!1,title:Object(s.b)("异常处理 \n onHttpError 用来处理上传到服务器返回的异常","Error \n Set onHttpError to handle exceptions returned by uploading to the server."),component:n(1449).default,rawText:n(1450),parseTsText:n(1451)},{name:"08-request-a",isTs:!0,isTest:!1,title:Object(s.b)("自定义上传 \n 通过 request 函数，替代默认上传方法","Custom Request \n Set request property to use your own XMLHttpRequest."),component:n(1452).default,rawText:n(1453),parseTsText:n(1454)},{name:"08-request-ignore",isTs:!0,isTest:!1,title:Object(s.b)(" \n 使用 request 略过上传过程"," \n ignore request with request"),component:n(1455).default,rawText:n(1456),parseTsText:n(1457)},{name:"09-zip",isTs:!0,isTest:!1,title:Object(s.b)(" \n 此事例演示通过自定义函数压缩文件后上传"," \n Zip file and upload."),component:n(1458).default,rawText:n(1459),parseTsText:n(1460)},{name:"10-defaultValue",isTs:!0,isTest:!1,title:Object(s.b)("默认值 \n 默认值示例","defaultValue \n defaultValue example"),component:n(1461).default,rawText:n(1462),parseTsText:n(1463)},{name:"11-dragger",isTs:!0,isTest:!1,title:Object(s.b)("拖拽上传 \n 设置 drop 来支持拖拽上传","Drag and Drop \n set drop to Drag files to upload."),component:n(1464).default,rawText:n(1465),parseTsText:n(1466)},{name:"test-001-tip",isTs:!0,isTest:!0,title:Object(s.b)("Tip不恢复问题 \n 修复删除错误后Tip不恢复的问题",""),component:n(1467).default,rawText:n(1468),parseTsText:n(1469)}];t.default=Object(a.a)(function(e){return o.a.createElement(i.b,Object.assign({},e,{codes:void 0,source:p,examples:f}))})},1423:function(e,t){e.exports="# Upload\n\n<br />\n\n本页中的示例服务端限制为 10 KB，大于此限制的文件会上传失败\n\n<example />\n\n## API\n\n### Upload\n\n| 属性 | 类型 | 默认值 | 说明 |\n| --- | --- | --- | --- |\n| accept | string | 无 | 上传文件类型, 和标准一致, 详见[accept](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file#accept) |\n| action | ((file: File) => string)) \\| string | 必填 | 上传地址 |\n| children | ReactNode | 必填 | 上传占位内容 |\n| className | string | 无 | 扩展className |\n| defaultValue | any[] | 无 | 默认值 |\n| headers | object | 无 | 请求头部信息 |\n| htmlName | string | 无 | 服务端接收的 filename，不填使用 name |\n| limit | number | 100 | 最大上传文件数 |\n| disabled | boolean | false | 是否禁用上传行为 |\n| name | string | 无 | Form 内存取数据的 key |\n| request | (options: object) => void | 无 | 自定义上传方法<br /> options: 上传的配置 |\n| onChange | (values: any[]) => void | 无 | 值改变回调(上传成功，删除)<br />values: 数组, 其每个值是 onSuccess 的返回值 |\n| onSuccess | (res: string, file: File, data: any, xhr: any) => any | 无 | 上传成功回调，返回结果作为新的 value<br />res: 上传接口返回结果<br />file: 选择的文件<br />data: 请求的数据<br />xhr: 返回的 response |\n| onHttpError | (xhr: any) => string | 无 | 上传失败时回调，返回结果作为错误内容提示 |\n| beforeCancel | (xhr: any) => void | 无 | 取消上传文件前的回调 |\n| params | object | 无 | 提交到服务端的额外参数 |\n| recoverAble | boolean | false | 是否可以恢复已删除的value |\n| renderResult | (data: any) => ReactNode | a => a | 结果展示 |\n| validator | object | 无 | 上传前文件校验 |\n| value | any[] | \\[] | defaultValue 和 value 可以同时设置，defaultValue 会被value覆盖<br />在Form中，value会被表单接管，value无效 |\n| withCredentials | boolean | false | 是否携带 cookie |\n| multiple | boolean | false | 是否支持多选文件 |\n| validatorHandle | ((error: any, file: File) => boolean) \\| boolean | true | 是否处理校验失败的情况, 如果提供一个函数, 则以函数的返回值判断是否处理此 error |\n| drop | boolean | false | 是否开启拖拽上传文件 |\n| filesFilter | (fileList: any[]) => fileList: any[] | 无 | 文件选中后的筛选，用户可自定义最终需要上传的文件列表<br />需返回一个新的文件列表 |\n| onErrorRemove | (xhr: XMLHttpRequest, file: Blob) => void | 无 | 上传失败文件删除之后的回调 |\n| forceAccept | string | 无 | 在使用时关闭了 accept 提供的文件类型过滤后，强制对文件类型进行校验（值同accept） |\n| forceAcceptErrorMsg | string | 无 | forceAccept 类型校验失败后自定义错误提示 |\n| showUploadList | boolean | true | 是否展示上传列表 |\n| removeConfirm | string \\| object | 无 | 删除前是否进行确认提示 |\n| beforeRemove | (value: any) => Promise | 无 | 删除前的确认 |\n| canDelete | ((value: any) => boolean) \\| boolean | 无 | 文件是否可以删除|\n| responseType |  string | 无 | 设置 xhr.responseType |\n| webkitdirectory | any | false | 同原生 input 标签的 webkitdirectory 属性 |\n\n### Upload.Image\n\n| 属性 | 类型 | 默认值 | 说明 |\n| --- | --- | --- | --- |\n| children | ReactNode | 无 | 上传按钮内容，可为空 |\n| renderResult | (data: any) => string | a => a | 返回图片 url 链接地址 |\n| onErrorRemove | (xhr: XMLHttpRequest, file: Blob) => void | none | 上传失败图片删除之后的回调 |\n| leftHandler | boolean | false | 添加图片视图是否在左侧展示 |\n| onPreview | (url, value, index, values, fun: {preview: ()=>void } ) => void | none | 预览图片操作，默认为画廊展示 |\n| ignorePreview | boolean | false | 是否忽略上传图片预览 |\n| gapProps | object | {column: 12, row: 12} | 间距同Gap组件props |\n| renderContent | (res: any, value: any, index: number, values: any[]) => ReactNode | - | 自定义结果的内容 |\n\n### Upload.Button\n\n| 属性 | 类型 | 默认值 | 说明 |\n| --- | --- | --- | --- |\n| type | string | primary | 按钮类型详见按钮type属性 |\n| size | string | default | 按钮类型详见按钮size属性 |\n| outline | boolean | false | 按钮类型详见按钮outline属性 |\n| placeholder | ReactNode | 无 | 按钮默认内容 |\n| loading | ReactNode | 无 | 上传中按钮的内容，如果是字符串默认会有spin loading |\n\n\n### UploadOptions\n\n| 属性 | 类型 | 默认值 | 说明 |\n| --- | --- | --- | --- |\n| file |  File | 无 |  传入的文件 |\n| onLoad | function | 无 | 上传事件 |\n| onError | function | 无| 上传出错事件(props 中为 onHttpError) |\n| onProgress | function | 无 | 上传中进度 |\n| onSuccess | function | 无 | 上传成功事件 |\n| params | object | 无 | 上传参数 |\n| onStart | function | 无 | 开始上传事件 |\n| headers | object | 无 | 请求头部信息 |\n\n\n### validator 属性\n\n| 属性 | 类型 | 说明 |\n| --- | --- | --- |\n| ext | func(string):Error\\|Promise | 判断后缀名，传入参数为文件后缀，校验失败返回 Error |\n| size | func(number):Error\\|Promise | 判断文件大小，校验失败返回 Error |\n| imageSize | func(Image):Error | 只对 Image 有效，判断图片尺寸，校验失败返回 Error |\n| customValidator | func(File):Error\\|Promise | 自定义校验 |\n"},1424:function(e,t){e.exports="# Upload\n\n<example />\n\n## API\n\n### Upload\n\n| Property | Type | Default | Description |\n| --- | --- | --- | --- |\n| accept | string | none | The type of the upload file, same as the standard,See details [accept](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file#accept)  |\n| action | ((file: File) => string) \\| string | required | The address for uploading |\n| children | ReactNode | required | Upload placeholder |\n| className | string | none | Extend className |\n| defaultValue | any[] | -  | default value |\n| headers | object | none | Request headers |\n| htmlName | string | none | The filename received by the server. If it is not filled in, use the name. |\n| limit | number | 100 | Maximum number of uploaded files |\n| disabled | boolean | false | disabled upload action |\n| name | string | none | The key access data in the Form  |\n| request | (options: object) => void | - | Custom upload method<br /> options: the options of upload |\n| onChange | (values: any[]) => void | none | The callback function when the value is changing(Upload successfully, delete)<br />values: Array, the value is the onSuccess returns |\n| onSuccess |  (res: string, file: File, data: any, xhr: any) => any | none | The callback function when to upload successfully. The returned result is as the new value. <br />res: the result that the upload interface returns<br />file: selected file<br /> data: the request data<br /> xhr: reponse |\n| onHttpError | (xhr: any) => string | none | The callback function when to upload unsuccessfully. The returned result is as the error message. |\n| beforeCancel | (xhr: any) => void | none | The callback function before cancel upload file. |\n| params | object | none | Additional parameters submitted to the server |\n| recoverAble | boolean | true | Whether to recover deleted values. |\n| renderResult | (data: any) => ReactNode | a => a | Display results |\n| validator | object | none | Check file before uploading |\n| value | any[] | \\[] | value |\n| withCredentials | boolean | false | Whether to take the cookie |\n| multiple | boolean | false | Whether multi-select files are supported |\n| renderContent | (res: any, value: any, index: number, values: any[]) => ReactNode | - | Custom content of result  |\n| validatorHandle | ((error: any, file: File) => boolean) \\| boolean  | true | Whether to handle the case of validation failure, if a function is provided, it is judged by the return value of the function. |\n| drop | boolean | false | drop to update |\n| filesFilter | (fileList: any[]) => fileList: any[] | none | Filter after file selection, users can customize the list of files that need to be uploaded eventually<br />Need to return a new file list |\n| onErrorRemove | (xhr: XMLHttpRequest, file: Blob) => void | none | remove update failed callback |\n| forceAccept | string | none | After disabled the file type filtering provided by accept, it is mandatory to check the file type, value same as accept |\n| forceAcceptErrorMsg | string | 无 | Custom error prompt after forceAccept type verification fails |\n| showUploadList | boolean | true | show upload list |\n| leftHandler | boolean | false | add image handler show left |\n| removeConfirm | string \\| object | none | confirmation before deletion |\n| beforeRemove | (value: any) => Promise | none | callback before remove |\n| canDelete | （(value: any) => boolean) \\| boolean | 无 | Can the file be deleted |\n| responseType |  string | none | set xhr.responseType|\n| webkitdirectory | any | false | The same as the native webkitdirectory tag |\n\n### Upload.Image\n\n| Property | Type | Default | Description |\n| --- | --- | --- | --- |\n| children | ReactNode | none | The content of the upload button. It can be empty. |\n| leftHandler | boolean | false | Add image view is displayed on the left |\n| renderResult | (data: any) => ReactNode | a => a | Return the link address of the url of the image.|\n| onErrorRemove | (xhr: XMLHttpRequest, file: Blob) => void | none | remove update failed callback |\n| onPreview | (url, value, index, values, fun: {preview: ()=>void }) => void | none | how to preview the image |\n| ignorePreview | boolean | false | ignore image preview |\n| gapProps | object | {column: 12, row: 12} | gap is the same as Gap component props |\n\n### Upload.Button\n\n| Property | Type | Default | Description |\n| --- | --- | --- | --- |\n| type | string | primary | As same as Button type |\n| size | string | default | As same as Button size |\n| outline | boolean | false | As same as Button outline |\n| placeholder | ReactNode | none | button default content |\n| loading | ReactNode | none | content of uploading, will have spin if a string |\n\n\n### UploadOptions\n\n| Property | Type | Default | Description |\n| --- | --- | --- | --- |\n| file |  File | - |  the file |\n| onLoad | function | - | the event of uploading |\n| onError | function | - | the event of upload fail(in props is onHttpError) |\n| onProgress | function | - | the event of uploading progress |\n| onSuccess | function | - | the event of upload successing |\n| params | object | - | the request params |\n| onStart | function | - | the event of start upload |\n| headers | object | - | the request header |\n\n### Validator\n\n| Property | Type | Description |\n| --- | --- | --- |\n| ext | func(string):Error | Judge the file extension, return the Error when the verification fails. |\n| size | func(number):Error | Judge the size of the file and return the Error when the verification fails. |\n| imageSize | func(Image):Error | It is only valid for Image to determine the size of images and return the Error when the verification fails. |\n| customValidator | func(File):Error | custom validator |\n"},1425:function(e,t,n){"use strict";n.r(t);var o=n(24),r=n(0),a=n.n(r),i=n(307),s=n(68),l=n(185);t.default=function(){var e=a.a.useState([]),t=Object(o.a)(e,2),n=t[0],r=t[1];return a.a.createElement(i.a,{action:"//jsonplaceholder.typicode.com/posts",accept:"image/*",value:n,name:"file",onSuccess:function(e,t){return t.name},onChange:function(e){r(e)},limit:3,style:{width:300}},a.a.createElement(s.a,null,a.a.createElement(l.a,{name:"upload",style:{marginInlineEnd:4}}),"Upload file"))}},1426:function(e,t){e.exports='/**\n * cn - 基本用法\n *    -- 基础的文件上传, onSuccess 的返回值会作为 value 传给 onChange\n * en - Base\n *    -- Basic usage for uploading file, the onSuccess\'s returns will be the onChange params\n\n */\nimport React from \'react\'\nimport { Upload, Button } from \'shineout\'\nimport FontAwesome from \'../Icon/FontAwesome\'\n\nconst App: React.FC = () => {\n  const [value, setValue] = React.useState([])\n\n  return (\n    <Upload\n      action="//jsonplaceholder.typicode.com/posts"\n      accept="image/*"\n      value={value}\n      name="file"\n      onSuccess={(_res, file) => file.name}\n      onChange={v => {\n        setValue(v)\n      }}\n      limit={3}\n      style={{ width: 300 }}\n    >\n      <Button>\n        <FontAwesome name="upload" style={{ marginInlineEnd: 4 }} />\n        Upload file\n      </Button>\n    </Upload>\n  )\n}\nexport default App\n'},1427:function(e,t){e.exports='/**\n * cn - 基本用法\n *    -- 基础的文件上传, onSuccess 的返回值会作为 value 传给 onChange\n * en - Base\n *    -- Basic usage for uploading file, the onSuccess\'s returns will be the onChange params\n\n */\nimport React from \'react\';\nimport { Upload, Button } from \'shineout\';\nimport FontAwesome from \'../Icon/FontAwesome\';\nconst App = () => {\n    const [value, setValue] = React.useState([]);\n    return (<Upload action="//jsonplaceholder.typicode.com/posts" accept="image/*" value={value} name="file" onSuccess={(_res, file) => file.name} onChange={v => {\n            setValue(v);\n        }} limit={3} style={{ width: 300 }}>\n      <Button>\n        <FontAwesome name="upload" style={{ marginInlineEnd: 4 }}/>\n        Upload file\n      </Button>\n    </Upload>);\n};\nexport default App;\n'},1428:function(e,t,n){"use strict";n.r(t);var o=n(24),r=n(0),a=n.n(r),i=n(307),s=n(68),l=n(185);t.default=function(){var e=a.a.useState([]),t=Object(o.a)(e,2),n=t[0],r=t[1];return a.a.createElement(i.a,{action:"//jsonplaceholder.typicode.com/posts",accept:"image/*",value:n,name:"file",renderResult:function(e){return e.name},onSuccess:function(e,t){return t},onChange:function(e){r(e)},limit:3,style:{width:300}},a.a.createElement(s.a,null,a.a.createElement(l.a,{name:"upload",style:{marginInlineEnd:4}}),"Upload file"))}},1429:function(e,t){e.exports='/**\n * cn - 自定义结果\n *    -- 默认展示的结果和 value 里面所存储的值是一样的, 如果有需求需要, 可以用 renderResult 自行处理\n * en - Custom result\n *    -- The result of the default display is the same as the value stored in the value. If there is a need, you can use the renderResult to handle it yourself.\n\n */\nimport React from \'react\'\nimport { Upload, Button } from \'shineout\'\nimport FontAwesome from \'../Icon/FontAwesome\'\n\nconst App: React.FC = () => {\n  const [value, setValue] = React.useState([])\n\n  return (\n    <Upload\n      action="//jsonplaceholder.typicode.com/posts"\n      accept="image/*"\n      value={value}\n      name="file"\n      renderResult={f => f.name}\n      onSuccess={(_res, file) => file}\n      onChange={v => {\n        setValue(v)\n      }}\n      limit={3}\n      style={{ width: 300 }}\n    >\n      <Button>\n        <FontAwesome name="upload" style={{ marginInlineEnd: 4 }} />\n        Upload file\n      </Button>\n    </Upload>\n  )\n}\n\nexport default App\n'},1430:function(e,t){e.exports='/**\n * cn - 自定义结果\n *    -- 默认展示的结果和 value 里面所存储的值是一样的, 如果有需求需要, 可以用 renderResult 自行处理\n * en - Custom result\n *    -- The result of the default display is the same as the value stored in the value. If there is a need, you can use the renderResult to handle it yourself.\n\n */\nimport React from \'react\';\nimport { Upload, Button } from \'shineout\';\nimport FontAwesome from \'../Icon/FontAwesome\';\nconst App = () => {\n    const [value, setValue] = React.useState([]);\n    return (<Upload action="//jsonplaceholder.typicode.com/posts" accept="image/*" value={value} name="file" renderResult={f => f.name} onSuccess={(_res, file) => file} onChange={v => {\n            setValue(v);\n        }} limit={3} style={{ width: 300 }}>\n      <Button>\n        <FontAwesome name="upload" style={{ marginInlineEnd: 4 }}/>\n        Upload file\n      </Button>\n    </Upload>);\n};\nexport default App;\n'},1431:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(307);t.default=function(){return o.a.createElement(a.a.Image,{drop:!0,action:"//jsonplaceholder.typicode.com/posts",accept:"image/*",name:"file",onSuccess:function(e,t,n){return console.log(e,t),{data:n}},renderResult:function(e){return e.data},limit:3,onStart:function(e){return console.log(e)}})}},1432:function(e,t){e.exports='/**\n * cn - 上传图片\n *    -- 使用 Upload.Image 处理带预览的图片上传\n * en - Image\n *    -- Use Upload.Image to upload and preview images.\n */\nimport React from \'react\'\nimport { Upload } from \'shineout\'\n\nconst App: React.FC = () => (\n  <Upload.Image\n    drop\n    action="//jsonplaceholder.typicode.com/posts"\n    accept="image/*"\n    name="file"\n    onSuccess={(res, file, data) => {\n      console.log(res, file)\n      return { data }\n    }}\n    renderResult={f => f.data}\n    limit={3}\n    onStart={f => console.log(f)}\n  />\n)\nexport default App\n'},1433:function(e,t){e.exports='/**\n * cn - 上传图片\n *    -- 使用 Upload.Image 处理带预览的图片上传\n * en - Image\n *    -- Use Upload.Image to upload and preview images.\n */\nimport React from \'react\';\nimport { Upload } from \'shineout\';\nconst App = () => (<Upload.Image drop action="//jsonplaceholder.typicode.com/posts" accept="image/*" name="file" onSuccess={(res, file, data) => {\n        console.log(res, file);\n        return { data };\n    }} renderResult={f => f.data} limit={3} onStart={f => console.log(f)}/>);\nexport default App;\n'},1434:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(307),i=n(303);t.default=function(){return o.a.createElement(a.a.Image,{action:"//jsonplaceholder.typicode.com/posts",accept:"image/*",name:"file",onSuccess:function(e,t,n){return{data:n}},renderResult:function(e){return e.data},limit:3,onStart:function(e){return console.log(e)},renderContent:function(e,t,n,r){return console.log(e,t,n,r),o.a.createElement("div",{onClick:function(){return i.a.info("i am click")}},o.a.createElement("img",{width:"100%",src:e,alt:"not found"}))}})}},1435:function(e,t){e.exports='/**\n * cn - 自定义结果内容\n *    -- 使用  renderContent 可以自定义上传之后的图片结果.\n * en - Custom result content\n *    -- Use renderContent to customize the image results after uploading.\n */\nimport React from \'react\'\nimport { Upload, Message } from \'shineout\'\n\nconst App: React.FC = () => (\n  <Upload.Image\n    action="//jsonplaceholder.typicode.com/posts"\n    accept="image/*"\n    name="file"\n    onSuccess={(_res, _file, data) => ({ data })}\n    renderResult={f => f.data}\n    limit={3}\n    onStart={f => console.log(f)}\n    renderContent={(d, v, i, values) => {\n      console.log(d, v, i, values)\n      return (\n        <div onClick={() => Message.info(\'i am click\')}>\n          <img width="100%" src={d} alt="not found" />\n        </div>\n      )\n    }}\n  />\n)\n\nexport default App\n'},1436:function(e,t){e.exports='/**\n * cn - 自定义结果内容\n *    -- 使用  renderContent 可以自定义上传之后的图片结果.\n * en - Custom result content\n *    -- Use renderContent to customize the image results after uploading.\n */\nimport React from \'react\';\nimport { Upload, Message } from \'shineout\';\nconst App = () => (<Upload.Image action="//jsonplaceholder.typicode.com/posts" accept="image/*" name="file" onSuccess={(_res, _file, data) => ({ data })} renderResult={f => f.data} limit={3} onStart={f => console.log(f)} renderContent={(d, v, i, values) => {\n        console.log(d, v, i, values);\n        return (<div onClick={() => Message.info(\'i am click\')}>\n          <img width="100%" src={d} alt="not found"/>\n        </div>);\n    }}/>);\nexport default App;\n'},1437:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(307);t.default=function(){return o.a.createElement(a.a.Button,{action:"//jsonplaceholder.typicode.com/posts",name:"file",onSuccess:function(e,t){return t.name},loading:"正在上传...",placeholder:"点击上传",type:"primary"})}},1438:function(e,t){e.exports='/**\n * cn - 按钮上传\n *    -- 使用 Upload.Button 展示单个文件的上传进度\n * en - Button\n *    -- Use Upload.Button to show the upload progress of individual files\n */\nimport React from \'react\'\nimport { Upload } from \'shineout\'\n\nconst App: React.FC = () => (\n  <Upload.Button\n    action="//jsonplaceholder.typicode.com/posts"\n    name="file"\n    onSuccess={(_res, file) => file.name}\n    loading="正在上传..."\n    placeholder="点击上传"\n    type="primary"\n  />\n)\n\nexport default App\n'},1439:function(e,t){e.exports='/**\n * cn - 按钮上传\n *    -- 使用 Upload.Button 展示单个文件的上传进度\n * en - Button\n *    -- Use Upload.Button to show the upload progress of individual files\n */\nimport React from \'react\';\nimport { Upload } from \'shineout\';\nconst App = () => (<Upload.Button action="//jsonplaceholder.typicode.com/posts" name="file" onSuccess={(_res, file) => file.name} loading="正在上传..." placeholder="点击上传" type="primary"/>);\nexport default App;\n'},1440:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(307);t.default=function(){return o.a.createElement(a.a.Image,{defaultValue:[{data:"/images/1_b.jpg"}],action:"//jsonplaceholder.typicode.com/posts",renderResult:function(e){return e.data},onSuccess:function(e,t,n){return{data:n}},removeConfirm:"Are you sure to delete it ?"})}},1441:function(e,t){e.exports="/**\n * cn - 删除确认\n *    -- 设置 removeConfirm 属性来开启删除前确认\n * en - Remove Confirm\n *    -- Set the removeConfirm property to enable confirmation before deleting\n */\nimport React from 'react'\nimport { Upload } from 'shineout'\n\nconst App: React.FC = () => (\n  <Upload.Image\n    defaultValue={[{ data: '/images/1_b.jpg' }]}\n    action=\"//jsonplaceholder.typicode.com/posts\"\n    renderResult={d => d.data}\n    onSuccess={(_res, _file, data) => ({ data })}\n    removeConfirm=\"Are you sure to delete it ?\"\n  />\n)\n\nexport default App\n"},1442:function(e,t){e.exports="/**\n * cn - 删除确认\n *    -- 设置 removeConfirm 属性来开启删除前确认\n * en - Remove Confirm\n *    -- Set the removeConfirm property to enable confirmation before deleting\n */\nimport React from 'react';\nimport { Upload } from 'shineout';\nconst App = () => (<Upload.Image defaultValue={[{ data: '/images/1_b.jpg' }]} action=\"//jsonplaceholder.typicode.com/posts\" renderResult={d => d.data} onSuccess={(_res, _file, data) => ({ data })} removeConfirm=\"Are you sure to delete it ?\"/>);\nexport default App;\n"},1443:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(307),i=n(185);t.default=function(){return o.a.createElement(a.a.Image,{action:"//jsonplaceholder.typicode.com/posts",accept:"image/*",name:"file",onSuccess:function(e,t,n){return{data:n}},width:200,height:100,limit:1,renderResult:function(e){return e.data},validator:{imageSize:function(e){return 200!==e.width||100!==e.height?new Error("only allow 200px * 100px"):void 0},ext:function(e){return["jpg","png"].includes(e)?void 0:new Error("File extension must be jpg or png")}}},o.a.createElement("div",{style:{margin:"auto",color:"#999",textAlign:"center"}},o.a.createElement(i.a,{name:"upload"}),"Upload Image",o.a.createElement("br",null),"Allow size 200 * 100"))}},1444:function(e,t){e.exports="/**\n * cn - 校验\n *    -- 通过 validator.imageSize 校验图片长宽，本例为 200px * 100px\n * en - Validator\n *    -- Set validator.imageSize to validate the width and height of the image.\n */\nimport React from 'react'\nimport { Upload } from 'shineout'\nimport FontAwesome from '../Icon/FontAwesome'\n\nconst App: React.FC = () => (\n  <Upload.Image\n    action=\"//jsonplaceholder.typicode.com/posts\"\n    accept=\"image/*\"\n    name=\"file\"\n    onSuccess={(_res, _file, data) => ({ data })}\n    width={200}\n    height={100}\n    limit={1}\n    renderResult={f => f.data}\n    validator={{\n      imageSize: img => (img.width !== 200 || img.height !== 100 ? new Error('only allow 200px * 100px') : undefined),\n      ext: ext => (['jpg', 'png'].includes(ext) ? undefined : new Error('File extension must be jpg or png')),\n    }}\n  >\n    <div style={{ margin: 'auto', color: '#999', textAlign: 'center' }}>\n      <FontAwesome name=\"upload\" />\n      Upload Image\n      <br />\n      Allow size 200 * 100\n    </div>\n  </Upload.Image>\n)\nexport default App\n"},1445:function(e,t){e.exports="/**\n * cn - 校验\n *    -- 通过 validator.imageSize 校验图片长宽，本例为 200px * 100px\n * en - Validator\n *    -- Set validator.imageSize to validate the width and height of the image.\n */\nimport React from 'react';\nimport { Upload } from 'shineout';\nimport FontAwesome from '../Icon/FontAwesome';\nconst App = () => (<Upload.Image action=\"//jsonplaceholder.typicode.com/posts\" accept=\"image/*\" name=\"file\" onSuccess={(_res, _file, data) => ({ data })} width={200} height={100} limit={1} renderResult={f => f.data} validator={{\n        imageSize: img => (img.width !== 200 || img.height !== 100 ? new Error('only allow 200px * 100px') : undefined),\n        ext: ext => (['jpg', 'png'].includes(ext) ? undefined : new Error('File extension must be jpg or png')),\n    }}>\n    <div style={{ margin: 'auto', color: '#999', textAlign: 'center' }}>\n      <FontAwesome name=\"upload\"/>\n      Upload Image\n      <br />\n      Allow size 200 * 100\n    </div>\n  </Upload.Image>);\nexport default App;\n"},1446:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(307),i=n(68),s=n(185);t.default=function(){return o.a.createElement("div",null,o.a.createElement(a.a,{action:"//jsonplaceholder.typicode.com/posts",accept:"image/*",multiple:!0,name:"file",onSuccess:function(e,t){return t.name},style:{width:300,marginBottom:30},validator:{size:function(e){return 10240<e?new Error("max file size is 10KB"):void 0}},validatorHandle:function(e,t){return console.log(e,t),!0}},o.a.createElement(i.a,null,o.a.createElement(s.a,{name:"upload"}),"Upload file")),o.a.createElement(a.a.Image,{action:"//jsonplaceholder.typicode.com/posts",accept:"image/*",multiple:!0,name:"file",onSuccess:function(e,t,n){return{data:n}},validator:{size:function(e){return 10240<e?new Error("max file size is 10KB"):void 0}},renderResult:function(e){return e.data}}))}},1447:function(e,t){e.exports='/**\n * cn - 文件大小\n *    -- 文件大小校验，本例为 10KB\n * en -\n *    -- Set validator.size to validate the size of the file. This example is 10KB.\n */\nimport React from \'react\'\nimport { Upload, Button } from \'shineout\'\nimport FontAwesome from \'../Icon/FontAwesome\'\n\nconst App: React.FC = () => (\n  <div>\n    <Upload\n      action="//jsonplaceholder.typicode.com/posts"\n      accept="image/*"\n      multiple\n      name="file"\n      onSuccess={(_res, file) => file.name}\n      style={{ width: 300, marginBottom: 30 }}\n      validator={{\n        size: s => (s > 10240 ? new Error(\'max file size is 10KB\') : undefined),\n      }}\n      validatorHandle={(error, file) => {\n        console.log(error, file)\n        return true\n      }}\n    >\n      <Button>\n        <FontAwesome name="upload" />\n        Upload file\n      </Button>\n    </Upload>\n\n    <Upload.Image\n      action="//jsonplaceholder.typicode.com/posts"\n      accept="image/*"\n      multiple\n      name="file"\n      onSuccess={(_res, _file, data) => ({ data })}\n      validator={{\n        size: s => (s > 10240 ? new Error(\'max file size is 10KB\') : undefined),\n      }}\n      renderResult={f => f.data}\n    />\n  </div>\n)\nexport default App\n'},1448:function(e,t){e.exports='/**\n * cn - 文件大小\n *    -- 文件大小校验，本例为 10KB\n * en -\n *    -- Set validator.size to validate the size of the file. This example is 10KB.\n */\nimport React from \'react\';\nimport { Upload, Button } from \'shineout\';\nimport FontAwesome from \'../Icon/FontAwesome\';\nconst App = () => (<div>\n    <Upload action="//jsonplaceholder.typicode.com/posts" accept="image/*" multiple name="file" onSuccess={(_res, file) => file.name} style={{ width: 300, marginBottom: 30 }} validator={{\n        size: s => (s > 10240 ? new Error(\'max file size is 10KB\') : undefined),\n    }} validatorHandle={(error, file) => {\n        console.log(error, file);\n        return true;\n    }}>\n      <Button>\n        <FontAwesome name="upload"/>\n        Upload file\n      </Button>\n    </Upload>\n\n    <Upload.Image action="//jsonplaceholder.typicode.com/posts" accept="image/*" multiple name="file" onSuccess={(_res, _file, data) => ({ data })} validator={{\n        size: s => (s > 10240 ? new Error(\'max file size is 10KB\') : undefined),\n    }} renderResult={f => f.data}/>\n  </div>);\nexport default App;\n'},1449:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(307),i=n(68),s=n(185);t.default=function(){return o.a.createElement("div",null,o.a.createElement(a.a,{action:"/path-no-exist",accept:"image/*",name:"file",onSuccess:function(e,t){return t.name},onHttpError:function(e){return console.log(e),404===e.status?"Url not found.":"Upload Fail."},limit:3,style:{width:300,marginBottom:30}},o.a.createElement(i.a,null,o.a.createElement(s.a,{name:"upload"}),"Upload file")),o.a.createElement(a.a.Image,{action:"/path-no-exist",accept:"image/*",name:"file",onSuccess:function(e,t,n){return{data:n}},onHttpError:function(e){return console.log(e),404===e.status?"Url not found.":"Upload Fail."},renderResult:function(e){return e.data}}))}},1450:function(e,t){e.exports="/**\n * cn - 异常处理\n *    -- onHttpError 用来处理上传到服务器返回的异常\n * en - Error\n *    -- Set onHttpError to handle exceptions returned by uploading to the server.\n */\nimport React from 'react'\nimport { Upload, Button } from 'shineout'\nimport FontAwesome from '../Icon/FontAwesome'\n\nconst App: React.FC = () => (\n  <div>\n    <Upload\n      action=\"/path-no-exist\"\n      accept=\"image/*\"\n      name=\"file\"\n      onSuccess={(_res, file) => file.name}\n      onHttpError={xhr => {\n        console.log(xhr)\n        if (xhr.status === 404) return 'Url not found.'\n        return 'Upload Fail.'\n      }}\n      limit={3}\n      style={{ width: 300, marginBottom: 30 }}\n    >\n      <Button>\n        <FontAwesome name=\"upload\" />\n        Upload file\n      </Button>\n    </Upload>\n\n    <Upload.Image\n      action=\"/path-no-exist\"\n      accept=\"image/*\"\n      name=\"file\"\n      onSuccess={(_res, _file, data) => ({ data })}\n      onHttpError={xhr => {\n        console.log(xhr)\n        if (xhr.status === 404) return 'Url not found.'\n        return 'Upload Fail.'\n      }}\n      renderResult={f => f.data}\n    />\n  </div>\n)\n\nexport default App\n"},1451:function(e,t){e.exports="/**\n * cn - 异常处理\n *    -- onHttpError 用来处理上传到服务器返回的异常\n * en - Error\n *    -- Set onHttpError to handle exceptions returned by uploading to the server.\n */\nimport React from 'react';\nimport { Upload, Button } from 'shineout';\nimport FontAwesome from '../Icon/FontAwesome';\nconst App = () => (<div>\n    <Upload action=\"/path-no-exist\" accept=\"image/*\" name=\"file\" onSuccess={(_res, file) => file.name} onHttpError={xhr => {\n        console.log(xhr);\n        if (xhr.status === 404)\n            return 'Url not found.';\n        return 'Upload Fail.';\n    }} limit={3} style={{ width: 300, marginBottom: 30 }}>\n      <Button>\n        <FontAwesome name=\"upload\"/>\n        Upload file\n      </Button>\n    </Upload>\n\n    <Upload.Image action=\"/path-no-exist\" accept=\"image/*\" name=\"file\" onSuccess={(_res, _file, data) => ({ data })} onHttpError={xhr => {\n        console.log(xhr);\n        if (xhr.status === 404)\n            return 'Url not found.';\n        return 'Upload Fail.';\n    }} renderResult={f => f.data}/>\n  </div>);\nexport default App;\n"},1452:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(307),i=n(68),s=n(185),l=function(e){var t=e.file,n=e.onLoad,r=e.onError,o=e.onProgress,a=new XMLHttpRequest;a.open("post","//jsonplaceholder.typicode.com/posts");var i=new FormData;return i.append("test",t),a.upload.onprogress=o,a.onload=function(){return n(a)},a.onerror=function(){return r({statusText:"error message"})},a.send(i),a};t.default=function(){return o.a.createElement(a.a,{accept:"image/*",onSuccess:function(e,t){return{name:"upload ".concat(t.name)}},limit:3,style:{width:300},request:l,renderResult:function(e){return e.name}},o.a.createElement(i.a,null,o.a.createElement(s.a,{name:"upload"})," Upload file"))}},1453:function(e,t){e.exports="/**\n * cn - 自定义上传\n *    -- 通过 request 函数，替代默认上传方法\n * en - Custom Request\n *    -- Set request property to use your own XMLHttpRequest.\n */\nimport React from 'react'\nimport { Upload, Button, TYPE } from 'shineout'\nimport FontAwesome from '../Icon/FontAwesome'\n\ntype ValueItem = { name: string }\ntype UploadProps = TYPE.Upload.Props<ValueItem>\n\nconst request: UploadProps['request'] = options => {\n  const { file, onLoad, onError, onProgress } = options\n  const xhr = new XMLHttpRequest()\n  xhr.open('post', '//jsonplaceholder.typicode.com/posts')\n\n  const data = new FormData()\n  data.append('test', file)\n  xhr.upload.onprogress = onProgress\n  xhr.onload = () => onLoad(xhr)\n  xhr.onerror = () => onError({ statusText: 'error message' })\n  xhr.send(data)\n\n  return xhr\n}\n\nconst App: React.FC = () => (\n  <Upload\n    accept=\"image/*\"\n    onSuccess={(_res, file) => ({ name: `upload ${file.name}` })}\n    limit={3}\n    style={{ width: 300 }}\n    request={request}\n    renderResult={d => d.name}\n  >\n    <Button>\n      <FontAwesome name=\"upload\" />\n      &nbsp;Upload file\n    </Button>\n  </Upload>\n)\n\nexport default App\n"},1454:function(e,t){e.exports="/**\n * cn - 自定义上传\n *    -- 通过 request 函数，替代默认上传方法\n * en - Custom Request\n *    -- Set request property to use your own XMLHttpRequest.\n */\nimport React from 'react';\nimport { Upload, Button } from 'shineout';\nimport FontAwesome from '../Icon/FontAwesome';\nconst request = options => {\n    const { file, onLoad, onError, onProgress } = options;\n    const xhr = new XMLHttpRequest();\n    xhr.open('post', '//jsonplaceholder.typicode.com/posts');\n    const data = new FormData();\n    data.append('test', file);\n    xhr.upload.onprogress = onProgress;\n    xhr.onload = () => onLoad(xhr);\n    xhr.onerror = () => onError({ statusText: 'error message' });\n    xhr.send(data);\n    return xhr;\n};\nconst App = () => (<Upload accept=\"image/*\" onSuccess={(_res, file) => ({ name: `upload ${file.name}` })} limit={3} style={{ width: 300 }} request={request} renderResult={d => d.name}>\n    <Button>\n      <FontAwesome name=\"upload\"/>\n      &nbsp;Upload file\n    </Button>\n  </Upload>);\nexport default App;\n"},1455:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(307),i=function(e){var t=e.file,n=e.onLoad,r=e.onError,o=new FileReader;o.addEventListener("load",function(){n({status:200,response:o.result})}),o.addEventListener("error",function(){r({statusText:"Oops, something went wrong"})}),o.readAsDataURL(t)};t.default=function(){return o.a.createElement(a.a.Image,{accept:"image/*",onSuccess:function(e,t){return{name:t.name,src:e}},request:i,renderResult:function(e){return e.src}})}},1456:function(e,t){e.exports="/**\n * cn -\n *    -- 使用 request 略过上传过程\n * en -\n *    -- ignore request with request\n */\nimport React from 'react'\nimport { TYPE, Upload } from 'shineout'\n\ntype ValueItem = { name: string; src: string }\ntype UploadProps = TYPE.Upload.Props<ValueItem>\nconst request: UploadProps['request'] = options => {\n  const { file, onLoad, onError } = options\n  const reader = new FileReader()\n  reader.addEventListener('load', () => {\n    onLoad({ status: 200, response: reader.result })\n  })\n  reader.addEventListener('error', () => {\n    onError({ statusText: 'Oops, something went wrong' })\n  })\n  reader.readAsDataURL(file)\n}\n\nconst App: React.FC = () => (\n  <Upload.Image\n    accept=\"image/*\"\n    onSuccess={(dataURL, file) => ({ name: file.name, src: dataURL })}\n    request={request}\n    renderResult={d => d.src}\n  />\n)\nexport default App\n"},1457:function(e,t){e.exports="/**\n * cn -\n *    -- 使用 request 略过上传过程\n * en -\n *    -- ignore request with request\n */\nimport React from 'react';\nimport { Upload } from 'shineout';\nconst request = options => {\n    const { file, onLoad, onError } = options;\n    const reader = new FileReader();\n    reader.addEventListener('load', () => {\n        onLoad({ status: 200, response: reader.result });\n    });\n    reader.addEventListener('error', () => {\n        onError({ statusText: 'Oops, something went wrong' });\n    });\n    reader.readAsDataURL(file);\n};\nconst App = () => (<Upload.Image accept=\"image/*\" onSuccess={(dataURL, file) => ({ name: file.name, src: dataURL })} request={request} renderResult={d => d.src}/>);\nexport default App;\n"},1458:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(307),i=n(68),s=n(185),l=function(e){var r=e.file,o=e.onLoad,a=e.onError,i=e.onProgress,s=new XMLHttpRequest;s.open("post","//jsonplaceholder.typicode.com/posts");var t=new window.JSZip;return t.file(r.name,r),t.generateInternalStream({type:"blob"}).accumulate(function(e){i(e,"zipping...")}).then(function(e){var t=new File([e],"".concat(r.name,".zip")),n=new FormData;n.append("file",t),s.upload.onprogress=function(e){return i(e,"sending...")},s.onload=function(){return o(s)},s.onerror=function(){return a({statusText:"error message"})},s.send(n)}),s};t.default=function(){return o.a.createElement(a.a,{onSuccess:function(e,t){return{name:"upload ".concat(t.name)}},limit:3,style:{width:300},request:l,renderResult:function(e){return e.name}},o.a.createElement(i.a,null,o.a.createElement(s.a,{name:"upload"}),"Upload file"))}},1459:function(e,t){e.exports="/**\n * cn -\n *    -- 此事例演示通过自定义函数压缩文件后上传\n * en -\n *    -- Zip file and upload.\n */\nimport React from 'react'\nimport { Upload, Button, TYPE } from 'shineout'\nimport FontAwesome from '../Icon/FontAwesome'\n\ntype ValueItem = { name: string }\ntype UploadProps = TYPE.Upload.Props<ValueItem>\nconst request: UploadProps['request'] = options => {\n  const { file, onLoad, onError, onProgress } = options\n\n  const xhr = new XMLHttpRequest()\n  xhr.open('post', '//jsonplaceholder.typicode.com/posts')\n\n  // @ts-ignore\n  const zip = new window.JSZip()\n  zip.file(file.name, file)\n  zip\n    .generateInternalStream({ type: 'blob' })\n    .accumulate((e: ProgressEvent) => {\n      onProgress(e, 'zipping...')\n    })\n    .then((content: Blob) => {\n      const zipFile = new File([content], `${file.name}.zip`)\n      const data = new FormData()\n      data.append('file', zipFile)\n      xhr.upload.onprogress = m => onProgress(m, 'sending...')\n      xhr.onload = () => onLoad(xhr)\n      xhr.onerror = () => onError({ statusText: 'error message' })\n      xhr.send(data)\n    })\n\n  return xhr\n}\n\nconst App: React.FC = () => (\n  <Upload\n    onSuccess={(_res, file) => ({ name: `upload ${file.name}` })}\n    limit={3}\n    style={{ width: 300 }}\n    request={request}\n    renderResult={d => d.name}\n  >\n    <Button>\n      <FontAwesome name=\"upload\" />\n      Upload file\n    </Button>\n  </Upload>\n)\nexport default App\n"},1460:function(e,t){e.exports="/**\n * cn -\n *    -- 此事例演示通过自定义函数压缩文件后上传\n * en -\n *    -- Zip file and upload.\n */\nimport React from 'react';\nimport { Upload, Button } from 'shineout';\nimport FontAwesome from '../Icon/FontAwesome';\nconst request = options => {\n    const { file, onLoad, onError, onProgress } = options;\n    const xhr = new XMLHttpRequest();\n    xhr.open('post', '//jsonplaceholder.typicode.com/posts');\n    // @ts-ignore\n    const zip = new window.JSZip();\n    zip.file(file.name, file);\n    zip\n        .generateInternalStream({ type: 'blob' })\n        .accumulate((e) => {\n        onProgress(e, 'zipping...');\n    })\n        .then((content) => {\n        const zipFile = new File([content], `${file.name}.zip`);\n        const data = new FormData();\n        data.append('file', zipFile);\n        xhr.upload.onprogress = m => onProgress(m, 'sending...');\n        xhr.onload = () => onLoad(xhr);\n        xhr.onerror = () => onError({ statusText: 'error message' });\n        xhr.send(data);\n    });\n    return xhr;\n};\nconst App = () => (<Upload onSuccess={(_res, file) => ({ name: `upload ${file.name}` })} limit={3} style={{ width: 300 }} request={request} renderResult={d => d.name}>\n    <Button>\n      <FontAwesome name=\"upload\"/>\n      Upload file\n    </Button>\n  </Upload>);\nexport default App;\n"},1461:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(307),i=n(68),s=n(185),l=[{name:"test file.png",url:"../../../images/1_s.jpg"}];t.default=function(){return o.a.createElement("div",null,o.a.createElement(a.a,{action:"//jsonplaceholder.typicode.com/posts",accept:"image/*",multiple:!0,limit:2,name:"file",onSuccess:function(e,t){return{name:t.name}},style:{width:300,marginBottom:30},defaultValue:l,renderResult:function(e){return e.name}},o.a.createElement(i.a,null,o.a.createElement(s.a,{name:"upload"}),"Upload file")),o.a.createElement("br",null),o.a.createElement(a.a.Image,{action:"//jsonplaceholder.typicode.com/posts",accept:"image/*",multiple:!0,name:"file",canDelete:function(e){return e.name!==l[0].name},recoverAble:!0,onSuccess:function(e,t,n){return{url:n}},renderResult:function(e){return e.url},defaultValue:l}))}},1462:function(e,t){e.exports='/**\n * cn - 默认值\n *    -- 默认值示例\n * en - defaultValue\n *    -- defaultValue example\n */\nimport React from \'react\'\nimport { Upload, Button } from \'shineout\'\nimport FontAwesome from \'../Icon/FontAwesome\'\n\nconst defaultValue = [\n  {\n    name: \'test file.png\',\n    url: \'../../../images/1_s.jpg\',\n  },\n]\nconst App: React.FC = () => (\n  <div>\n    <Upload\n      action="//jsonplaceholder.typicode.com/posts"\n      accept="image/*"\n      multiple\n      limit={2}\n      name="file"\n      onSuccess={(_res, file) => ({ name: file.name })}\n      style={{ width: 300, marginBottom: 30 }}\n      defaultValue={defaultValue}\n      renderResult={f => f.name}\n    >\n      <Button>\n        <FontAwesome name="upload" />\n        Upload file\n      </Button>\n    </Upload>\n    <br />\n    <Upload.Image\n      action="//jsonplaceholder.typicode.com/posts"\n      accept="image/*"\n      multiple\n      name="file"\n      canDelete={value => value.name !== defaultValue[0].name}\n      recoverAble\n      onSuccess={(_res, _file, data) => ({ url: data })}\n      renderResult={f => f.url}\n      defaultValue={defaultValue}\n    />\n  </div>\n)\n\nexport default App\n'},1463:function(e,t){e.exports='/**\n * cn - 默认值\n *    -- 默认值示例\n * en - defaultValue\n *    -- defaultValue example\n */\nimport React from \'react\';\nimport { Upload, Button } from \'shineout\';\nimport FontAwesome from \'../Icon/FontAwesome\';\nconst defaultValue = [\n    {\n        name: \'test file.png\',\n        url: \'../../../images/1_s.jpg\',\n    },\n];\nconst App = () => (<div>\n    <Upload action="//jsonplaceholder.typicode.com/posts" accept="image/*" multiple limit={2} name="file" onSuccess={(_res, file) => ({ name: file.name })} style={{ width: 300, marginBottom: 30 }} defaultValue={defaultValue} renderResult={f => f.name}>\n      <Button>\n        <FontAwesome name="upload"/>\n        Upload file\n      </Button>\n    </Upload>\n    <br />\n    <Upload.Image action="//jsonplaceholder.typicode.com/posts" accept="image/*" multiple name="file" canDelete={value => value.name !== defaultValue[0].name} recoverAble onSuccess={(_res, _file, data) => ({ url: data })} renderResult={f => f.url} defaultValue={defaultValue}/>\n  </div>);\nexport default App;\n'},1464:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(307),i=n(185),s={background:"#fafafa",textAlign:"center",width:"100%",padding:20},l=function(){return o.a.createElement(a.a.Image,{action:"//jsonplaceholder.typicode.com/posts",accept:"image/*",name:"file",onSuccess:function(e,t,n){return{data:n}},renderResult:function(e){return e.data},limit:3,onStart:function(e){return console.log(e)},width:250,drop:!0},o.a.createElement("div",{style:s},o.a.createElement(i.a,{style:{color:"#409dfd",fontSize:20},name:"image"}),o.a.createElement("p",null,"Click or Drag image to upload")))},c=function(){return o.a.createElement(a.a,{action:"//jsonplaceholder.typicode.com/posts",multiple:!0,name:"file",onSuccess:function(e,t){return t.name},limit:3,style:{width:400},drop:!0},o.a.createElement("div",{style:s},o.a.createElement(i.a,{style:{color:"#409dfd",fontSize:28},name:"archive"}),o.a.createElement("p",{style:{marginTop:14}},"Click or drag file to this area to upload")))};t.default=function(){return o.a.createElement("div",null,o.a.createElement(l,null),o.a.createElement("br",null),o.a.createElement(c,null))}},1465:function(e,t){e.exports="/**\n * cn - 拖拽上传\n *    -- 设置 drop 来支持拖拽上传\n * en - Drag and Drop\n *    -- set drop to Drag files to upload.\n */\nimport React from 'react'\nimport { Upload } from 'shineout'\nimport FontAwesome from '../Icon/FontAwesome'\n\nconst placholderStyle: React.CSSProperties = { background: '#fafafa', textAlign: 'center', width: '100%', padding: 20 }\n\nconst DraggerImage: React.FC = () => (\n  <Upload.Image\n    action=\"//jsonplaceholder.typicode.com/posts\"\n    accept=\"image/*\"\n    name=\"file\"\n    onSuccess={(_res, _file, data) => ({ data })}\n    renderResult={f => f.data}\n    limit={3}\n    onStart={f => console.log(f)}\n    width={250}\n    drop\n  >\n    <div style={placholderStyle}>\n      <FontAwesome style={{ color: '#409dfd', fontSize: 20 }} name=\"image\" />\n      <p>Click or Drag image to upload</p>\n    </div>\n  </Upload.Image>\n)\n\nconst DraggerFile: React.FC = () => (\n  <Upload\n    action=\"//jsonplaceholder.typicode.com/posts\"\n    multiple\n    name=\"file\"\n    onSuccess={(_res, file) => file.name}\n    limit={3}\n    style={{ width: 400 }}\n    drop\n  >\n    <div style={placholderStyle}>\n      <FontAwesome style={{ color: '#409dfd', fontSize: 28 }} name=\"archive\" />\n      <p style={{ marginTop: 14 }}>Click or drag file to this area to upload</p>\n    </div>\n  </Upload>\n)\n\nconst App: React.FC = () => (\n  <div>\n    <DraggerImage />\n    <br />\n    <DraggerFile />\n  </div>\n)\n\nexport default App\n"},1466:function(e,t){e.exports="/**\n * cn - 拖拽上传\n *    -- 设置 drop 来支持拖拽上传\n * en - Drag and Drop\n *    -- set drop to Drag files to upload.\n */\nimport React from 'react';\nimport { Upload } from 'shineout';\nimport FontAwesome from '../Icon/FontAwesome';\nconst placholderStyle = { background: '#fafafa', textAlign: 'center', width: '100%', padding: 20 };\nconst DraggerImage = () => (<Upload.Image action=\"//jsonplaceholder.typicode.com/posts\" accept=\"image/*\" name=\"file\" onSuccess={(_res, _file, data) => ({ data })} renderResult={f => f.data} limit={3} onStart={f => console.log(f)} width={250} drop>\n    <div style={placholderStyle}>\n      <FontAwesome style={{ color: '#409dfd', fontSize: 20 }} name=\"image\"/>\n      <p>Click or Drag image to upload</p>\n    </div>\n  </Upload.Image>);\nconst DraggerFile = () => (<Upload action=\"//jsonplaceholder.typicode.com/posts\" multiple name=\"file\" onSuccess={(_res, file) => file.name} limit={3} style={{ width: 400 }} drop>\n    <div style={placholderStyle}>\n      <FontAwesome style={{ color: '#409dfd', fontSize: 28 }} name=\"archive\"/>\n      <p style={{ marginTop: 14 }}>Click or drag file to this area to upload</p>\n    </div>\n  </Upload>);\nconst App = () => (<div>\n    <DraggerImage />\n    <br />\n    <DraggerFile />\n  </div>);\nexport default App;\n"},1467:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(255),i=n(307),s=n(68),l=n(185),c=0;t.default=function(){return o.a.createElement(a.a,null,o.a.createElement(a.a.Item,{tip:"hello world"},o.a.createElement(i.a,{rules:[{required:!0,message:"想啥呢，你没传文件！"}],action:"/upload-test",accept:"image/*",name:"file",validator:{customValidator:function(){if((c+=1)%2!=0)return new Error("错误")}},onSuccess:function(e,t){return t.name},onChange:function(e){console.log(e)},style:{width:300}},o.a.createElement(s.a,null,o.a.createElement(l.a,{name:"upload",style:{marginInlineEnd:4}}),"Upload file"))),o.a.createElement(a.a.Item,null,o.a.createElement(a.a.Submit,null,"Submit"),o.a.createElement(a.a.Reset,null,"Reset")))}},1468:function(e,t){e.exports="/**\n * cn - Tip不恢复问题\n *    -- 修复删除错误后Tip不恢复的问题\n */\nimport React from 'react'\nimport { Upload, Button, Form } from 'shineout'\nimport FontAwesome from '../Icon/FontAwesome'\n\nlet index = 0\nexport default () => (\n  <Form>\n    <Form.Item tip=\"hello world\">\n      <Upload\n        rules={[{ required: true, message: '想啥呢，你没传文件！' }]}\n        action=\"/upload-test\"\n        accept=\"image/*\"\n        name=\"file\"\n        validator={{\n          customValidator: () => {\n            index += 1\n            if (index % 2 !== 0) return new Error('错误')\n            return undefined\n          },\n        }}\n        onSuccess={(_res, file) => file.name}\n        onChange={v => {\n          console.log(v)\n        }}\n        style={{ width: 300 }}\n      >\n        <Button>\n          <FontAwesome name=\"upload\" style={{ marginInlineEnd: 4 }} />\n          Upload file\n        </Button>\n      </Upload>\n    </Form.Item>\n    <Form.Item>\n      <Form.Submit>Submit</Form.Submit>\n      <Form.Reset>Reset</Form.Reset>\n    </Form.Item>\n  </Form>\n)\n"},1469:function(e,t){e.exports="/**\n * cn - Tip不恢复问题\n *    -- 修复删除错误后Tip不恢复的问题\n */\nimport React from 'react';\nimport { Upload, Button, Form } from 'shineout';\nimport FontAwesome from '../Icon/FontAwesome';\nlet index = 0;\nexport default () => (<Form>\n    <Form.Item tip=\"hello world\">\n      <Upload rules={[{ required: true, message: '想啥呢，你没传文件！' }]} action=\"/upload-test\" accept=\"image/*\" name=\"file\" validator={{\n        customValidator: () => {\n            index += 1;\n            if (index % 2 !== 0)\n                return new Error('错误');\n            return undefined;\n        },\n    }} onSuccess={(_res, file) => file.name} onChange={v => {\n        console.log(v);\n    }} style={{ width: 300 }}>\n        <Button>\n          <FontAwesome name=\"upload\" style={{ marginInlineEnd: 4 }}/>\n          Upload file\n        </Button>\n      </Upload>\n    </Form.Item>\n    <Form.Item>\n      <Form.Submit>Submit</Form.Submit>\n      <Form.Reset>Reset</Form.Reset>\n    </Form.Item>\n  </Form>);\n"},300:function(e,t,n){"use strict";var r=n(0),v=n.n(r),o=n(14),g=n.n(o),a=(n(31),n(573)),i=n.n(a),s=n(8),y=Object(s.a)(i.a,"progress"),b=function(n){return n.from?[{pos:"0%",color:n.from},{pos:"100%",color:n.to}]:Object.keys(n).sort(function(e,t){return window.parseInt(e)-window.parseInt(t)}).reduce(function(e,t){return e.push({pos:t,color:n[t]}),e},[])},l=n(28),c=n(4),u=n(5),d=n(6),p=n(7),f=n(2),w=n(9);function m(r){return function(){var e,t=Object(f.a)(r);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(f.a)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Object(p.a)(this,e)}}var h=function(e){Object(d.a)(n,e);var t=m(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"getStyle",value:function(){var e,t=this.props.value,n=0;return n=t<=60?t/60*15:15*(1-t/100),e={},Object(l.a)(e,Object(w.b)()?"right":"left","".concat(t,"%")),Object(l.a)(e,"transform","translateX(".concat(Object(w.b)()?"50%":"-50%",") rotate(").concat(n,"deg)")),e}},{key:"render",value:function(){var e=this.props.children;return v.a.createElement("div",{className:y("popup"),style:this.getStyle()},v.a.createElement("span",{className:y("value")},e),v.a.createElement("span",{className:y("arrow")}))}}]),n}(v.a.Component);function R(e){var t=e.children,n=e.strokeWidth,r=e.type,o=e.value,a=e.color,i=e.style,s=e.background,l=e.popup,c=void 0!==t,u=l&&c,d=g()(y("line",r,u&&"line-popup",Object(w.b)()&&"rtl"),e.className),p={width:"".concat(o/100*100,"%"),borderRadius:n/2};return"string"==typeof a?(p.background=a,p.backgroundSize="1em 1em"):"object"==typeof a&&(p.background="linear-gradient(to right, ".concat(b(a).reduce(function(e,t){var n="".concat(t.color," ").concat(t.pos);return e?"".concat(e,",").concat(n):n},""),")")),v.a.createElement("div",{className:d,style:i},v.a.createElement("div",{className:y("background"),style:{height:n,background:s,borderRadius:n/2}},v.a.createElement("div",{className:y("front"),style:p})),c&&(l?v.a.createElement(h,Object.assign({},e,{value:o})):v.a.createElement("div",{className:y("content")},t)))}R.defaultProps={strokeWidth:8};var x=R;function j(e){var t=e.children,n=e.strokeWidth,r=e.type,o=e.color,a=e.size,i=e.value,s=e.background,l=e.strokeLinecap,c=g()(y("circle",r,Object(w.b)()&&"rtl"),e.className),u=100-Math.ceil(n/a*100),d=2*Math.PI*u,p=[d*(i/100),d*(1-i/100)],f=Object.assign({width:a,height:a},e.style),m=0===i&&"round"===l?0:2*n,h=o&&"object"==typeof o;return v.a.createElement("div",{className:c,style:f},v.a.createElement("svg",{viewBox:"0 0 200 200"},h?v.a.createElement("defs",null,v.a.createElement("linearGradient",{id:"progress-linear",x1:"50%",x2:"50%",y1:"0%",y2:"100%"},b(o).map(function(e){return v.a.createElement("stop",{key:e.pos,offset:e.pos,stopColor:e.color})}))):null,v.a.createElement("circle",{className:y("background"),cx:"100",cy:"100",r:u,strokeWidth:2*n,fill:"transparent",style:{stroke:s}}),v.a.createElement("circle",{className:y("front"),cx:"100",cy:"100",r:u,fill:"transparent",style:{stroke:h?"url('#progress-linear')":o},strokeDasharray:p,strokeLinecap:l,strokeWidth:m})),t&&v.a.createElement("div",{className:y("content")},t))}j.defaultProps={strokeLinecap:"round",strokeWidth:8,size:100};var E=j;function O(e){switch(e.shape){case"circle":return v.a.createElement(E,e);default:return v.a.createElement(x,e)}}O.defaultProps={shape:"line"},O.displayName="ShineoutProgress";t.a=O},302:function(e,t,n){"use strict";var r=n(4),o=n(5),a=n(6),i=n(7),s=n(2),l=n(0),c=n.n(l),u=n(14),d=n.n(u),p=(n(31),n(574)),f=n.n(p),m=n(8),h=Object(m.a)(f.a,"gap");function v(r){return function(){var e,t=Object(s.a)(r);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(s.a)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Object(i.a)(this,e)}}var g=function(){var e=document.createElement("div");e.style.display="flex",e.style.flexDirection="column",e.style.rowGap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),document.body.appendChild(e);var t=1===e.scrollHeight;return e.parentNode.removeChild(e),t}(),y=function(e){Object(a.a)(n,e);var t=v(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"getStyle",value:function(){var e=this.props,t=e.row,n=e.column,r=e.style,o=g?{rowGap:t,columnGap:n}:{marginBottom:-t};return Object.assign({},r,o)}},{key:"getItemStyle",value:function(e){var t=this.props,n=t.row,r=t.column,o=t.itemStyle,a=t.children;if(g)return o;var i=c.a.Children.count(a)-1===e;return Object.assign({},o,{marginBottom:n},!i&&{marginRight:r})}},{key:"render",value:function(){var n=this,e=this.props.children,t=d()(h("_"),this.props.className);return c.a.createElement("div",{className:t,style:this.getStyle()},c.a.Children.map(e,function(e,t){return e&&c.a.createElement("div",{className:h("item"),style:n.getItemStyle(t)},e)}))}}]),n}(l.PureComponent);y.defaultProps={row:8,column:8};t.a=y},303:function(e,t,n){"use strict";var r=n(0),p=n.n(r),o=n(46),a=n.n(o),f=n(110),i=n(4),s=n(5),l=n(1),c=n(6),u=n(7),d=n(2),m=n(41),h=n(17),v=n(123),g=n(22);function y(r){return function(){var e,t=Object(d.a)(r);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(d.a)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Object(u.a)(this,e)}}var b=function(e){Object(c.a)(r,e);var n=y(r);function r(e){var t;return Object(i.a)(this,r),(t=n.call(this,e)).state={messages:[]},t.removeMessage=t.removeMessage.bind(Object(l.a)(t)),t.handleClassName=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"top",t=1<arguments.length?arguments[1]:void 0;return Object(f.a)("item","item-".concat(t?"dismissed":"show","-").concat(e))},t.handleStyle=function(e,t,n){if(!e||null==t)return null;var r={};switch(n){case"bottom-right":case"bottom-left":break;default:r={zIndex:-1,opacity:0,marginTop:-t}}return r},t}return Object(s.a)(r,[{key:"addMessage",value:function(t){var e=this,n=Object(g.c)();return this.setState(Object(m.a)(function(e){e.messages.push(Object.assign({id:n},t))})),0<t.duration&&setTimeout(function(){e.setState(Object(m.a)(function(e){e.messages.forEach(function(e){e.id===n&&(e.dismiss=!0)})}))},1e3*t.duration),this.closeMessageForAnimation.bind(this,n,200,200)}},{key:"removeMessage",value:function(t){var n,e=this.state.messages.filter(function(e){return e.id!==t||(e.onClose&&(n=e.onClose),!1)});0===e.length?this.props.onDestory():this.setState({messages:e}),n&&n()}},{key:"closeMessageForAnimation",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=n[0],a=n[1],i=n[2];a?(this.setState(Object(m.a)(function(e){e.messages.forEach(function(e){e.id===o&&(e.dismiss=!0,e.h=i+20)})})),setTimeout(function(){e.removeMessage(o)},a)):this.removeMessage(o)}},{key:"closeEvent",value:function(e,t){if(0===t)return this.removeMessage.bind(this,e)}},{key:"render",value:function(){var d=this;return[this.state.messages.map(function(e){var t=e.id,n=e.type,r=e.content,o=e.dismiss,a=e.h,i=e.title,s=e.top,l=e.className,c=e.position,u=e.hideClose;return p.a.createElement("div",{key:t,className:"".concat(d.handleClassName(c,o)," ").concat(l),style:d.handleStyle(o,a,c)},p.a.createElement(v.a,{outAnimation:!0,className:Object(f.a)("msg"),dismiss:o,hideClose:u,onClose:d.closeMessageForAnimation.bind(d,t),icon:!0,iconSize:i?20:14,style:{top:s},type:n},i&&p.a.createElement("h3",null,i),r))})]}}]),r}(h.b);b.displayName="ShineoutMessage";var w=b,R={},x={};function j(e){if(R[e]){a.a.unmountComponentAtNode(R[e]);var t=R[e];t&&t.parentNode&&t.parentNode.removeChild(t),delete R[e]}x[e]&&delete x[e]}function E(o){return new Promise(function(t){var e,n,r=x[o];r?t(r):a.a.render(p.a.createElement(w,{ref:function(e){x[o]=e,t(e)},onDestory:j.bind(null,o)}),(e=o,(n=document.createElement("div")).className=Object(f.a)("_",e),document.body.appendChild(n),R[e]=n))})}var O={},S=function(f){return function(t,n,e){var r=Object.assign({},O,e);n=[n,O.duration,3].find(function(e){return"number"==typeof e});var o=r.onClose,a=r.position,i=void 0===a?"top":a,s=r.title,l=r.className,c=void 0===l?"":l,u=r.top,d=void 0===u?"auto":u,p=r.hideClose;return E(i).then(function(e){return e.addMessage({content:t,duration:n,type:f,onClose:o,title:s,className:c,top:d,position:i,hideClose:p})})}};t.a={show:S("default"),success:S("success"),info:S("info"),warn:S("warning"),warning:S("warning"),danger:S("danger"),error:S("danger"),close:function(e){e?j(e):["top","middle","top-left","top-right","bottom-left","bottom-right"].forEach(function(e){j(e)})},setOptions:function(e){O=e}}},307:function(e,t,n){"use strict";var r=n(60),h=n(12),o=n(570),v=n.n(o),a=n(572),i=n(4),s=n(5),l=n(1),c=n(6),u=n(7),d=n(2),p=n(0),S=n.n(p),f=n(14),k=n.n(f),b=n(41),U=n(302),m=n(17),g=n(22),y=n(43),w=(n(31),n(575)),R=n.n(w),x=n(8),C=Object(x.a)(R.a,"upload");var j=function(e){var t=e.url,n=e.name,r=(e.cors,e.file),o=e.onProgress,a=e.onLoad,i=e.onError,s=e.withCredentials,l=e.params,c=void 0===l?{}:l,u=e.headers,d=void 0===u?{}:u,p=e.onStart,f=e.responseType;if(t){var m=new FormData;Object.keys(c).forEach(function(e){m.append(e,c[e])}),m.append(n,r);var h,v,g,y=(h="post",v=t,"withCredentials"in(g=new XMLHttpRequest)?g.open(h,v,!0):"undefined"!=typeof XDomainRequest?(g=new XDomainRequest).open(h,v):g=null,g);return y.withCredentials=s,f&&(y.responseType=f),o&&y.upload.addEventListener("progress",o,!1),y.onload=function(e){return a(e.currentTarget)},y.onerror=i,Object.keys(d).forEach(function(e){y.setRequestHeader(e,d[e])}),p&&p(r),y.send(m),y}console.error(new Error("action is required, but its value is ".concat(t)))};function E(r){return function(){var e,t=Object(d.a)(r);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(d.a)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Object(u.a)(this,e)}}var O={display:"none"},F=function(e){Object(c.a)(r,e);var n=E(r);function r(e){var t;return Object(i.a)(this,r),(t=n.call(this,e)).locked=!1,t.bindElement=t.bindElement.bind(Object(l.a)(t)),t}return Object(s.a)(r,[{key:"bindElement",value:function(e){this.input=e}},{key:"click",value:function(){var e=this;this.locked||(this.locked=!0,this.input.value="",this.input.click(),setTimeout(function(){e.locked=!1},1e3))}},{key:"render",value:function(){var e=this.props,t=e.accept,n=e.onChange,r=e.multiple,o=e.webkitdirectory;return S.a.createElement("input",{ref:this.bindElement,accept:t,multiple:r,onChange:n,style:O,webkitdirectory:o,type:"file"})}}]),r}(p.PureComponent),A=n(300),T=n(51),I=n(53);function D(r){return function(){var e,t=Object(d.a)(r);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(d.a)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Object(u.a)(this,e)}}var P=S.a.createElement("span",{style:{display:"inline-block",marginRight:8}},S.a.createElement(T.a,{size:10,name:"ring"})),B=function(e){Object(c.a)(r,e);var n=D(r);function r(e){var t;return Object(i.a)(this,r),(t=n.call(this,e)).handleRemove=t.handleRemove.bind(Object(l.a)(t)),t}return Object(s.a)(r,[{key:"handleRemove",value:function(){this.props.onRemove(this.props.id)}},{key:"render",value:function(){var e=this.props,t=e.message,n=e.name,r=e.status,o=e.process,a=C("view-file",3===r&&"error");return S.a.createElement("div",{className:a},S.a.createElement("div",{className:C(Object(x.b)("text"))},1===r&&P," ",n," ",t&&S.a.createElement("span",null,"(",t,") ")),S.a.createElement("a",{className:C("delete"),onClick:this.handleRemove},I.a.Close),3!==r&&S.a.createElement(A.a,{className:C("progress"),background:0<=o?"#e9ecef":"transparent",value:o,strokeWidth:2}))}}]),r}(p.PureComponent),N=n(189);function L(r){return function(){var e,t=Object(d.a)(r);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(d.a)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Object(u.a)(this,e)}}var z=function(e){Object(c.a)(r,e);var n=L(r);function r(e){var t;return Object(i.a)(this,r),(t=n.call(this,e)).handleRemove=t.handleRemove.bind(Object(l.a)(t)),t}return Object(s.a)(r,[{key:"handleRemove",value:function(){this.props.onRemove(this.props.id)}},{key:"render",value:function(){var e=this.props,t=e.process,n=e.status,r=e.style,o=e.data,a=e.message,i=C("image-item",3===n&&"error");return S.a.createElement("div",{style:r,className:i},o&&S.a.createElement(N.a,{src:o,fit:"center",width:"auto",height:0,className:C("image-bg")}),a&&S.a.createElement("div",{className:C("message")},a),S.a.createElement("span",{className:C("delete"),onClick:this.handleRemove}),S.a.createElement("div",{className:C("progress-bg")},S.a.createElement(A.a,{className:C("progress"),color:"#f2f2f2",background:"rgba(0,0,0,0.5)",value:t,strokeWidth:2})))}}]),r}(p.PureComponent),V=n(91);function q(r){return function(){var e,t=Object(d.a)(r);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(d.a)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Object(u.a)(this,e)}}var _=function(e){Object(c.a)(r,e);var n=q(r);function r(e){var t;return Object(i.a)(this,r),(t=n.call(this,e)).state={visible:!1},t.handleRemoveConfirm=t.handleRemoveConfirm.bind(Object(l.a)(t)),t.handleRemoveLater=t.handleRemoveLater.bind(Object(l.a)(t)),t}return Object(s.a)(r,[{key:"handleRemoveConfirm",value:function(e){var t=this.props.onVisibleChange;t&&t(e),this.setState({visible:e})}},{key:"handleRemoveLater",value:function(){var t=this.props.onRemove;return new Promise(function(e){t&&t(),e()})}},{key:"render",value:function(){var e=this.state.visible,t=this.props.confirm;if(!t)return null;var n="object"==typeof t?t:{children:t};return S.a.createElement(V.a.Confirm,Object.assign({},n,{onOk:this.handleRemoveLater,visible:e,onVisibleChange:this.handleRemoveConfirm}))}}]),r}(m.a);function H(r){return function(){var e,t=Object(d.a)(r);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(d.a)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Object(u.a)(this,e)}}var M=function(e){Object(c.a)(r,e);var n=H(r);function r(e){var t;return Object(i.a)(this,r),(t=n.call(this,e)).state={confirm:!1},t.handleRemove=t.handleRemove.bind(Object(l.a)(t)),t.handleRecover=t.handleRecover.bind(Object(l.a)(t)),t.handleConfirmChange=t.handleConfirmChange.bind(Object(l.a)(t)),t}return Object(s.a)(r,[{key:"handleRemove",value:function(){this.props.onRemove(this.props.index)}},{key:"handleRecover",value:function(){var e=this.props,t=e.onRecover,n=e.value;t(e.index,n)}},{key:"handleConfirmChange",value:function(e){this.setState({confirm:e})}},{key:"render",value:function(){var e=this.state.confirm,t=this.props,n=t.renderResult,r=t.value,o=t.recoverAble,a=t.showRecover,i=t.removeConfirm,s=C("view-value",o&&"to-be-delete",e&&"view-active");return S.a.createElement("div",{className:s},S.a.createElement("div",{className:C(Object(x.b)("text"))},n(r)),this.props.onRemove&&S.a.createElement("a",{className:C("delete"),onClick:i?void 0:this.handleRemove},I.a.Close,S.a.createElement(_,{onVisibleChange:this.handleConfirmChange,confirm:i,onRemove:this.handleRemove})),a&&S.a.createElement("a",{className:C("recover"),onClick:this.handleRecover},I.a.Recovery))}}]),r}(p.PureComponent);M.defaultProps={renderResult:function(e){return e},recoverAble:!1};var K=M;function X(r){return function(){var e,t=Object(d.a)(r);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(d.a)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Object(u.a)(this,e)}}var G=function(e){Object(c.a)(r,e);var n=X(r);function r(e){var t;return Object(i.a)(this,r),(t=n.call(this,e)).state={confirm:!1},t.handleRemove=t.handleRemove.bind(Object(l.a)(t)),t.handleRecover=t.handleRecover.bind(Object(l.a)(t)),t.bindImage=t.bindImage.bind(Object(l.a)(t)),t.handlePreview=t.handlePreview.bind(Object(l.a)(t)),t.handleConfirmChange=t.handleConfirmChange.bind(Object(l.a)(t)),t.preview=t.preview.bind(Object(l.a)(t)),t}return Object(s.a)(r,[{key:"bindImage",value:function(e){this.image=e}},{key:"handleRemove",value:function(){this.props.onRemove(this.props.index)}},{key:"handleRecover",value:function(){var e=this.props,t=e.onRecover,n=e.value;t(e.index,n)}},{key:"handleConfirmChange",value:function(e){this.setState({confirm:e})}},{key:"preview",value:function(){this.image&&this.image.preview()}},{key:"handlePreview",value:function(){var e=this,t=this.props,n=t.onPreview,r=t.renderResult,o=t.value,a=t.index,i=t.values;n?n(r(o),o,a,i,{preview:function(){return e.preview()}}):this.preview()}},{key:"renderOptions",value:function(){var e=this.props.removeConfirm,t=this.state.confirm;return S.a.createElement("div",{className:C("image-options",t&&"image-active")},S.a.createElement("a",{className:C("options-item"),onClick:this.handlePreview},I.a.Preview),this.props.onRemove&&S.a.createElement("a",{className:C("options-item","options-remove"),onClick:e?void 0:this.handleRemove},I.a.Delete,S.a.createElement(_,{onVisibleChange:this.handleConfirmChange,onRemove:this.handleRemove,confirm:e})))}},{key:"render",value:function(){var e=this.props,t=e.value,n=e.renderResult,r=e.recoverAble,o=e.renderContent,a=e.style,i=e.showRecover,s=e.index,l=e.values,c=C("image-item","image-result",r&&"to-be-delete"),u=n(t);return S.a.createElement("div",{style:a,className:c},u&&(o?o(u,t,s,l):S.a.createElement(N.a,{ref:this.bindImage,src:u,href:u,fit:"center",width:"auto",height:0,className:C("image-bg")})),i&&S.a.createElement("a",{className:C("recover"),onClick:this.handleRecover},I.a.Recovery),this.showRemove&&S.a.createElement("span",{className:C("delete"),onClick:this.handleRemove}),!o&&this.renderOptions())}},{key:"showRemove",get:function(){var e=this.props,t=e.onRemove,n=e.renderContent;return t&&n}}]),r}(p.PureComponent);G.defaultProps={renderResult:function(e){return e}};var W=G,Y=n(38),J=Object(Y.a)(),Z=J.Provider,$=n(193);function Q(r){return function(){var e,t=Object(d.a)(r);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(d.a)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Object(u.a)(this,e)}}var ee=function(e){Object(c.a)(r,e);var n=Q(r);function r(e){var t;return Object(i.a)(this,r),(t=n.call(this,e)).state={drop:!1},t.handleDrag=t.handleDrag.bind(Object(l.a)(t)),t.handleFileDrop=t.handleFileDrop.bind(Object(l.a)(t)),t}return Object(s.a)(r,[{key:"handleFileDrop",value:function(e){var t=e.dataTransfer.files,n=this.props,r=n.accept,o=n.multiple,a=n.onDrop,i=n.dropData,s=r?Array.prototype.filter.call(t,function(e){return Object($.a)(e,r)}):t;s&&0!==s.length&&a&&a(o?s:[s[0]],i)}},{key:"handleDrag",value:function(e){this.props.disabled||(e.preventDefault(),e.stopPropagation(),this.setState({drop:"dragover"===e.type}),"drop"===e.type&&this.handleFileDrop(e))}},{key:"render",value:function(){var e=this.state.drop,t=this.props,n=t.children,r=t.className;return this.props.drop?S.a.createElement("span",{className:k()(r,C(e&&"drop")),onDragOver:this.handleDrag,onDragLeave:this.handleDrag,onDrop:this.handleDrag},n):n}}]),r}(S.a.Component);ee.defaultProps={drop:!1};var te=n(11),ne=n(36);function re(r){return function(){var e,t=Object(d.a)(r);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(d.a)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Object(u.a)(this,e)}}var oe=n(69),ae=n(9);function ie(r){return function(){var e,t=Object(d.a)(r);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(d.a)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Object(u.a)(this,e)}}var se=[{key:"size",param:function(e){return e.size}},{key:"ext",param:function(e){var t=e.name.split(".");return t[t.length-1]}},{key:"customValidator",param:function(e){return e}}],le=function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=e.apply(void 0,n);return o&&"function"==typeof o.then?o:new Promise(function(e,t){o instanceof Error&&t(o),e(!0)})},ce=function(e){Object(c.a)(o,e);var t,n,r=ie(o);function o(e){var t;return Object(i.a)(this,o),(t=r.call(this,e)).state={files:{},recycle:[]},t.addFile=t.addFile.bind(Object(l.a)(t)),t.bindElement=t.bindElement.bind(Object(l.a)(t)),t.handleAddClick=t.handleAddClick.bind(Object(l.a)(t)),t.removeFile=t.removeFile.bind(Object(l.a)(t)),t.removeValue=t.removeValue.bind(Object(l.a)(t)),t.recoverValue=t.recoverValue.bind(Object(l.a)(t)),t.validatorHandle=t.validatorHandle.bind(Object(l.a)(t)),t.useValidator=t.useValidator.bind(Object(l.a)(t)),t.handleFileDrop=t.handleFileDrop.bind(Object(l.a)(t)),t.handleReplace=t.handleReplace.bind(Object(l.a)(t)),e.validateHook(t.validate.bind(Object(l.a)(t))),t}return Object(s.a)(o,[{key:"getCanDelete",value:function(e,t){var n=this.props.canDelete;return Object(te.isFunc)(n)?n(e,t):n}},{key:"getAction",value:function(e){var t=this.props.action;return"string"==typeof t?t:"function"==typeof t?t(e):""}},{key:"validatorHandle",value:function(e,t){var n=this.props.validatorHandle;return"function"==typeof n?n(e,t):n}},{key:"bindElement",value:function(e){this.input=e}},{key:"handleAddClick",value:function(){this.props.disabled||this.input.click()}},{key:"validate",value:function(){var n=this.state.files;return new Promise(function(e,t){0<Object.keys(n).length&&t(new y.a("")),e(!0)})}},{key:"removeFile",value:function(t){var e=this.props,n=e.beforeCancel,r=e.onErrorRemove,o=this.state.files[t];n&&Object(te.isFunc)(n)&&n(o),o&&(o.xhr&&o.xhr.abort&&o.xhr.abort(),this.setState(Object(b.a)(function(e){delete e.files[t]}),function(){3===o.status&&r&&r(o.xhr,o.blob,o)}))}},{key:"removeValue",value:function(t){var n=this,e=this.props,r=e.recoverAble,o=e.disabled,a=e.beforeRemove;if(!o){var i=this.props.value[t];("function"==typeof a?a(i):Promise.resolve()).then(function(){n.setState(Object(b.a)(function(e){e.recycle.push(n.props.value[t]),"number"==typeof r&&e.recycle.length>r&&e.recycle.shift()}));var e=Object(b.a)(n.props.value,function(e){e.splice(t,1)});n.props.onChange(e)}).catch(function(){})}}},{key:"recoverValue",value:function(t,n){this.props.disabled||(this.props.onChange(Object(b.a)(this.props.value,function(e){e.push(n)})),this.setState(Object(b.a)(function(e){e.recycle.splice(t,1)})))}},{key:"useValidator",value:(n=Object(a.a)(v.a.mark(function e(t){var n,r,o,a,i,s,l,c,u;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props,r=n.validator,o=n.accept,a=n.forceAccept,i=n.forceAcceptErrorMsg,s=this.state.files,l=null,c=0,!a){e.next=8;break}if(Object($.a)(t,o)){e.next=8;break}return e.abrupt("return",new Error(i||Object(ne.a)("invalidAccept")));case 8:if(!se[c]){e.next=24;break}if("function"==typeof r[(u=se[c]).key])return e.prev=11,e.next=14,le(r[u.key],u.param(t),s);e.next=21;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(11),l=e.t0 instanceof Error?e.t0:new Error(e.t0);case 19:if(l instanceof Error)return e.abrupt("return",l);e.next=21;break;case 21:c+=1,e.next=8;break;case 24:return e.abrupt("return",null);case 25:case"end":return e.stop()}},e,this,[[11,16]])})),function(e){return n.apply(this,arguments)})},{key:"addFile",value:(t=Object(a.a)(v.a.mark(function e(t){var n,i,r,o,a,s,l,c,u,d,p,f,m=this;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props,i=n.beforeUpload,r=n.value,o=n.limit,a=n.filesFilter,s=Object(h.a)({},this.state.files),l=!1,c=t.fromDragger&&t.files?t.files:t.target.files,a&&(c=a(Array.from(c))||[]),(u=o-r.length-Object.keys(this.state.files).length)<=0)return e.abrupt("return");e.next=8;break;case 8:d=Array.from({length:Math.min(c.length,u)}),p=v.a.mark(function e(t){var n,r,o,a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=c[t],r=Object(g.c)(),o={name:n.name,process:-1,status:1,blob:n},s[r]=o,e.next=6,m.useValidator(n);case 6:if(!((a=e.sent)instanceof Error)){e.next=15;break}if(m.validatorHandle(a,o.blob)){e.next=11;break}return delete s[r],e.abrupt("return","continue");case 11:return o.message=a.message,o.status=3,i&&i(n,m.validatorHandle).then(function(t){l?m.setState(Object(b.a)(function(e){e.files[r]=Object.assign({},e.files[r],t)})):s[r]=Object.assign({},s[r],t)}).catch(function(){return!0}),e.abrupt("return","continue");case 15:i?i(n,m.validatorHandle).then(function(t){3!==t.status&&(s[r].xhr=m.uploadFile(r,n,t.data)),l?m.setState(Object(b.a)(function(e){e.files[r]=Object.assign({},e.files[r],t)})):s[r]=Object.assign({},s[r],t)}).catch(function(){l?m.setState(Object(b.a)(function(e){delete e.files[r]})):delete s[r]}):s[r].xhr=m.uploadFile(r,n);case 16:case"end":return e.stop()}},e)}),f=0;case 11:if(f<d.length)return e.delegateYield(p(f),"t0",13);e.next=19;break;case 13:if("continue"===e.t0)return e.abrupt("continue",16);e.next=16;break;case 16:f++,e.next=11;break;case 19:l=!0,this.setState({files:s});case 21:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"uploadFile",value:function(r,o,a){var i=this,e=this.props,s=e.onSuccess,t=e.name,n=e.htmlName,l=e.cors,c=e.params,u=e.withCredentials,d=e.headers,p=e.request,f=e.onProgress,m=e.onStart,h=e.responseType,v=p||j,g=!1,y={url:this.getAction(o),name:n||t,cors:l,params:c,withCredentials:u,file:o,headers:d,responseType:h,onStart:m,onProgress:function(e,t){var n="number"==typeof e.percent?e.percent:e.loaded/e.total*100;g||(g=!0,setTimeout(function(){g=!1},16),i.state.files[r]&&i.setState(Object(b.a)(function(e){e.files[r].process=n,t&&(e.files[r].message=t)}),function(){"function"==typeof f&&f(i.state.files[r])}))},onSuccess:s,onLoad:function(e){var t;if(/^2|1223/.test(e.status))if("text"!==e.responseType&&e.responseType||(t=e.responseText),t||(t=e.response),s&&(t=s(t,o,a,e)),t instanceof Error)i.setState(Object(b.a)(function(e){e.files[r].status=3,e.files[r].name=o.name,e.files[r].message=t.message}));else{i.setState(Object(b.a)(function(e){delete e.files[r]}));var n=Object(b.a)(i.props.value,function(e){e.push(t)});i.props.onChange(n)}else i.handleError(r,e,o)},onError:function(e){return i.handleError(r,e,o)}};return!1!==f&&null!==f||delete y.onProgress,v(y)}},{key:"handleFileDrop",value:function(e){this.addFile({files:e,fromDragger:!0})}},{key:"handleReplace",value:function(e,t){var n=this;this.removeValue(t),setTimeout(function(){n.addFile({files:e,fromDragger:!0})})}},{key:"handleError",value:function(t,e,n){var r=this.props,o=r.onError,a=r.onHttpError,i=e.statusText;o&&(i=o(e,n)),a&&(i=a(e,n)||i),this.setState(Object(b.a)(function(e){e.files[t]&&(e.files[t].status=3,e.files[t].message=i)}))}},{key:"renderHandle",value:function(){var e=this.props,t=e.limit,n=e.value,r=e.children,o=e.accept,a=e.multiple,i=e.disabled,s=e.webkitdirectory,l=e.drop,c=n.length+Object.keys(this.state.files).length;if(0<t&&t<=c)return null;var u={multiple:a,addFile:this.addFile,accept:o,disabled:i,limit:t};return S.a.createElement(ee,{drop:l,accept:o,disabled:i,onDrop:this.handleFileDrop,multiple:a||1<t},S.a.createElement("span",{className:C("handle",i&&"disabled"),onClick:this.handleAddClick},S.a.createElement(Z,{value:u},r),S.a.createElement(F,{webkitdirectory:s,accept:o,ref:this.bindElement,multiple:a,onChange:this.addFile})))}},{key:"render",value:function(){var n=this,e=this.props,r=e.limit,o=e.value,a=e.renderResult,t=e.style,i=e.imageStyle,s=e.recoverAble,l=e.showUploadList,c=e.customResult,u=e.disabled,d=e.renderContent,p=e.accept,f=e.drop,m=e.leftHandler,h=e.onPreview,v=e.removeConfirm,g=e.GapProps,y=this.state,b=y.files,w=y.recycle,R=f&&!i,x=k()(C("_",Object(ae.b)()&&"rtl",u&&"disabled",!1===l&&"hide-list",R&&"file-drop"),this.props.className),j=i?z:B,E=i?W:K;if(c)return S.a.createElement("div",{className:x,style:t},this.renderHandle(),S.a.createElement(c,{value:o,files:b,onValueRemove:this.removeValue,onFileRemove:this.removeFile}));var O=i?U.a:S.a.Fragment;return S.a.createElement("div",Object.assign({className:x,style:t},Object(oe.a)(this.props)),S.a.createElement(O,i?g:null,!i&&this.renderHandle(),i&&m&&this.renderHandle(),l&&o.map(function(e,t){return S.a.createElement(ee,{drop:f,multiple:!1,key:t,accept:p,dropData:t,disabled:u,onDrop:n.handleReplace},S.a.createElement(E,{renderContent:d,value:e,values:o,index:t,style:i,renderResult:a,onRemove:n.getCanDelete(e,t)?n.removeValue:void 0,removeConfirm:v,onPreview:h}))}),l&&Object.keys(b).map(function(e){return S.a.createElement(j,Object.assign({},b[e],{key:e,id:e,style:i,onRemove:n.removeFile}))}),i&&!m&&this.renderHandle(),s&&w.map(function(e,t){return S.a.createElement(E,{renderContent:d,key:t,value:e,values:w,index:t,renderResult:a,recoverAble:!!s,showRecover:s&&r>o.length,onRecover:n.recoverValue,style:i})})))}}]),o}(m.b);ce.defaultProps={cors:!1,limit:100,recoverAble:!1,validator:{},value:[],withCredentials:!1,showUploadList:!0,validatorHandle:!0,canDelete:!0,GapProps:{column:12,row:12}};var ue,de=(ue=ce,function(e){Object(c.a)(n,e);var t=re(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.forceAccept,n=e.accept;return S.a.createElement(ue,Object.assign({},this.props,{accept:t||n,forceAccept:!!t}))}}]),n}(S.a.PureComponent)),pe=n(15);function fe(r){return function(){var e,t=Object(d.a)(r);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(d.a)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Object(u.a)(this,e)}}var me=function(e){var t=e.className,n=e.disabled,r=e.urlInvalid,o=e.children,a=e.style,i=e.width,s=e.height,l=Object(pe.a)(e,["className","disabled","urlInvalid","children","style","width","height"]),c=k()(C("image-plus","image-item",n&&"disabled",r&&"url-invalid-border"),t),u=Object.assign({},{width:i,height:s},a);return S.a.createElement("div",Object.assign({},l,{style:u,tabIndex:n?-1:0,className:c}),o||S.a.createElement("div",{className:C("indicator",r&&"url-invalid-indicator")}))};me.defaultProps={width:80,height:80};var he=function(e){Object(c.a)(r,e);var n=fe(r);function r(e){var t;return Object(i.a)(this,r),(t=n.call(this,e)).beforeUpload=t.beforeUpload.bind(Object(l.a)(t)),t.handleMouseDown=t.handleMouseDown.bind(Object(l.a)(t)),t.handleKeyDown=t.handleKeyDown.bind(Object(l.a)(t)),t.state={urlInvalid:!1},t.timeout=null,t}return Object(s.a)(r,[{key:"beforeUpload",value:function(s,l){var c=this;return new Promise(function(r,o){var a=c.props.validator.imageSize,i={},e=new FileReader;e.onload=function(e){var t=e.target.result;i.data=t;var n=new window.Image;n.onerror=function(){c.setState(Object(b.a)(function(e){e.urlInvalid=!0})),o()},n.onload=function(){if(a){var e=a(n);e instanceof Error&&(l(e,s)||o(),i.status=3,i.message=e.message),r(i)}else r(i)},n.src=t},e.readAsDataURL(s)})}},{key:"handleKeyDown",value:function(e){this.setState({urlInvalid:!1}),13===e.keyCode&&e.target.click()}},{key:"handleMouseDown",value:function(){this.setState({urlInvalid:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.width,o=t.height,a=t.ignorePreview,i=Object(pe.a)(t,["children","width","height","ignorePreview"]),s=this.state.urlInvalid;s&&(clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.setState({urlInvalid:!1})},3e3));var l={width:r,height:o};return S.a.createElement(de,Object.assign({},i,{imageStyle:l,beforeUpload:a?void 0:this.beforeUpload}),S.a.createElement(me,{disabled:this.props.disabled,style:l,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,urlInvalid:s},n),s&&S.a.createElement("div",{style:{width:"100%",position:"relative"}},S.a.createElement("div",{className:C("url-invalid-message")},Object(ne.a)("urlInvalidMsg"))))}}]),r}(p.PureComponent);he.defaultProps={accept:"image/*",height:80,validator:{},width:80};var ve=he,ge=n(28),ye=n(68);function be(r){return function(){var e,t=Object(d.a)(r);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(d.a)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Object(u.a)(this,e)}}var we=function(e){13===e.keyCode&&e.target.click()},Re=function(e){Object(c.a)(r,e);var n=be(r);function r(e){var t;return Object(i.a)(this,r),(t=n.call(this,e)).state={progress:-1},t.handleError=t.handleError.bind(Object(l.a)(t)),t.handleSuccess=t.handleSuccess.bind(Object(l.a)(t)),t.handleProgress=t.handleProgress.bind(Object(l.a)(t)),t.handleStart=t.handleChange.bind(Object(l.a)(t),0),t.handleOver=t.handleChange.bind(Object(l.a)(t),-1),t.handleUpload=t.handleUpload.bind(Object(l.a)(t)),t}return Object(s.a)(r,[{key:"handleChange",value:function(e){this.setState({progress:e})}},{key:"handleProgress",value:function(e){this.handleChange(e.process)}},{key:"handleError",value:function(e){var t=this.props.onError;t&&t(e),this.handleOver()}},{key:"handleSuccess",value:function(){var e=this.props.onSuccess;e&&e.apply(void 0,arguments),this.handleOver()}},{key:"handleUpload",value:function(e){0<=this.state.progress&&e.stopPropagation()}},{key:"renderLoadingView",value:function(e){var t,n=this.props,r=n.placeholder,o=n.loading;return Object(p.isValidElement)(o)?S.a.createElement("span",null,o):S.a.createElement("span",null,(t=e,S.a.createElement("span",{className:C("bg-spin")},S.a.createElement(T.a,{size:10,name:"ring",color:t}))),"string"==typeof o?o:r)}},{key:"render",value:function(){var e=this.props,t=e.placeholder,n=e.type,r=e.size,o=e.outline,a=Object(pe.a)(e,["placeholder","type","size","outline"]),i=0<=this.state.progress,s=Object(ge.a)({},Object(ae.b)()?"left":"right",i?"".concat(100-this.state.progress,"%"):"100%");return S.a.createElement(de,Object.assign({},a,{limit:void 0,onProgress:this.handleProgress,onStart:this.handleStart,showUploadList:!1,onError:this.handleError,onSuccess:this.handleSuccess}),S.a.createElement(ye.a,{tabIndex:a.disabled?-1:0,disabled:a.disabled,className:C("button",i&&"uploading"),type:n,size:r,outline:o,onClick:this.handleUpload,onKeyDown:we},i&&[S.a.createElement("div",{key:"cover",className:C("cover")}),S.a.createElement("div",{key:"bg",style:s,className:C("bg")},this.renderLoadingView("#fff"))],S.a.createElement("span",null,i?this.renderLoadingView():t)))}}]),r}(m.b);Re.defaultProps={type:"primary",size:"default",outline:!1};var xe=Re;function je(r){return function(){var e,t=Object(d.a)(r);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(d.a)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Object(u.a)(this,e)}}var Ee,Oe=function(e){Object(c.a)(r,e);var n=je(r);function r(e){var t;return Object(i.a)(this,r),(t=n.call(this,e)).handleDrop=t.handleDrop.bind(Object(l.a)(t)),t}return Object(s.a)(r,[{key:"getMatchedFile",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=this.props.accept;return Array.prototype.slice.call(e).filter(function(e){return Object($.a)(e,t)})}},{key:"handleDrop",value:function(e){(0,this.props.addFile)({files:e,fromDragger:!0})}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.disabled,r=e.multiple,o=e.limit,a=e.accept;return S.a.createElement(ee,{className:C("dragger-wrapper"),drop:!0,disabled:n,multiple:r||1<o,accept:a,onDrop:this.handleDrop},S.a.createElement("div",{className:C("dragger-area",n&&"disabled")},t))}}]),r}(m.b),Se=Object(r.a)(de);Se.Image=Object(r.a)(ve),Se.ImageHandler=me,Se.Button=Object(r.a)(xe),Se.Dragger=(Ee=Oe,function(t){return S.a.createElement(J.Consumer,null,function(e){return S.a.createElement(Ee,Object.assign({},t,e))})}),Se.displayName="ShineoutUpload",Se.Image.displayName="ShineoutImageUpload",Se.Button.displayName="ShineoutButtonUpload",Se.Dragger.displayName="ShineoutDraggerUpload";t.a=Se},570:function(e,t,n){e.exports=n(571)},571:function(e,t,n){var r=function(i){"use strict";var l,e=Object.prototype,u=e.hasOwnProperty,t="function"==typeof Symbol?Symbol:{},o=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",r=t.toStringTag||"@@toStringTag";function a(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{a({},"")}catch(e){a=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a,i,s,l,o=t&&t.prototype instanceof g?t:g,c=Object.create(o.prototype),u=new U(r||[]);return c._invoke=(a=e,i=n,s=u,l=p,function(e,t){if(l===m)throw new Error("Generator is already running");if(l===h){if("throw"===e)throw t;return F()}for(s.method=e,s.arg=t;;){var n=s.delegate;if(n){var r=O(n,s);if(r){if(r===v)continue;return r}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(l===p)throw l=h,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);l=m;var o=d(a,i,s);if("normal"===o.type){if(l=s.done?h:f,o.arg===v)continue;return{value:o.arg,done:s.done}}"throw"===o.type&&(l=h,s.method="throw",s.arg=o.arg)}}),c}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}i.wrap=s;var p="suspendedStart",f="suspendedYield",m="executing",h="completed",v={};function g(){}function c(){}function y(){}var b={};b[o]=function(){return this};var w=Object.getPrototypeOf,R=w&&w(w(C([])));R&&R!==e&&u.call(R,o)&&(b=R);var x=y.prototype=g.prototype=Object.create(b);function j(e){["next","throw","return"].forEach(function(t){a(e,t,function(e){return this._invoke(t,e)})})}function E(l,c){var t;this._invoke=function(n,r){function e(){return new c(function(e,t){!function t(e,n,r,o){var a=d(l[e],l,n);if("throw"!==a.type){var i=a.arg,s=i.value;return s&&"object"==typeof s&&u.call(s,"__await")?c.resolve(s.__await).then(function(e){t("next",e,r,o)},function(e){t("throw",e,r,o)}):c.resolve(s).then(function(e){i.value=e,r(i)},function(e){return t("throw",e,r,o)})}o(a.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}}function O(e,t){var n=e.iterator[t.method];if(n===l){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=l,O(e,t),"throw"===t.method))return v;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var r=d(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,v;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=l),t.delegate=null,v):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function U(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function C(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(u.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=l,e.done=!0,e};return r.next=r}}return{next:F}}function F(){return{value:l,done:!0}}return c.prototype=x.constructor=y,(y.constructor=c).displayName=a(y,r,"GeneratorFunction"),i.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===c||"GeneratorFunction"===(t.displayName||t.name))},i.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,a(e,r,"GeneratorFunction")),e.prototype=Object.create(x),e},i.awrap=function(e){return{__await:e}},j(E.prototype),E.prototype[n]=function(){return this},i.AsyncIterator=E,i.async=function(e,t,n,r,o){void 0===o&&(o=Promise);var a=new E(s(e,t,n,r),o);return i.isGeneratorFunction(t)?a:a.next().then(function(e){return e.done?e.value:a.next()})},j(x),a(x,r,"Generator"),x[o]=function(){return this},x.toString=function(){return"[object Generator]"},i.keys=function(n){var r=[];for(var e in n)r.push(e);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},i.values=C,U.prototype={constructor:U,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=l,this.done=!1,this.delegate=null,this.method="next",this.arg=l,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&u.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=l)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return a.type="throw",a.arg=n,r.next=e,t&&(r.method="next",r.arg=l),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var o=this.tryEntries[t],a=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var i=u.call(o,"catchLoc"),s=u.call(o,"finallyLoc");if(i&&s){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&u.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=l),v}},i}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},572:function(e,t,n){"use strict";function l(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function r(s){return function(){var e=this,i=arguments;return new Promise(function(t,n){var r=s.apply(e,i);function o(e){l(r,t,n,o,a,"next",e)}function a(e){l(r,t,n,o,a,"throw",e)}o(void 0)})}}n.d(t,"a",function(){return r})},573:function(e,t){},574:function(e,t){},575:function(e,t){}}]);