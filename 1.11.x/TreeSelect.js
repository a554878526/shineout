(window.webpackJsonpShineoutDoc=window.webpackJsonpShineoutDoc||[]).push([[53],{1385:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),l=n(563),r=n(564),d=n(40),o=n(1386),s=n.n(o),c=n(1387),u=n.n(c),h=Object(d.b)(s.a,u.a),p=[{name:"01-base",isTs:!0,isTest:!1,title:Object(d.b)("基本用法 \n 基础的TreeSelect用法。","Base \n Basic usage of TreeSelect."),component:n(1388).default,rawText:n(1389),parseTsText:n(1390)},{name:"02-mutiple",isTs:!0,isTest:!1,title:Object(d.b)("多选 \n 通过设置 multiple 来实现多选。","Multiple \n Set multiple to Multiple choices."),component:n(1391).default,rawText:n(1392),parseTsText:n(1393)},{name:"03-filter",isTs:!0,isTest:!1,title:Object(d.b)("筛选 \n onFilter 返回函数时，使用这个函数做前端过滤。","Filter \n OnFilter is a function to filter data."),component:n(1394).default,rawText:n(1395),parseTsText:n(1396)},{name:"03-h-advanced-filter",isTs:!0,isTest:!1,title:Object(d.b)("高级筛选 \n 高级筛选模式下，可针对当前层级在筛选结果和原始数据间切换 \n 设置 onAdvancedFilter 属性开启高级筛选，仅支持前端筛选","Advanced Filter \n In the advanced filter mode, you can switch between the filter results and the original data for the current level by pressing the button \n Set the onAdvancedFilter property to enable advanced filtering, only front-end filtering is supported"),component:n(1397).default,rawText:n(1398),parseTsText:n(1399)},{name:"04-disabled",isTs:!0,isTest:!1,title:Object(d.b)("禁用 \n 设置 disabled 禁用选项","Disabled \n Set disabled to disabled item."),component:n(1400).default,rawText:n(1401),parseTsText:n(1402)},{name:"05-loader",isTs:!0,isTest:!1,title:Object(d.b)("动态加载 \n 数据过大，需要动态加载时，可以设置 loader 函数，当展开未定义 children（undefined）的节点时，触发此函数。","Lazy load \n Set the loader function to dynamic fetch data. This function is triggered when the undefined child node is expanded."),component:n(1403).default,rawText:n(1404),parseTsText:n(1405)},{name:"06-innertitle",isTs:!0,isTest:!1,title:Object(d.b)("内嵌标题 \n 使用 innerTitle 展示内嵌标题","inner title \n use innerTitle to display the inner title"),component:n(1406).default,rawText:n(1407),parseTsText:n(1408)},{name:"07-componentref",isTs:!0,isTest:!1,title:Object(d.b)("组件方法 \n 通过 getComponentRef 获取一些组件方法目前支持 getDataByValues","Component method \n Get some component methods through getComponentRef currently support getDataByValues"),component:n(1409).default,rawText:n(1410),parseTsText:n(1411)}];t.default=Object(l.a)(function(e){return a.a.createElement(r.b,Object.assign({},e,{codes:void 0,source:h,examples:p}))})},1386:function(e,t){e.exports="# TreeSelect *树选择*\n\nTreeSelect 用来选择树形数据结构，若需要非关联树形结构选择可使用 [Select(treeData)](/components/Select)\n\n<example />\n\n## API\n\n| 属性 | 类型 | 默认值 | 说明 |\n| --- | --- | --- | --- |\n| width | number | 无 | 宽度 |\n| clearable | boolean | false | 是否可清除值 |\n| multiple | boolean | false | 是否是多选 |\n| data | any[] | [] | 数据，子节点为children，如果 children 值为 null 或 长度为 0 时，视为叶子节点 |\n| value | string \\| string[] | 无 | 选中的 key （受控），多选时必须为array |\n| defaultValue | string \\| string[] | 无 | 初始值，多选时必须为array |\n| defaultExpanded | string[] | 无 | 默认展开的节点 key（非受控） |\n| disabled | (data: object) => boolean \\| boolean | false | 为 true 时，所有节点禁用选择，为函数时，根据函数返回结果确定是否禁用 |\n| filterDelay | number | 400 | 毫秒。用户输入触发 fitler 事件的延时 |\n| name | string | 无 | Form 存取数据的名称 |\n| keygen | （(data: object) => string） \\| string \\| true | 必填 | 生成每一项key的辅助方法<br />为 true 时，以数据项本身作为key，相当于 (d => d)<br />为函数时，使用此函数返回值<br />为string时，使用这个string对应的数据值。如 'id'，相当于 (d => d.id) |\n| expanded | string[] | 无 | 展开的节点 key （受控） |\n| loader | (key: string) => void | 无 | 设置loader属性后，未定义children的节点视为动态加载节点，点击展开触发 loader事件，children 为 null 或者长度为 0 视为叶子节点 |\n| mode | 0 \\| 1 \\| 2 \\| 3 \\| 4 | 1 | 选中值模式<br />0: 只返回完全选中的节点，包含父节点<br />1: 返回全部选中的节点和半选中的父节点<br />2: 只返回选中的子节点<br />3: 如果父节点选中，只返回父节点<br />4: 所选即所得 |\n| onExpand | (expanded: string[]) => void | 无 | 节点展开回调，参数为当前展开节点 key 数组 |\n| onChange | (value: string[]) => void | 无 | 参数 为 当前选中值 |\n| onFilter | (text: string) => (data: any) => boolean | 无 | onFilter 不为空时，可以输入过滤数据<br />onFilter 如果返回一个函数，使用这个函数做前端过滤<br />如果不返回，可以自行做后端过滤 |\n| renderItem | (data: object) => ReactNode | 必填 | 为 string 时，返回 d\\[string]<br />为 function 时，返回函数结果 |\n| renderResult | (data: object) => ReactNode | renderItem | 选中后在结果中显示的内容，默认和 renderItem 相同 |\n| compressed | boolean | false | 将选中值合并，只在多选模式下有效；为'no-repeat'时弹出框中不重复展示值 |\n| absolute | boolean \\| (() => element) | false | 为 true 时，选项弹出层在 BODY 下独立 render， 为函数时 选项弹出层在函数返回的 DOM 下render  |\n| zIndex | number | 1000 | 选项列表 z-index 值 |\n| childrenKey | string | 'children' | 指定子数据的属性名 |\n| defaultExpandAll | boolean | false | 默认全部展开节点 |\n| showHitDescendants | boolean | false | 筛选后是否展示命中节点的后代节点 |\n| renderUnmatched | (data: any) => ReactNode | 无 | \b渲染未匹配值的方式\b |\n| onCollapse | (collapse: boolean) => void | 无 | 下拉列表展开/收起回调 |\n| rules | any[] | 无 | 校验规则 |\n| unmatch | boolean | true | 是否展示data中不存在的值 |\n| underline | boolean | false | 是否只展示下边框 |\n| onAdvancedFilter | (text: string) => (data: any) => boolean | 无 | 高级筛选模式，可针对当前层级在筛选结果和原始数据间切换 |\n| filterSameChange | boolean | false | 过滤掉具有相同值的onChange回调 |\n| innerTitle | string | - | 内嵌标题 |\n| onChangeAddition | ({data, current, checked}) => void       | 无 | onChange 额外参数 (current 为点击的节点的数据， data为当前选中的数据， checked为多选状态下是选中还是取消) |\n| parentClickExpand | boolean | 无 | 点击父节点后展开节点 |\n| getComponentRef | (componentRef: any => void) | 无 | 绑定组件的引用，可以调用某些组件方法 |\n\n### ComponentRef\n| 属性 | 类型 | 默认值 | 说明 | 版本 |\n| --- | --- | --- | --- | --- |\n| getDataByValues | (value: any[]) => any[] | - | 获取 value 对应的 data | 1.11.0 |\n\n\n\n"},1387:function(e,t){e.exports="# TreeSelect\n\n<example />\n\n## API\n\n| Property | Type | Default | Description |\n| --- | --- | --- | --- |\n| width | number | - | width |\n| clearable | boolean | false | If clearable is true, show clear value icon |\n| multiple | boolean | false | if it is true, it will be multiple selection |\n| data | any[] | [] | data. The child node is children. If the children value is null or its length is 0, it is render as a leaf node. |\n| value | string \\| string[] | | In the Form, the value will be taken over by the form and the value will be invalid. |\n| defaultValue | string \\| string[] | | Initial value |\n| defaultExpanded | string[] | - | Default expanded node key. |\n| disabled | (data: object) => boolean \\| boolean | false | When it is true, all nodes disable the selection; when it is a function, it determines whether it is disabled according to the return result of the function. |\n| filterDelay | number | 400 | ms. The delay of user input triggering filter events |\n| name | string | - | The name of a Form that accesses data |\n| keygen | ((data: object) => string) \\| string \\| true | index | Generate a auxiliary method for each key<br />If not filled, index will be used(not recommended,there may be problems with more than 10 data)<br />When it is a function, use its return value.<br />When it is a string，ues the value of the string.For example, 'id' is the same thing as (d) => d.id. |\n| expanded | string[] | - | Expanded node key (controlled) |\n| loader | (key: string) => void | - | If the loader attribute is a function, the node with no children is regarded as dynamically loaded node. Click expanded button to trigger the loader event. The children property is null or its length is 0 will be regarded as a leaf node. |\n| mode | 0 \\| 1 \\| 2 \\| 3 \\| 4 | 1 | mode <br />0: Returns only the fully selected node including the parent node. <br />1: Returns all selected nodes and semi-selected nodes. <br />2: Return only the selected child nodes. <br />3: If the parent node is full selected, only return the parent node.<br />4: What you choose is what you get. |\n| onExpand | (expanded: string[]) => void | - | The callback function for expanding the node. The parameter is the key array of the currently expanded nodes. |\n| onChange | (value: string[]) => void | - | value is your picker now |\n| onFilter | (text: string) => (data: any) => boolean | - | When the onFilter is not empty, you can filter data by input.<br />If the onFilter returns a function, use this function as a front-end filter.<br />If return undefined, you can do your own backend filtering. |\n| renderItem | (data: object) => ReactNode | required | When it is a string, return d\\[string]<br />When it is a function, return the result of the function. |\n| renderResult | (data: object) => ReactNode | renderItem | The content displayed in the result after selecting, if not set, use renderItem |\n| compressed | boolean \\| 'no-repeat' | false | Merges selected values, valid only in multiselect mode; the repeat value will not appear in the Popover when it is'no-repeat'. |\n| absolute | boolean \\| (() => element) | false | When it is true, the pop-up layer of option append into document.body. When it is function, the pop-up layer of option append into it's return DOM.  |\n| zIndex | number | 1000 | options z-index |\n| childrenKey | string | 'children' | the key of the children data name |\n| defaultExpandAll | boolean | false | default expand all node |\n| showHitDescendants | boolean | false | Whether to show the descendant nodes of the hit node after filtering |\n| renderUnmatched | (data: any) => ReactNode | none | render unmatched value |\n| onCollapse | (collapse: boolean) => void | none | option collapse callback |\n| rules | any[] | - | Validation rules |\n| unmatch | boolean | true | render unmatch value |\n| underline | boolean | false | only display border bottom  |\n| onAdvancedFilter | (text: string) => (data: any) => boolean | - | In the advanced filter mode, you can switch between the filter results and the original data for the current level by pressing the button |\n| filterSameChange | boolean | false | filter out value change callbacks with the same value |\n| innerTitle | string | - | inner title |\n| onChangeAddition | ({data, current, checked}) => void | - | \\onChange additional parameters (current is the data of the clicked node, data is the currently selected data, checked is whether it is selected or canceled in the multi-select state)  |\n| parentClickExpand | boolean | - | Click on the parent node to expand the node |\n| getComponentRef | (componentRef: any => void) | - | A reference to a bound component, which can call certain component methods |\n\n### ComponentRef\n| Property | Type | Default | Description | Version |\n| --- | --- | --- | --- | --- |\n| getDataByValues | (value: any[]) => any[] | - | Get the data corresponding to the value | 1.11.0 |\n"},1388:function(e,t,n){"use strict";n.r(t);var a=n(24),i=n(0),l=n.n(i),r=n(323),d=[{id:"1",title:"1",children:[{id:"1-1",title:"1-1",children:[{id:"1-1-1",title:"1-1-1"},{id:"1-1-2",title:"1-1-2"}]},{id:"1-2",title:"1-2"}]},{id:"2",title:"2",children:[{id:"2-1",title:"2-1"},{id:"2-2",title:"2-2"}]},{id:"3",title:"3",children:[{id:"3-1",title:"3-1"}]}];t.default=function(){var e=l.a.useState(""),t=Object(a.a)(e,2),n=t[0],i=t[1];return l.a.createElement(r.a,{value:n,onChange:function(e){i(e)},clearable:!0,style:{width:250},keygen:"id",renderItem:function(e){return"node ".concat(e.title)},data:d})}},1389:function(e,t){e.exports="/**\n * cn - 基本用法\n *    -- 基础的TreeSelect用法。\n * en - Base\n *    -- Basic usage of TreeSelect.\n */\nimport React from 'react'\nimport { TreeSelect, TYPE } from 'shineout'\n\ninterface DataItem {\n  id: string\n  title: string\n  children?: DataItem[]\n}\ntype TreeSelectProps = TYPE.TreeSelect.Props<DataItem, string>\n\nconst data: TreeSelectProps['data'] = [\n  {\n    id: '1',\n    title: '1',\n    children: [\n      { id: '1-1', title: '1-1', children: [{ id: '1-1-1', title: '1-1-1' }, { id: '1-1-2', title: '1-1-2' }] },\n      { id: '1-2', title: '1-2' },\n    ],\n  },\n  { id: '2', title: '2', children: [{ id: '2-1', title: '2-1' }, { id: '2-2', title: '2-2' }] },\n  { id: '3', title: '3', children: [{ id: '3-1', title: '3-1' }] },\n]\n\nconst App: React.FC = () => {\n  const [value, setValue] = React.useState<TreeSelectProps['value']>('')\n\n  const handleChange: TreeSelectProps['onChange'] = v => {\n    setValue(v)\n  }\n\n  return (\n    <TreeSelect\n      value={value}\n      onChange={handleChange}\n      clearable\n      style={{ width: 250 }}\n      keygen=\"id\"\n      renderItem={node => `node ${node.title}`}\n      data={data}\n    />\n  )\n}\n\nexport default App\n"},1390:function(e,t){e.exports="/**\n * cn - 基本用法\n *    -- 基础的TreeSelect用法。\n * en - Base\n *    -- Basic usage of TreeSelect.\n */\nimport React from 'react';\nimport { TreeSelect } from 'shineout';\nconst data = [\n    {\n        id: '1',\n        title: '1',\n        children: [\n            { id: '1-1', title: '1-1', children: [{ id: '1-1-1', title: '1-1-1' }, { id: '1-1-2', title: '1-1-2' }] },\n            { id: '1-2', title: '1-2' },\n        ],\n    },\n    { id: '2', title: '2', children: [{ id: '2-1', title: '2-1' }, { id: '2-2', title: '2-2' }] },\n    { id: '3', title: '3', children: [{ id: '3-1', title: '3-1' }] },\n];\nconst App = () => {\n    const [value, setValue] = React.useState('');\n    const handleChange = v => {\n        setValue(v);\n    };\n    return (<TreeSelect value={value} onChange={handleChange} clearable style={{ width: 250 }} keygen=\"id\" renderItem={node => `node ${node.title}`} data={data}/>);\n};\nexport default App;\n"},1391:function(e,t,n){"use strict";n.r(t);var a=n(24),i=n(0),l=n.n(i),r=n(323),d=[{id:"1",title:"1",children:[{id:"1-1",title:"1-1",children:[{id:"1-1-1",title:"1-1-1"},{id:"1-1-2",title:"1-1-2"}]},{id:"1-2",title:"1-2"}]},{id:"2",title:"2",children:[{id:"2-1",title:"2-1"},{id:"2-2",title:"2-2"}]},{id:"3",title:"3",children:[{id:"3-1",title:"3-1"}]}];t.default=function(){var e=l.a.useState([]),t=Object(a.a)(e,2),n=t[0],i=t[1];return l.a.createElement("div",null,l.a.createElement(r.a,{multiple:!0,value:n,onChange:function(e){i(e)},clearable:!0,style:{width:250,marginBottom:15},keygen:"id",renderItem:function(e){return"node ".concat(e.title)},data:d}),l.a.createElement("br",null),l.a.createElement(r.a,{compressed:!0,multiple:!0,clearable:!0,style:{width:250},keygen:"id",renderItem:function(e){return"node ".concat(e.title)},data:d}))}},1392:function(e,t){e.exports="/**\n * cn - 多选\n *    -- 通过设置 multiple 来实现多选。\n * en - Multiple\n *    -- Set multiple to Multiple choices.\n */\nimport React from 'react'\nimport { TreeSelect, TYPE } from 'shineout'\n\ninterface DataItem {\n  id: string\n  title: string\n  children?: DataItem[]\n}\ntype TreeSelectProps = TYPE.TreeSelect.Props<DataItem, string[]>\n\nconst data: TreeSelectProps['data'] = [\n  {\n    id: '1',\n    title: '1',\n    children: [\n      { id: '1-1', title: '1-1', children: [{ id: '1-1-1', title: '1-1-1' }, { id: '1-1-2', title: '1-1-2' }] },\n      { id: '1-2', title: '1-2' },\n    ],\n  },\n  { id: '2', title: '2', children: [{ id: '2-1', title: '2-1' }, { id: '2-2', title: '2-2' }] },\n  { id: '3', title: '3', children: [{ id: '3-1', title: '3-1' }] },\n]\n\nconst App: React.FC = () => {\n  const [value, setValue] = React.useState<TreeSelectProps['value']>([])\n  const handleChange: TreeSelectProps['onChange'] = v => {\n    setValue(v)\n  }\n  return (\n    <div>\n      <TreeSelect\n        multiple\n        value={value}\n        onChange={handleChange}\n        clearable\n        style={{ width: 250, marginBottom: 15 }}\n        keygen=\"id\"\n        renderItem={node => `node ${node.title}`}\n        data={data}\n      />\n      <br />\n      <TreeSelect\n        compressed\n        multiple\n        clearable\n        style={{ width: 250 }}\n        keygen=\"id\"\n        renderItem={node => `node ${node.title}`}\n        data={data}\n      />\n    </div>\n  )\n}\n\nexport default App\n"},1393:function(e,t){e.exports="/**\n * cn - 多选\n *    -- 通过设置 multiple 来实现多选。\n * en - Multiple\n *    -- Set multiple to Multiple choices.\n */\nimport React from 'react';\nimport { TreeSelect } from 'shineout';\nconst data = [\n    {\n        id: '1',\n        title: '1',\n        children: [\n            { id: '1-1', title: '1-1', children: [{ id: '1-1-1', title: '1-1-1' }, { id: '1-1-2', title: '1-1-2' }] },\n            { id: '1-2', title: '1-2' },\n        ],\n    },\n    { id: '2', title: '2', children: [{ id: '2-1', title: '2-1' }, { id: '2-2', title: '2-2' }] },\n    { id: '3', title: '3', children: [{ id: '3-1', title: '3-1' }] },\n];\nconst App = () => {\n    const [value, setValue] = React.useState([]);\n    const handleChange = v => {\n        setValue(v);\n    };\n    return (<div>\n      <TreeSelect multiple value={value} onChange={handleChange} clearable style={{ width: 250, marginBottom: 15 }} keygen=\"id\" renderItem={node => `node ${node.title}`} data={data}/>\n      <br />\n      <TreeSelect compressed multiple clearable style={{ width: 250 }} keygen=\"id\" renderItem={node => `node ${node.title}`} data={data}/>\n    </div>);\n};\nexport default App;\n"},1394:function(e,t,n){"use strict";n.r(t);var s=n(24),i=n(0),c=n.n(i),u=n(323),h=[{id:"1",title:"1",children:[{id:"1-1",title:"1-1",children:[{id:"1-1-1",title:"1-1-1"},{id:"1-1-2",title:"1-1-2"}]},{id:"1-2",title:"1-2"}]},{id:"2",title:"2",children:[{id:"2-1",title:"2-1"},{id:"2-2",title:"2-2"}]},{id:"3",title:"3",children:[{id:"3-1",title:"3-1"}]},{id:"4",title:"4",children:[{id:"4-1",title:"4-1"}]},{id:"5",title:"5",children:[{id:"5-1",title:"5-1"}]}];t.default=function(){var e=c.a.useState(""),t=Object(s.a)(e,2),n=t[0],i=t[1],a=c.a.useState([]),l=Object(s.a)(a,2),r=l[0],d=l[1],o=function(t){return function(e){return-1<e.title.indexOf(t)}};return c.a.createElement("div",null,c.a.createElement(u.a,{onFilter:o,value:n,onChange:function(e){i(e)},clearable:!0,style:{width:250,marginBottom:20},keygen:"id",renderItem:function(e){return"node ".concat(e.title)},data:h}),c.a.createElement("br",null),c.a.createElement(u.a,{multiple:!0,onFilter:o,value:r,onChange:function(e){d(e)},clearable:!0,style:{width:250},keygen:"id",renderItem:function(e){return"node ".concat(e.title)},data:h}))}},1395:function(e,t){e.exports="/**\n * cn - 筛选\n *    -- onFilter 返回函数时，使用这个函数做前端过滤。\n * en - Filter\n *    -- OnFilter is a function to filter data.\n */\nimport React from 'react'\nimport { TreeSelect } from 'shineout'\n\ninterface DataItem {\n  id: string\n  title: string\n  children?: DataItem[]\n}\n\nconst data = [\n  {\n    id: '1',\n    title: '1',\n    children: [\n      { id: '1-1', title: '1-1', children: [{ id: '1-1-1', title: '1-1-1' }, { id: '1-1-2', title: '1-1-2' }] },\n      { id: '1-2', title: '1-2' },\n    ],\n  },\n  { id: '2', title: '2', children: [{ id: '2-1', title: '2-1' }, { id: '2-2', title: '2-2' }] },\n  { id: '3', title: '3', children: [{ id: '3-1', title: '3-1' }] },\n  { id: '4', title: '4', children: [{ id: '4-1', title: '4-1' }] },\n  { id: '5', title: '5', children: [{ id: '5-1', title: '5-1' }] },\n]\n\nconst App: React.FC = () => {\n  const [single, setSingle] = React.useState<string>('')\n  const [multi, setMulti] = React.useState<string[]>([])\n  const handleChangeSingle = (v: string) => {\n    setSingle(v)\n  }\n  const handleChangeMultiple = (v: string[]) => {\n    setMulti(v)\n  }\n\n  const handleFilter = (text: string) => (d: DataItem) => d.title.indexOf(text) > -1\n  return (\n    <div>\n      <TreeSelect\n        onFilter={handleFilter}\n        value={single}\n        onChange={handleChangeSingle}\n        clearable\n        style={{ width: 250, marginBottom: 20 }}\n        keygen=\"id\"\n        renderItem={node => `node ${node.title}`}\n        data={data}\n      />\n      <br />\n      <TreeSelect\n        multiple\n        onFilter={handleFilter}\n        value={multi}\n        onChange={handleChangeMultiple}\n        clearable\n        style={{ width: 250 }}\n        keygen=\"id\"\n        renderItem={node => `node ${node.title}`}\n        data={data}\n      />\n    </div>\n  )\n}\n\nexport default App\n"},1396:function(e,t){e.exports="/**\n * cn - 筛选\n *    -- onFilter 返回函数时，使用这个函数做前端过滤。\n * en - Filter\n *    -- OnFilter is a function to filter data.\n */\nimport React from 'react';\nimport { TreeSelect } from 'shineout';\nconst data = [\n    {\n        id: '1',\n        title: '1',\n        children: [\n            { id: '1-1', title: '1-1', children: [{ id: '1-1-1', title: '1-1-1' }, { id: '1-1-2', title: '1-1-2' }] },\n            { id: '1-2', title: '1-2' },\n        ],\n    },\n    { id: '2', title: '2', children: [{ id: '2-1', title: '2-1' }, { id: '2-2', title: '2-2' }] },\n    { id: '3', title: '3', children: [{ id: '3-1', title: '3-1' }] },\n    { id: '4', title: '4', children: [{ id: '4-1', title: '4-1' }] },\n    { id: '5', title: '5', children: [{ id: '5-1', title: '5-1' }] },\n];\nconst App = () => {\n    const [single, setSingle] = React.useState('');\n    const [multi, setMulti] = React.useState([]);\n    const handleChangeSingle = (v) => {\n        setSingle(v);\n    };\n    const handleChangeMultiple = (v) => {\n        setMulti(v);\n    };\n    const handleFilter = (text) => (d) => d.title.indexOf(text) > -1;\n    return (<div>\n      <TreeSelect onFilter={handleFilter} value={single} onChange={handleChangeSingle} clearable style={{ width: 250, marginBottom: 20 }} keygen=\"id\" renderItem={node => `node ${node.title}`} data={data}/>\n      <br />\n      <TreeSelect multiple onFilter={handleFilter} value={multi} onChange={handleChangeMultiple} clearable style={{ width: 250 }} keygen=\"id\" renderItem={node => `node ${node.title}`} data={data}/>\n    </div>);\n};\nexport default App;\n"},1397:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),l=n(323),r=[{value:"jiangsu",children:[{value:"nanjing",children:[{value:"jiangning"},{value:"gulou"}]},{value:"suzhou"}]},{value:"anhui",children:[{value:"hefei",children:[{value:"feidong"},{value:"feixi"}]},{value:"maanshan"}]}];t.default=function(){return a.a.createElement(l.a,{showHitDescendants:!0,onAdvancedFilter:function(t){return function(e){return-1<e.value.indexOf(t)}},clearable:!0,style:{width:250,marginBottom:20},keygen:"value",renderItem:"value",data:r})}},1398:function(e,t){e.exports="/**\n * cn - 高级筛选\n *    -- 高级筛选模式下，可针对当前层级在筛选结果和原始数据间切换\n *    -- 设置 onAdvancedFilter 属性开启高级筛选，仅支持前端筛选\n * en - Advanced Filter\n *    -- In the advanced filter mode, you can switch between the filter results and the original data for the current level by pressing the button\n *    -- Set the onAdvancedFilter property to enable advanced filtering, only front-end filtering is supported\n */\nimport React from 'react'\nimport { TreeSelect } from 'shineout'\n\nconst data = [\n  {\n    value: 'jiangsu',\n    children: [\n      {\n        value: 'nanjing',\n        children: [\n          {\n            value: 'jiangning',\n          },\n          {\n            value: 'gulou',\n          },\n        ],\n      },\n      {\n        value: 'suzhou',\n      },\n    ],\n  },\n  {\n    value: 'anhui',\n    children: [\n      {\n        value: 'hefei',\n        children: [\n          {\n            value: 'feidong',\n          },\n          {\n            value: 'feixi',\n          },\n        ],\n      },\n      {\n        value: 'maanshan',\n      },\n    ],\n  },\n]\n\nconst App: React.FC = () => (\n  <TreeSelect\n    showHitDescendants\n    onAdvancedFilter={text => d => d.value.indexOf(text) > -1}\n    clearable\n    style={{ width: 250, marginBottom: 20 }}\n    keygen=\"value\"\n    renderItem=\"value\"\n    data={data}\n  />\n)\n\nexport default App\n"},1399:function(e,t){e.exports="/**\n * cn - 高级筛选\n *    -- 高级筛选模式下，可针对当前层级在筛选结果和原始数据间切换\n *    -- 设置 onAdvancedFilter 属性开启高级筛选，仅支持前端筛选\n * en - Advanced Filter\n *    -- In the advanced filter mode, you can switch between the filter results and the original data for the current level by pressing the button\n *    -- Set the onAdvancedFilter property to enable advanced filtering, only front-end filtering is supported\n */\nimport React from 'react';\nimport { TreeSelect } from 'shineout';\nconst data = [\n    {\n        value: 'jiangsu',\n        children: [\n            {\n                value: 'nanjing',\n                children: [\n                    {\n                        value: 'jiangning',\n                    },\n                    {\n                        value: 'gulou',\n                    },\n                ],\n            },\n            {\n                value: 'suzhou',\n            },\n        ],\n    },\n    {\n        value: 'anhui',\n        children: [\n            {\n                value: 'hefei',\n                children: [\n                    {\n                        value: 'feidong',\n                    },\n                    {\n                        value: 'feixi',\n                    },\n                ],\n            },\n            {\n                value: 'maanshan',\n            },\n        ],\n    },\n];\nconst App = () => (<TreeSelect showHitDescendants onAdvancedFilter={text => d => d.value.indexOf(text) > -1} clearable style={{ width: 250, marginBottom: 20 }} keygen=\"value\" renderItem=\"value\" data={data}/>);\nexport default App;\n"},1400:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),l=n(323),r=[{id:"1",title:"1",children:[{id:"1-1",title:"1-1",children:[{id:"1-1-1",title:"1-1-1"},{id:"1-1-2",title:"1-1-2"}]},{id:"1-2",title:"1-2"}]},{id:"2",title:"2",children:[{id:"2-1",title:"2-1"},{id:"2-2",title:"2-2"}]},{id:"3",title:"3",children:[{id:"3-1",title:"3-1"},{id:"3-2",title:"3-2"}]}];t.default=function(){return a.a.createElement(l.a,{absolute:!0,disabled:function(e){return e.title.startsWith("2-")},clearable:!0,style:{width:250},keygen:"id",renderItem:function(e){return"node ".concat(e.title)},data:r})}},1401:function(e,t){e.exports="/**\n * cn - 禁用\n *    -- 设置 disabled 禁用选项\n * en - Disabled\n *    -- Set disabled to disabled item.\n */\nimport React from 'react'\nimport { TreeSelect } from 'shineout'\n\nconst data = [\n  {\n    id: '1',\n    title: '1',\n    children: [\n      { id: '1-1', title: '1-1', children: [{ id: '1-1-1', title: '1-1-1' }, { id: '1-1-2', title: '1-1-2' }] },\n      { id: '1-2', title: '1-2' },\n    ],\n  },\n  { id: '2', title: '2', children: [{ id: '2-1', title: '2-1' }, { id: '2-2', title: '2-2' }] },\n  { id: '3', title: '3', children: [{ id: '3-1', title: '3-1' }, { id: '3-2', title: '3-2' }] },\n]\n\nconst App: React.FC = () => (\n  <TreeSelect\n    absolute\n    disabled={v => v.title.startsWith('2-')}\n    clearable\n    style={{ width: 250 }}\n    keygen=\"id\"\n    renderItem={node => `node ${node.title}`}\n    data={data}\n  />\n)\n\nexport default App\n"},1402:function(e,t){e.exports="/**\n * cn - 禁用\n *    -- 设置 disabled 禁用选项\n * en - Disabled\n *    -- Set disabled to disabled item.\n */\nimport React from 'react';\nimport { TreeSelect } from 'shineout';\nconst data = [\n    {\n        id: '1',\n        title: '1',\n        children: [\n            { id: '1-1', title: '1-1', children: [{ id: '1-1-1', title: '1-1-1' }, { id: '1-1-2', title: '1-1-2' }] },\n            { id: '1-2', title: '1-2' },\n        ],\n    },\n    { id: '2', title: '2', children: [{ id: '2-1', title: '2-1' }, { id: '2-2', title: '2-2' }] },\n    { id: '3', title: '3', children: [{ id: '3-1', title: '3-1' }, { id: '3-2', title: '3-2' }] },\n];\nconst App = () => (<TreeSelect absolute disabled={v => v.title.startsWith('2-')} clearable style={{ width: 250 }} keygen=\"id\" renderItem={node => `node ${node.title}`} data={data}/>);\nexport default App;\n"},1403:function(e,t,n){"use strict";n.r(t);var a=n(24),i=n(0),l=n.n(i),r=n(41),d=n(323),o=["0","1","2","3","4"].map(function(e){return{id:e}}),s=0;t.default=function(){var e=l.a.useState(o),t=Object(a.a)(e,2),n=t[0],i=t[1];return l.a.createElement(d.a,{multiple:!0,loader:function(t){setTimeout(function(){var e=Object(r.a)(n,function(e){e[parseInt(t,10)].children=Array(6).fill(0).map(function(){return{id:"-".concat(s++),children:[]}})});i(e)},500)},keygen:"id",renderItem:function(e){return"node ".concat(e.id)},data:n})}},1404:function(e,t){e.exports="/**\n * cn - 动态加载\n *    -- 数据过大，需要动态加载时，可以设置 loader 函数，当展开未定义 children（undefined）的节点时，触发此函数。\n * en - Lazy load\n *    -- Set the loader function to dynamic fetch data. This function is triggered when the undefined child node is expanded.\n */\nimport React from 'react'\nimport immer from 'immer'\nimport { TreeSelect, TYPE } from 'shineout'\n\ninterface DataItem {\n  id: string\n  children?: DataItem[]\n}\ntype TreeSelectProps = TYPE.TreeSelect.Props<DataItem, string[]>\n\nconst initData: DataItem[] = ['0', '1', '2', '3', '4'].map(i => ({ id: i }))\n\nlet index = 0\n\nconst App: React.FC = () => {\n  const [data, setData] = React.useState<TreeSelectProps['data']>(initData)\n  const loader: TreeSelectProps['loader'] = key => {\n    setTimeout(() => {\n      const nextData = immer(data, (d: DataItem[]) => {\n        d[parseInt(key, 10)].children = Array(6)\n          .fill(0)\n          // eslint-disable-next-line no-plusplus\n          .map(() => ({ id: `-${index++}`, children: [] }))\n      })\n      setData(nextData)\n    }, 500)\n  }\n\n  return <TreeSelect multiple loader={loader} keygen=\"id\" renderItem={node => `node ${node.id}`} data={data} />\n}\nexport default App\n"},1405:function(e,t){e.exports="/**\n * cn - 动态加载\n *    -- 数据过大，需要动态加载时，可以设置 loader 函数，当展开未定义 children（undefined）的节点时，触发此函数。\n * en - Lazy load\n *    -- Set the loader function to dynamic fetch data. This function is triggered when the undefined child node is expanded.\n */\nimport React from 'react';\nimport immer from 'immer';\nimport { TreeSelect } from 'shineout';\nconst initData = ['0', '1', '2', '3', '4'].map(i => ({ id: i }));\nlet index = 0;\nconst App = () => {\n    const [data, setData] = React.useState(initData);\n    const loader = key => {\n        setTimeout(() => {\n            const nextData = immer(data, (d) => {\n                d[parseInt(key, 10)].children = Array(6)\n                    .fill(0)\n                    // eslint-disable-next-line no-plusplus\n                    .map(() => ({ id: `-${index++}`, children: [] }));\n            });\n            setData(nextData);\n        }, 500);\n    };\n    return <TreeSelect multiple loader={loader} keygen=\"id\" renderItem={node => `node ${node.id}`} data={data}/>;\n};\nexport default App;\n"},1406:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),l=n(323),r=[{id:"1",title:"1",children:[{id:"1-1",title:"1-1",children:[{id:"1-1-1",title:"1-1-1"},{id:"1-1-2",title:"1-1-2"}]},{id:"1-2",title:"1-2"}]},{id:"2",title:"2",children:[{id:"2-1",title:"2-1"},{id:"2-2",title:"2-2"}]},{id:"3",title:"3",children:[{id:"3-1",title:"3-1"},{id:"3-2",title:"3-2"}]}];t.default=function(){return a.a.createElement(l.a,{absolute:!0,disabled:function(e){return e.title.startsWith("2-")},clearable:!0,style:{width:250},keygen:"id",renderItem:function(e){return"node ".concat(e.title)},innerTitle:"please select",data:r})}},1407:function(e,t){e.exports="/**\n * cn - 内嵌标题\n *    -- 使用 innerTitle 展示内嵌标题\n * en - inner title\n *    -- use innerTitle to display the inner title\n */\nimport React from 'react'\nimport { TreeSelect } from 'shineout'\n\nconst data = [\n  {\n    id: '1',\n    title: '1',\n    children: [\n      { id: '1-1', title: '1-1', children: [{ id: '1-1-1', title: '1-1-1' }, { id: '1-1-2', title: '1-1-2' }] },\n      { id: '1-2', title: '1-2' },\n    ],\n  },\n  { id: '2', title: '2', children: [{ id: '2-1', title: '2-1' }, { id: '2-2', title: '2-2' }] },\n  { id: '3', title: '3', children: [{ id: '3-1', title: '3-1' }, { id: '3-2', title: '3-2' }] },\n]\n\nconst App: React.FC = () => (\n  <TreeSelect\n    absolute\n    disabled={v => v.title.startsWith('2-')}\n    clearable\n    style={{ width: 250 }}\n    keygen=\"id\"\n    renderItem={node => `node ${node.title}`}\n    innerTitle=\"please select\"\n    data={data}\n  />\n)\n\nexport default App\n"},1408:function(e,t){e.exports="/**\n * cn - 内嵌标题\n *    -- 使用 innerTitle 展示内嵌标题\n * en - inner title\n *    -- use innerTitle to display the inner title\n */\nimport React from 'react';\nimport { TreeSelect } from 'shineout';\nconst data = [\n    {\n        id: '1',\n        title: '1',\n        children: [\n            { id: '1-1', title: '1-1', children: [{ id: '1-1-1', title: '1-1-1' }, { id: '1-1-2', title: '1-1-2' }] },\n            { id: '1-2', title: '1-2' },\n        ],\n    },\n    { id: '2', title: '2', children: [{ id: '2-1', title: '2-1' }, { id: '2-2', title: '2-2' }] },\n    { id: '3', title: '3', children: [{ id: '3-1', title: '3-1' }, { id: '3-2', title: '3-2' }] },\n];\nconst App = () => (<TreeSelect absolute disabled={v => v.title.startsWith('2-')} clearable style={{ width: 250 }} keygen=\"id\" renderItem={node => `node ${node.title}`} innerTitle=\"please select\" data={data}/>);\nexport default App;\n"},1409:function(e,t,n){"use strict";n.r(t);var l=n(24),i=n(0),r=n.n(i),d=n(323),o=[{id:"1",title:"1",children:[{id:"1-1",title:"1-1",children:[{id:"1-1-1",title:"1-1-1"},{id:"1-1-2",title:"1-1-2"}]},{id:"1-2",title:"1-2"}]},{id:"2",title:"2",children:[{id:"2-1",title:"2-1"},{id:"2-2",title:"2-2"}]},{id:"3",title:"3",children:[{id:"3-1",title:"3-1"}]}];t.default=function(){var e=r.a.useState(),t=Object(l.a)(e,2),n=t[0],i=t[1],a=r.a.useRef();return r.a.createElement(d.a,{value:n,multiple:!0,getComponentRef:a,onChange:function(e){if(i(e),a.current){var t=a.current.getDataByValues(e);console.log("data",t)}},clearable:!0,style:{width:250},keygen:"id",renderItem:function(e){return"node ".concat(e.title)},data:o})}},1410:function(e,t){e.exports="/**\n * cn - 组件方法\n *    -- 通过 getComponentRef 获取一些组件方法目前支持 getDataByValues\n * en - Component method\n *    -- Get some component methods through getComponentRef currently support getDataByValues\n */\nimport React from 'react'\nimport { TreeSelect, TYPE } from 'shineout'\n\ninterface DataItem {\n  id: string\n  title: string\n  children?: DataItem[]\n}\n\ntype TreeSelectProps = TYPE.TreeSelect.Props<DataItem, string[]>\n\ntype TreeSelectRef = TYPE.TreeSelect.ComponentRef<DataItem, string[]>\n\nconst data: TreeSelectProps['data'] = [\n  {\n    id: '1',\n    title: '1',\n    children: [\n      { id: '1-1', title: '1-1', children: [{ id: '1-1-1', title: '1-1-1' }, { id: '1-1-2', title: '1-1-2' }] },\n      { id: '1-2', title: '1-2' },\n    ],\n  },\n  { id: '2', title: '2', children: [{ id: '2-1', title: '2-1' }, { id: '2-2', title: '2-2' }] },\n  { id: '3', title: '3', children: [{ id: '3-1', title: '3-1' }] },\n]\n\nconst App: React.FC = () => {\n  const [value, setValue] = React.useState<TreeSelectProps['value']>()\n  const ref = React.useRef<TreeSelectRef>()\n\n  const handleChange: TreeSelectProps['onChange'] = v => {\n    setValue(v)\n    if (ref.current) {\n      const d = ref.current.getDataByValues(v)\n      console.log('data', d)\n    }\n  }\n\n  return (\n    <TreeSelect\n      value={value}\n      multiple\n      getComponentRef={ref}\n      onChange={handleChange}\n      clearable\n      style={{ width: 250 }}\n      keygen=\"id\"\n      renderItem={node => `node ${node.title}`}\n      data={data}\n    />\n  )\n}\n\nexport default App\n"},1411:function(e,t){e.exports="/**\n * cn - 组件方法\n *    -- 通过 getComponentRef 获取一些组件方法目前支持 getDataByValues\n * en - Component method\n *    -- Get some component methods through getComponentRef currently support getDataByValues\n */\nimport React from 'react';\nimport { TreeSelect } from 'shineout';\nconst data = [\n    {\n        id: '1',\n        title: '1',\n        children: [\n            { id: '1-1', title: '1-1', children: [{ id: '1-1-1', title: '1-1-1' }, { id: '1-1-2', title: '1-1-2' }] },\n            { id: '1-2', title: '1-2' },\n        ],\n    },\n    { id: '2', title: '2', children: [{ id: '2-1', title: '2-1' }, { id: '2-2', title: '2-2' }] },\n    { id: '3', title: '3', children: [{ id: '3-1', title: '3-1' }] },\n];\nconst App = () => {\n    const [value, setValue] = React.useState();\n    const ref = React.useRef();\n    const handleChange = v => {\n        setValue(v);\n        if (ref.current) {\n            const d = ref.current.getDataByValues(v);\n            console.log('data', d);\n        }\n    };\n    return (<TreeSelect value={value} multiple getComponentRef={ref} onChange={handleChange} clearable style={{ width: 250 }} keygen=\"id\" renderItem={node => `node ${node.title}`} data={data}/>);\n};\nexport default App;\n"},323:function(e,t,n){"use strict";var i=n(60),a=n(21),l=n(82),g=n(197),r=n(4),d=n(5),o=n(1),s=n(20),c=n(6),u=n(7),h=n(2),m=n(15),p=n(0),y=n.n(p),f=n(11),b=n(144),v=n(17),T=n(22),O=n(14),j=n.n(O),x=n(25),k=n(35),C=n(62);function R(i){return function(){var e,t=Object(h.a)(i);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(h.a)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Object(u.a)(this,e)}}var S=function(e){Object(c.a)(i,e);var n=R(i);function i(e){var t;return Object(r.a)(this,i),(t=n.call(this,e)).bindElement=t.bindElement.bind(Object(o.a)(t)),t.handleInput=t.handleInput.bind(Object(o.a)(t)),t.props.setInputReset(t.reset.bind(Object(o.a)(t))),t}return Object(d.a)(i,[{key:"componentDidMount",value:function(){this.props.focus&&this.focus()}},{key:"shouldComponentUpdate",value:function(){return this.props.updatAble}},{key:"componentDidUpdate",value:function(e){this.props.focus!==e.focus&&this.props.focus&&this.focus()}},{key:"reset",value:function(){this.editElement&&(this.editElement.innerText=""),this.blurTimer&&clearTimeout(this.blurTimer)}},{key:"focus",value:function(){var e=this;requestAnimationFrame(function(){x.focusElement.select(e.editElement)})}},{key:"bindElement",value:function(e){this.editElement=e}},{key:"handleInput",value:function(e){this.props.onFilter(e.target.innerText.replace("\feff ","").trim())}},{key:"render",value:function(){var e=this.props,t=e.text,n=e.focus,i=e.multiple,a="string"==typeof t?t.replace(/<\/?[^>]*>/g,""):t;return Object(p.isValidElement)(a)?Object(p.cloneElement)(a,{className:Object(g.a)("input"),ref:this.bindElement,key:"input",onInput:this.handleInput,contentEditable:n}):y.a.createElement("span",{key:"input",className:Object(g.a)("input",!i&&"full"),ref:this.bindElement,contentEditable:n,onPaste:x.preventPasteFile,onInput:this.handleInput,onBlur:this.handleBlur,dangerouslySetInnerHTML:{__html:a}})}}]),i}(p.Component);S.defaultProps={text:"",updatAble:!1};var I=S,D=n(126),w=n(179),E=n(90),A=n(8);function F(i){return function(){var e,t=Object(h.a)(i);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(h.a)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Object(u.a)(this,e)}}var B=function(e,t,n){return Object(f.isObject)(e)&&e.IS_NOT_MATCHED_VALUE?"function"==typeof n?n(e.value):Object(f.isObject)(e.value)?t(e.value):e.value:t(e)};function P(e){var t=e.content,n=e.data,i=e.disabled,a=e.onClick,l=e.only,r=n,d=i||!a?void 0:function(){return a(r)},o=i||!d;return y.a.createElement("a",{tabIndex:-1,className:Object(g.a)(Object(A.b)("item"),i&&Object(A.b)("disabled"),o&&Object(A.b)("ban"),l&&"item-only")},t,!o&&y.a.createElement("span",{className:Object(g.a)("indicator","close"),onClick:d}))}var V=function(e){Object(c.a)(i,e);var n=F(i);function i(e){var t;return Object(r.a)(this,i),(t=n.call(this,e)).state={more:-1},t.handleRemove=t.handleRemove.bind(Object(o.a)(t)),t.handelMore=t.handelMore.bind(Object(o.a)(t)),t.bindResult=t.bindResult.bind(Object(o.a)(t)),t.resetMore=t.resetMore.bind(Object(o.a)(t)),t}return Object(d.a)(i,[{key:"componentDidMount",value:function(){this.props.compressed&&!this.isCompressedBound()&&(this.cancelResizeObserver=Object(x.addResizeObserver)(this.resultEl,this.resetMore,{direction:"x"}))}},{key:"componentDidUpdate",value:function(e){this.updateMore(e)}},{key:"componentWillUnmount",value:function(){this.cancelResizeObserver&&this.cancelResizeObserver()}},{key:"getCompressedBound",value:function(){var e=this.props.compressedBound;return this.isCompressedBound()?e:this.state.more}},{key:"bindResult",value:function(e){this.resultEl=e}},{key:"updateMore",value:function(a){var e=this.props,l=e.result,t=e.compressed,n=e.onFilter,r=e.keygen,i=e.data;if(t){if(this.isCompressedBound())return;var d=!1;if(a.result.length!==l.length||(i||[]).length!==(a.data||[]).length)d=!0;else if(a.result!==l)for(var o=a.result.length-1,s=function(){var e,t,n,i=function(e,t){return e&&e.IS_NOT_MATCHED_VALUE?e.value:Object(T.b)(e,t)};if(e=l[o],t=a.result[o],i(e,n=r)!==i(t,n))return d=!0,"break";o-=1};0<=o;){if("break"===s())break}d?this.resetMore():l.length&&this.shouldResetMore&&(this.shouldResetMore=!1,this.state.more=Object(w.b)(n,this.resultEl,this.resultEl.querySelectorAll(".".concat(Object(g.a)("item")))),this.forceUpdate())}}},{key:"resetMore",value:function(){this.props.compressed&&(this.shouldResetMore=!0,this.state.more=-1,this.forceUpdate())}},{key:"handleRemove",value:function(){this.props.onRemove.apply(void 0,arguments)}},{key:"handelMore",value:function(e){this.setState({more:e})}},{key:"isCompressedBound",value:function(){var e=this.props.compressedBound;return e&&Object(f.isNumber)(e)&&1<=e}},{key:"renderClear",value:function(){var e=this.props,t=e.onClear,n=e.result,i=e.disabled;return t&&0<n.length&&!0!==i?y.a.createElement("div",{key:"clear",onClick:t,className:Object(g.a)("close-warpper")},y.a.createElement("a",{tabIndex:-1,"data-role":"close",className:Object(g.a)("indicator","close")})):null}},{key:"renderInput",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"input",n=this.props,i=n.multiple,a=n.onFilter,l=n.focus,r=n.setInputReset;return y.a.createElement(I,{key:"".concat(t,".").concat(l?1:0),updatAble:!i,multiple:i,focus:l,text:e,onFilter:a,setInputReset:r})}},{key:"renderItem",value:function(e,t){var n=this.props,i=n.renderResult,a=n.renderUnmatched,l=n.datum,r=B(e,i,a);if(null===r)return null;var d=this.state.more;return y.a.createElement(P,{only:1===d,key:t,content:r,data:e,disabled:l.disabled(e),onClick:this.handleRemove})}},{key:"renderMore",value:function(e){var t=this.props.compressed,n=this.getCompressedBound();return[y.a.createElement(w.a,{key:"more",className:Object(g.a)(Object(A.b)("item"),"item-compressed"),popoverClassName:Object(g.a)("popover"),contentClassName:Object(g.a)(Object(A.b)("result")),compressed:t,data:e,cls:g.a,showNum:n})]}},{key:"renderPlaceholder",value:function(){var e=this.props,t=e.focus,n=e.onFilter,i=e.innerTitle;return t&&n?this.renderInput(" "):y.a.createElement("span",{className:j()(Object(k.a)("placeholder"),Object(g.a)("ellipsis"),i&&Object(C.a)("hidable"))},this.props.placeholder," ")}},{key:"renderResult",value:function(){var n=this,e=this.props,t=e.multiple,i=e.compressed,a=e.result,l=e.renderResult,r=e.renderUnmatched,d=e.onFilter,o=e.focus,s=e.filterText;if(t){var c=a.map(function(e,t){return n.renderItem(e,t)}).filter(function(e){return!Object(f.isEmpty)(e)});return i&&(c=this.renderMore(c)),o&&d&&c.push(this.renderInput(s,a.length)),c}return d?this.renderInput(B(a[0],l,r)):y.a.createElement("span",{className:Object(g.a)("ellipsis")},B(a[0],l,r))}},{key:"render",value:function(){var e=0===this.props.result.length,t=e?this.renderPlaceholder():this.renderResult(),n=this.props,i=n.compressed,a=n.innerTitle,l=n.focus,r=n.onFilter&&l||!e;return y.a.createElement(E.a,{innerTitle:a,open:r,className:Object(g.a)("title-box"),titleClass:Object(g.a)(Object(A.b)("title-box-title"))},y.a.createElement("div",{ref:this.bindResult,className:j()(Object(g.a)(Object(A.b)("result"),i&&"compressed",e&&"empty"),a&&Object(C.a)("item-scroll"))},t,!this.props.multiple&&y.a.createElement("a",{tabIndex:-1,className:Object(g.a)("indicator","caret")},y.a.createElement(D.a,null)),this.renderClear()))}}]),i}(p.PureComponent),M=n(98),N=n(32),U=n(70),$=n(36),W=n(9);function z(i){return function(){var e,t=Object(h.a)(i);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(h.a)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Object(u.a)(this,e)}}var H=Object(U.a)(["fade","scale-y"],"fast"),K=Object(M.a)(function(e){var t=e.focus,n=Object(m.a)(e,["focus"]);return y.a.createElement(H,Object.assign({show:t},n))}),L=function(e){Object(c.a)(a,e);var i=z(a);function a(e){var t;Object(r.a)(this,a),(t=i.call(this,e)).state={focus:!1,position:"drop-down"},t.treeSelectId="treeSelect_".concat(Object(T.c)()),t.onExpandHandler=t.onExpandHandler.bind(Object(o.a)(t)),t.getResetPosition=t.getResetPosition.bind(Object(o.a)(t)),t.setInputReset=t.setInputReset.bind(Object(o.a)(t)),t.renderActive=t.renderActive.bind(Object(o.a)(t)),t.handleChange=t.handleChange.bind(Object(o.a)(t)),t.renderItem=t.renderItem.bind(Object(o.a)(t)),t.bindElement=t.bindElement.bind(Object(o.a)(t)),t.handleClick=t.handleState.bind(Object(o.a)(t),!0),t.handleFocus=t.handleFocus.bind(Object(o.a)(t)),t.handleKeyDown=t.handleKeyDown.bind(Object(o.a)(t)),t.handleBlur=t.handleState.bind(Object(o.a)(t),!1),t.handleClear=t.handleClear.bind(Object(o.a)(t)),t.handleRemove=t.handleRemove.bind(Object(o.a)(t)),t.handleClickAway=t.handleClickAway.bind(Object(o.a)(t)),t.shouldFocus=t.shouldFocus.bind(Object(o.a)(t)),t.getDataByValues=t.getDataByValues.bind(Object(o.a)(t));var n={getDataByValues:t.getDataByValues};return e.getComponentRef&&(Object(f.isFunc)(e.getComponentRef)?e.getComponentRef(n):e.getComponentRef.current=n),t}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(e,t){var n=this.props,i=n.onFilter,a=n.datum,l=n.mode;a.mode=l,t.focus!==this.state.focus&&!this.state.focus&&i&&setTimeout(function(){i("","blur")},400)}},{key:"componentWillUnmount",value:function(){Object(s.a)(Object(h.a)(a.prototype),"componentWillUnmount",this).call(this),this.clearClickAway()}},{key:"onExpandHandler",value:function(){var e,t=this;(this.resetAbsoluteListPosition&&setTimeout(function(){t.resetAbsoluteListPosition(!0)}),this.props.onExpand)&&(e=this.props).onExpand.apply(e,arguments)}},{key:"getText",value:function(e){return this.props.empty||Object($.a)(e)}},{key:"setInputReset",value:function(e){this.inputReset=e}},{key:"getValue",value:function(){var e=this.props,t=e.datum,n=e.multiple,i=t.getValue();return n?i:i.length?i[0]:""}},{key:"getDataByValue",value:function(e){if(null==e)return e;var t=this.props,n=t.datum;return t.multiple?e.map(function(e){return n.getDataById(e)}):n.getDataById(e)}},{key:"getDataByValues",value:function(e){var t=this.props.datum;return Object(f.isArray)(e)?e.map(function(e){return t.getDataById(e)}):t.getDataById(e)}},{key:"getResetPosition",value:function(e){this.resetAbsoluteListPosition=e}},{key:"bindElement",value:function(e){this.element=e}},{key:"shouldFocus",value:function(e){return e.getAttribute("data-id")===this.treeSelectId||!!Object(x.getParent)(e,".".concat(Object(g.a)(Object(A.b)("result"))))}},{key:"bindClickAway",value:function(){document.addEventListener("mousedown",this.handleClickAway)}},{key:"clearClickAway",value:function(){document.removeEventListener("mousedown",this.handleClickAway)}},{key:"handleClickAway",value:function(e){(function e(t,n){return t.getAttribute("data-id")===n||!!t.parentElement&&e(t.parentElement,n)})(e.target,this.treeSelectId)||(this.clearClickAway(),this.props.onBlur(),this.handleState(!1,e))}},{key:"handleState",value:function(e,t){if(!0!==this.props.disabled&&e!==this.state.focus&&!(e&&t&&t.target.classList.contains(Object(g.a)("close")))){var n=this.props,i=n.height,a=n.onCollapse,l=this.props.position;N.docSize.height<i+this.element.getBoundingClientRect().bottom&&!l&&(l="drop-up"),a&&a(e),this.setState({focus:e,position:l||"drop-down"}),e&&this.bindClickAway()}}},{key:"handleFocus",value:function(e){this.shouldFocus(e.target)&&(this.props.onFocus(e),this.bindClickAway())}},{key:"handleKeyDown",value:function(e){var t=this.props.onEnterExpand;if(13===e.keyCode&&(e.preventDefault(),!this.state.focus)){if("function"==typeof t)if(!1===t(e))return;this.handleState(!0)}9===e.keyCode&&(this.props.onBlur(),this.state.focus?this.handleState(!1,e,!0):this.clearClickAway())}},{key:"handleRemove",value:function(e){var t=this.props.datum,n=e&&t.isUnMatch(e)?e.value:t.getKey(e);t.set(n,0),this.handleChange(e,t.getKey(e))}},{key:"handleChange",value:function(e,t){var n=this.props,i=n.datum,a=n.multiple,l=n.disabled,r=n.onChange,d=n.onChangeAddition;if(!0!==l&&!i.isDisabled(t)){var o=i.getDataById(t);a||(i.setValue([]),i.set(i.getKey(e),1),this.handleState(!1));var s=this.getValue();r(s,o,t&&i.getPath(t).path),"function"==typeof d&&d({data:this.getDataByValue(s),checked:a?i.get(t):void 0,current:o})}}},{key:"handleClear",value:function(){var e=this.props,t=e.multiple,n=e.onChangeAddition;this.props.datum.setValue([]),this.props.onChange(t?[]:""),"function"==typeof n&&n({data:t?[]:null}),this.handleState(!1),this.element.focus()}},{key:"renderItem",value:function(e,t){var n=this.props.renderItem;return"function"==typeof n?n(e,t):e[n]}},{key:"renderActive",value:function(e,t,n,i){var a=this.props,l=a.renderItem,r=a.datum,d="function"==typeof l?l(e,t,n,i):e[l];return y.a.createElement("span",{title:"string"==typeof d?d:void 0,className:Object(g.a)("content-wrapper",n&&"selected",r.isDisabled(r.getKey(e))&&Object(A.b)("disabled"))},d)}},{key:"renderTreeOptions",value:function(){var t=this,e=this.state,n=e.focus,i=e.position,a=this.props,l=a.multiple,r=a.datum,d=a.data,o=a.absolute,s=a.height,c=a.zIndex,u=a.compressed,h=a.value,p={};["mode","data","datum","defaultExpanded","defaultExpandAll","disabled","expanded","keygen","loader","onExpand","renderItem","line","parentClickExpand","childrenKey","expandIcons"].forEach(function(e){p[e]=t.props[e]}),p.value=r.getValue(),l?p.onChange=this.handleChange:(p.onClick=this.handleChange,p.renderItem=this.renderActive,p.active=p.value.length?p.value[0]:null);var f=0===d.length?y.a.createElement("span",{className:Object(g.a)(Object(A.b)("option"))},this.getText("noData")):y.a.createElement(b.a,Object.assign({className:Object(g.a)(!l&&"single")},p,{dataUpdate:!1,onExpand:this.onExpandHandler}));return y.a.createElement(K,{getResetPosition:this.getResetPosition,absolute:o,rootClass:Object(g.a)(i,Object(W.b)()&&"rtl"),parentElement:this.element,position:i,focus:n,"data-id":this.treeSelectId,className:Object(g.a)("options"),style:{maxHeight:s,overflowY:"auto"},fixed:"min",zIndex:c,value:l&&!u?h:void 0},y.a.createElement("div",{className:Object(g.a)("tree-wrapper")},f))}},{key:"render",value:function(){var e=this.props,t=e.placeholder,n=e.onFilter,i=e.compressed,a=e.compressedBound,l=e.multiple,r=e.datum,d=e.clearable,o=e.disabled,s=e.size,c=e.filterText,u=e.result,h=e.renderUnmatched,p=e.innerTitle,f=e.keygen,m=e.data,b=Object(g.a)("inner",s,this.state.focus&&"focus",this.state.position,l&&"multiple",!0===o&&Object(A.b)("disabled")),v=this.props.renderResult||this.renderItem;return y.a.createElement("div",{tabIndex:!0===o?-1:0,ref:this.bindElement,className:b,"data-id":this.treeSelectId,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onClick:this.handleClick},y.a.createElement(V,{filterText:c,onClear:d?this.handleClear:void 0,onRemove:this.handleRemove,onFilter:n,result:u,disabled:o,datum:r,focus:this.state.focus,multiple:l,placeholder:t,renderResult:v,setInputReset:this.setInputReset,compressed:i,compressedBound:a,renderUnmatched:h,innerTitle:p,keygen:f,data:m}),this.renderTreeOptions())}}]),a}(v.b);L.defaultProps={clearable:!1,compressed:!1,absolute:!1,multiple:!1,line:!1,renderItem:function(e){return e},height:300,data:[],defaultExpanded:[]};var _=n(92);function Y(i){return function(){var e,t=Object(h.a)(i);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(h.a)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Object(u.a)(this,e)}}var G=n(12),q=n(117),J=n(42);function Q(i){return function(){var e,t=Object(h.a)(i);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(h.a)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Object(u.a)(this,e)}}function X(e){return e?Array.isArray(e)?e:[e]:[]}var Z=n(182),ee=n(93),te=Object(a.compose)(i.a,Object(l.a)({className:Object(g.a)("_"),tag:"div"}),function(a){var e,t;return t=e=function(e){Object(c.a)(i,e);var n=Q(i);function i(e){var t;return Object(r.a)(this,i),(t=n.call(this,e)).datum=new q.a({data:e.data,loader:e.loader,keygen:e.keygen,mode:e.mode,value:X(e.value),onChange:e.onChange,disabled:"function"==typeof e.disabled?e.disabled:void 0,childrenKey:e.childrenKey,unmatch:e.unmatch}),t}return Object(d.a)(i,[{key:"componentDidUpdate",value:function(e){if(!Object(J.b)(e.data,this.props.data)){var t=this.props.disabled;this.datum.updateDisabled("function"==typeof t?t:void 0),this.datum.setData(this.props.data,!0),this.forceUpdate()}}},{key:"render",value:function(){var e=this.props.value,t=Object(G.a)(Object(G.a)({},this.props),{},{datum:this.datum});return Object(J.b)(X(e),this.datum.getValue())||this.datum.setValue(X(e)),y.a.createElement(a,t)}}]),i}(y.a.Component),e.defaultProps={mode:1,childrenKey:"children",unmatch:!0},t},Z.a,function(f){var e,t;return t=e=function(e){Object(c.a)(i,e);var n=Y(i);function i(e){var t;return Object(r.a)(this,i),(t=n.call(this,e)).state={innerFilter:void 0,innerData:void 0,filterText:""},t.handleFilter=t.handleFilter.bind(Object(o.a)(t)),t.getResultByValues=t.getResultByValues.bind(Object(o.a)(t)),t.resultCache=new Map,t}return Object(d.a)(i,[{key:"getResultByValues",value:function(){var n=this,e=this.props,i=e.datum,a=e.noCache,t=e.renderUnmatched,l=i.getValue()||[];t&&(l=l.concat([].concat(this.props.value).filter(function(e){return e&&-1===l.indexOf(e)})));var r=[];return l.forEach(function(e){var t=a?void 0:n.resultCache.get(e);t||!(t=i.getDataById(e))||a||t.IS_NOT_MATCHED_VALUE||n.resultCache.set(e,t),t&&r.push(t)}),r}},{key:"handleFilter",value:function(t){var n=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"edit",e=this.props,a=e.filterDelay,l=e.onFilter;if(!t)return this.setState({filterText:"",innerFilter:void 0,innerData:void 0}),this.timer&&clearTimeout(this.timer),void(l&&l(t,i));l&&(this.setState({filterText:t}),this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){var e=l(t,i);"function"==typeof e&&n.setState({innerFilter:e})},a))}},{key:"render",value:function(){var t=this,e=this.props,n=e.data,i=e.onFilter,a=e.expanded,l=e.showHitDescendants,r=Object(m.a)(e,["data","onFilter","expanded","showHitDescendants"]),d=this.state,o=d.innerFilter,s=d.filterText,c=i?this.handleFilter:void 0,u=n,h=a;if(o){var p=[];u=Object(_.getFilterTree)(n,o,p,function(e){return t.props.datum.getKey(e)},r.childrenKey,l,void 0,{advanced:r.onAdvancedFilter}),h=p}return y.a.createElement(f,Object.assign({},r,{filterText:s,result:this.getResultByValues(),data:u,rawData:n,onFilter:c,expanded:h}))}}]),i}(v.a),e.defaultProps={data:[],filterDelay:300,showHitDescendants:!1},t},Object(Z.b)({}),ee.b)(L);te.displayName="ShineoutTreeSelect";t.a=te}}]);