(window.webpackJsonpShineoutDoc=window.webpackJsonpShineoutDoc||[]).push([[53],{1141:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(561),i=n(563),c=n(40),l=n(1142),s=n.n(l),u=n(1143),d=n.n(u),f=Object(c.b)(s.a,d.a),p=[{name:"01-base",title:Object(c.b)("基本用法 \n 基础的文件上传, onSuccess 的返回值会作为 value 传给 onChange","Base \n Basic usage for uploading file, the onSuccess's returns will be the onChange params"),component:n(1144).default,rawText:n(1145)},{name:"01-onChange",title:Object(c.b)("自定义结果 \n 默认展示的结果和 value 里面所存储的值是一样的, 如果有需求需要, 可以用 renderResult 自行处理","Custom result \n The result of the default display is the same as the value stored in the value. If there is a need, you can use the renderResult to handle it yourself."),component:n(1146).default,rawText:n(1147)},{name:"02-image",title:Object(c.b)("上传图片 \n 使用 Upload.Image 处理带预览的图片上传","Image \n Use Upload.Image to upload and preview images."),component:n(1148).default,rawText:n(1149)},{name:"02-show-image",title:Object(c.b)("自定义结果内容 \n 使用  renderContent 可以自定义上传之后的图片结果.","Custom result content \n Use renderContent to customize the image results after uploading."),component:n(1150).default,rawText:n(1151)},{name:"03-button",title:Object(c.b)("按钮上传 \n 使用 Upload.Button 展示单个文件的上传进度","Button \n Use Upload.Button to show the upload progress of individual files"),component:n(1152).default,rawText:n(1153)},{name:"03-confirm",title:Object(c.b)("删除确认 \n 设置 removeConfirm 属性来开启删除前确认","Remove Confirm \n Set the removeConfirm property to enable confirmation before deleting"),component:n(1154).default,rawText:n(1155)},{name:"04-validator",title:Object(c.b)("校验 \n 通过 validator.imageSize 校验图片长宽，本例为 200px * 100px","Validator \n Set validator.imageSize to validate the width and height of the image."),component:n(1156).default,rawText:n(1157)},{name:"05-filesize",title:Object(c.b)("文件大小 \n 文件大小校验，本例为 10KB"," \n Set validator.size to validate the size of the file. This example is 10KB."),component:n(1158).default,rawText:n(1159)},{name:"06-error",title:Object(c.b)("异常处理 \n onHttpError 用来处理上传到服务器返回的异常","Error \n Set onHttpError to handle exceptions returned by uploading to the server."),component:n(1160).default,rawText:n(1161)},{name:"08-request-a",title:Object(c.b)("自定义上传 \n 通过 request 函数，替代默认上传方法","Custom Request \n Set request property to use your own XMLHttpRequest."),component:n(1162).default,rawText:n(1163)},{name:"08-request-ignore",title:Object(c.b)(" \n 使用 request 略过上传过程"," \n ignore request with request"),component:n(1164).default,rawText:n(1165)},{name:"09-zip",title:Object(c.b)(" \n 此事例演示通过自定义函数压缩文件后上传"," \n Zip file and upload."),component:n(1166).default,rawText:n(1167)},{name:"10-defaultValue",title:Object(c.b)("默认值 \n 默认值示例","defaultValue \n defaultValue example"),component:n(1168).default,rawText:n(1169)},{name:"11-dragger",title:Object(c.b)("拖拽上传 \n 设置 drop 来支持拖拽上传","Drag and Drop \n set drop to Drag files to upload."),component:n(1170).default,rawText:n(1171)}];t.default=Object(o.a)(function(e){return a.a.createElement(i.b,Object.assign({},e,{codes:void 0,source:f,examples:p}))})},1142:function(e,t){e.exports="# Upload\n\n<br />\n\n本页中的示例服务端限制为 10 KB，大于此限制的文件会上传失败\n\n<example />\n\n## API\n\n### Upload\n\n| 属性 | 类型 | 默认值 | 说明 |\n| --- | --- | --- | --- |\n| accept | string | 无 | 上传文件类型, 和标准一致, 详见[accept](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file#accept) |\n| action | ((file: File) => string)) \\| string | 必填 | 上传地址 |\n| children | ReactNode | 必填 | 上传占位内容 |\n| className | string | 无 | 扩展className |\n| defaultValue | any[] | 无 | 默认值 |\n| headers | object | 无 | 请求头部信息 |\n| htmlName | string | 无 | 服务端接收的 filename，不填使用 name |\n| limit | number | 100 | 最大上传文件数 |\n| disabled | boolean | false | 是否禁用上传行为 |\n| name | string | 无 | Form 内存取数据的 key |\n| request | (options: object) => void | 无 | 自定义上传方法<br /> options: 上传的配置 |\n| onChange | (values: any[]) => void | 无 | 值改变回调(上传成功，删除)<br />values: 数组, 其每个值是 onSuccess 的返回值 |\n| onSuccess | (res: string, file: File, data: any, xhr: any) => any | 无 | 上传成功回调，返回结果作为新的 value<br />res: 上传接口返回结果<br />file: 选择的文件<br />data: 请求的数据<br />xhr: 返回的 response |\n| onHttpError | (xhr: any) => string | 无 | 上传失败时回调，返回结果作为错误内容提示 |\n| params | object | 无 | 提交到服务端的额外参数 |\n| recoverAble | boolean | false | 是否可以恢复已删除的value |\n| renderResult | (data: any) => ReactNode | a => a | 结果展示 |\n| validator | object | 无 | 上传前文件校验 |\n| value | any[] | \\[] | defaultValue 和 value 可以同时设置，defaultValue 会被value覆盖<br />在Form中，value会被表单接管，value无效 |\n| withCredentials | boolean | false | 是否携带 cookie |\n| multiple | boolean | false | 是否支持多选文件 |\n| renderContent | (res: any, value: any, index: number, values: any[]) => ReactNode | - | 自定义结果的内容 |\n| validatorHandle | ((error: any, file: File) => boolean) \\| boolean | false | 是否处理校验失败的情况, 如果提供一个函数, 则以函数的返回值判断是否处理此 error |\n| drop | boolean | false | 是否开启拖拽上传文件 |\n| filesFilter | (fileList: any[]) => fileList: any[] | 无 | 文件选中后的筛选，用户可自定义最终需要上传的文件列表<br />需返回一个新的文件列表 |\n| onErrorRemove | (xhr: XMLHttpRequest, file: Blob) => void | 无 | 上传失败文件删除之后的回调 |\n| forceAccept | string | 无 | 在使用时关闭了 accept 提供的文件类型过滤后，强制对文件类型进行校验（值同accept） |\n| forceAcceptErrorMsg | string | 无 | forceAccept 类型校验失败后自定义错误提示 |\n| showUploadList | boolean | true | 是否展示上传列表 |\n| removeConfirm | string \\| object | 无 | 删除前是否进行确认提示 |\n| beforeRemove | (value: any) => Promise | 无 | 删除前的确认 |\n| canDelete | ((value: any) => boolean) \\| boolean | 无 | 文件是否可以删除|\n| responseType |  string | 无 | 设置 xhr.responseType |\n| webkitdirectory | any | false | 同原生 input 标签的 webkitdirectory 属性 |\n\n### Upload.Image\n\n| 属性 | 类型 | 默认值 | 说明 |\n| --- | --- | --- | --- |\n| children | ReactNode | 无 | 上传按钮内容，可为空 |\n| renderResult | (data: any) => string | a => a | 返回图片 url 链接地址 |\n| onErrorRemove | (xhr: XMLHttpRequest, file: Blob) => void | none | 上传失败图片删除之后的回调 |\n| leftHandler | boolean | false | 添加图片视图是否在左侧展示 |\n| onPreview | (url, value, index, values, fun: {preview: ()=>void } ) => void | none | 预览图片操作，默认为画廊展示 |\n| ignorePreview | boolean | false | 是否忽略上传图片预览 |\n| gapProps | object | {column: 12, row: 12} | 间距同Gap组件props |\n\n### Upload.Button\n\n| 属性 | 类型 | 默认值 | 说明 |\n| --- | --- | --- | --- |\n| type | 'default' \\| 'primary' \\| success' \\| 'warning' \\| 'danger' | primary | 按钮类型 |\n| placeholder | ReactNode | 无 | 按钮默认内容 |\n| loading | ReactNode | 无 | 上传中按钮的内容，如果是字符串默认会有spin loading |\n\n\n### UploadOptions\n\n| 属性 | 类型 | 默认值 | 说明 |\n| --- | --- | --- | --- |\n| file |  File | 无 |  传入的文件 |\n| onLoad | function | 无 | 上传事件 |\n| onError | function | 无| 上传出错事件(props 中为 onHttpError) |\n| onProgress | function | 无 | 上传中进度 |\n| onSuccess | function | 无 | 上传成功事件 |\n| params | object | 无 | 上传参数 |\n| onStart | function | 无 | 开始上传事件 |\n| headers | object | 无 | 请求头部信息 |\n\n\n### validator 属性\n\n| 属性 | 类型 | 说明 |\n| --- | --- | --- |\n| ext | func(string):Error\\|Promise | 判断后缀名，传入参数为文件后缀，校验失败返回 Error |\n| size | func(number):Error\\|Promise | 判断文件大小，校验失败返回 Error |\n| imageSize | func(Image):Error | 只对 Image 有效，判断图片尺寸，校验失败返回 Error |\n| customValidator | func(File):Error\\|Promise | 自定义校验 |\n"},1143:function(e,t){e.exports="# Upload\n\n<example />\n\n## API\n\n### Upload\n\n| Property | Type | Default | Description |\n| --- | --- | --- | --- |\n| accept | string | none | The type of the upload file, same as the standard,See details [accept](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file#accept)  |\n| action | ((file: File) => string) \\| string | required | The address for uploading |\n| children | ReactNode | required | Upload placeholder |\n| className | string | none | Extend className |\n| defaultValue | any[] | -  | default value |\n| headers | object | none | Request headers |\n| htmlName | string | none | The filename received by the server. If it is not filled in, use the name. |\n| limit | number | 100 | Maximum number of uploaded files |\n| disabled | boolean | false | disabled upload action |\n| name | string | none | The key access data in the Form  |\n| request | (options: object) => void | - | Custom upload method<br /> options: the options of upload |\n| onChange | (values: any[]) => void | none | The callback function when the value is changing(Upload successfully, delete)<br />values: Array, the value is the onSuccess returns |\n| onSuccess |  (res: string, file: File, data: any, xhr: any) => any | none | The callback function when to upload successfully. The returned result is as the new value. <br />res: the result that the upload interface returns<br />file: selected file<br /> data: the request data<br /> xhr: reponse |\n| onHttpError | (xhr: any) => string | none | The callback function when to upload unsuccessfully. The returned result is as the error message. |\n| params | object | none | Additional parameters submitted to the server |\n| recoverAble | boolean | true | Whether to recover deleted values. |\n| renderResult | (data: any) => ReactNode | a => a | Display results |\n| validator | object | none | Check file before uploading |\n| value | any[] | \\[] | value |\n| withCredentials | boolean | false | Whether to take the cookie |\n| multiple | boolean | false | Whether multi-select files are supported |\n| renderContent | (res: any, value: any, index: number, values: any[]) => ReactNode | - | Custom content of result  |\n| validatorHandle | ((error: any, file: File) => boolean) \\| boolean  | true | Whether to handle the case of validation failure, if a function is provided, it is judged by the return value of the function. |\n| drop | boolean | false | drop to update |\n| filesFilter | (fileList: any[]) => fileList: any[] | none | Filter after file selection, users can customize the list of files that need to be uploaded eventually<br />Need to return a new file list |\n| onErrorRemove | (xhr: XMLHttpRequest, file: Blob) => void | none | remove update failed callback |\n| forceAccept | string | none | After disabled the file type filtering provided by accept, it is mandatory to check the file type, value same as accept |\n| forceAcceptErrorMsg | string | 无 | Custom error prompt after forceAccept type verification fails |\n| showUploadList | boolean | true | show upload list |\n| leftHandler | boolean | false | add image handler show left |\n| removeConfirm | string \\| object | none | confirmation before deletion |\n| beforeRemove | (value: any) => Promise | none | callback before remove |\n| canDelete | （(value: any) => boolean) \\| boolean | 无 | Can the file be deleted |\n| responseType |  string | none | set xhr.responseType|\n| webkitdirectory | any | false | The same as the native webkitdirectory tag |\n\n### Upload.Image\n\n| Property | Type | Default | Description |\n| --- | --- | --- | --- |\n| children | ReactNode | none | The content of the upload button. It can be empty. |\n| leftHandler | boolean | false | Add image view is displayed on the left |\n| renderResult | (data: any) => ReactNode | a => a | Return the link address of the url of the image.|\n| onErrorRemove | (xhr: XMLHttpRequest, file: Blob) => void | none | remove update failed callback |\n| onPreview | (url, value, index, values, fun: {preview: ()=>void }) => void | none | how to preview the image |\n| ignorePreview | boolean | false | ignore image preview |\n| gapProps | object | {column: 12, row: 12} | gap is the same as Gap component props |\n\n### Upload.Button\n\n| Property | Type | Default | Description |\n| --- | --- | --- | --- |\n| type | string | primary | options: \\['primary', success', 'default', 'warning', 'danger'\\] |\n| placeholder | ReactNode | none | button default content |\n| loading | ReactNode | none | content of uploading, will have spin if a string |\n\n\n### UploadOptions\n\n| Property | Type | Default | Description |\n| --- | --- | --- | --- |\n| file |  File | - |  the file |\n| onLoad | function | - | the event of uploading |\n| onError | function | - | the event of upload fail(in props is onHttpError) |\n| onProgress | function | - | the event of uploading progress |\n| onSuccess | function | - | the event of upload successing |\n| params | object | - | the request params |\n| onStart | function | - | the event of start upload |\n| headers | object | - | the request header |\n\n### Validator\n\n| Property | Type | Description |\n| --- | --- | --- |\n| ext | func(string):Error | Judge the file extension, return the Error when the verification fails. |\n| size | func(number):Error | Judge the size of the file and return the Error when the verification fails. |\n| imageSize | func(Image):Error | It is only valid for Image to determine the size of images and return the Error when the verification fails. |\n| customValidator | func(File):Error | custom validator |\n"},1144:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return m});var a=n(4),o=n(5),i=n(6),c=n(7),l=n(2),r=n(0),s=n.n(r),u=n(307),d=n(67),f=n(185);function p(r){return function(){var e,t=Object(l.a)(r);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(l.a)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Object(c.a)(this,e)}}var m=function(e){Object(i.a)(r,e);var n=p(r);function r(e){var t;return Object(a.a)(this,r),(t=n.call(this,e)).state={value:[]},t}return Object(o.a)(r,[{key:"render",value:function(){var t=this;return s.a.createElement(u.a,{action:"//jsonplaceholder.typicode.com/posts",accept:"image/*",value:this.state.value,name:"file",onSuccess:function(e,t){return t.name},onChange:function(e){console.log(e),t.setState({value:e})},limit:3,style:{width:300}},s.a.createElement(d.a,null,s.a.createElement(f.a,{name:"upload",style:{marginInlineEnd:4}}),"Upload file"))}}]),r}(s.a.Component)},1145:function(e,t){e.exports='/**\n * cn - 基本用法\n *    -- 基础的文件上传, onSuccess 的返回值会作为 value 传给 onChange\n * en - Base\n *    -- Basic usage for uploading file, the onSuccess\'s returns will be the onChange params\n\n */\nimport React from \'react\'\nimport { Upload, Button } from \'shineout\'\nimport FontAwesome from \'../Icon/FontAwesome\'\nimport { isRTL } from "shineout"\n\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      value: [],\n    }\n  }\n\n  render() {\n    return (\n      <Upload\n        action="//jsonplaceholder.typicode.com/posts"\n        accept="image/*"\n        value={this.state.value}\n        name="file"\n        onSuccess={(res, file) => file.name}\n        onChange={v => {\n          console.log(v)\n          this.setState({ value: v })\n        }}\n        limit={3}\n        style={{ width: 300 }}\n      >\n        <Button>\n          <FontAwesome name="upload" style={{ marginInlineEnd: 4 }} />\n          Upload file\n        </Button>\n      </Upload>\n    )\n  }\n}\n'},1146:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return m});var a=n(4),o=n(5),i=n(6),c=n(7),l=n(2),r=n(0),s=n.n(r),u=n(307),d=n(67),f=n(185);function p(r){return function(){var e,t=Object(l.a)(r);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(l.a)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Object(c.a)(this,e)}}var m=function(e){Object(i.a)(r,e);var n=p(r);function r(e){var t;return Object(a.a)(this,r),(t=n.call(this,e)).state={value:[]},t}return Object(o.a)(r,[{key:"render",value:function(){var t=this;return s.a.createElement(u.a,{action:"//jsonplaceholder.typicode.com/posts",accept:"image/*",value:this.state.value,name:"file",renderResult:function(e){return e.name},onSuccess:function(e,t){return t},onChange:function(e){console.log(e),t.setState({value:e})},limit:3,style:{width:300}},s.a.createElement(d.a,null,s.a.createElement(f.a,{name:"upload",style:{marginInlineEnd:4}}),"Upload file"))}}]),r}(s.a.Component)},1147:function(e,t){e.exports='/**\n * cn - 自定义结果\n *    -- 默认展示的结果和 value 里面所存储的值是一样的, 如果有需求需要, 可以用 renderResult 自行处理\n * en - Custom result\n *    -- The result of the default display is the same as the value stored in the value. If there is a need, you can use the renderResult to handle it yourself.\n\n */\nimport React from \'react\'\nimport { Upload, Button } from \'shineout\'\nimport FontAwesome from \'../Icon/FontAwesome\'\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      value: [],\n    }\n  }\n\n  render() {\n    return (\n      <Upload\n        action="//jsonplaceholder.typicode.com/posts"\n        accept="image/*"\n        value={this.state.value}\n        name="file"\n        renderResult={f => f.name}\n        onSuccess={(res, file) => file}\n        onChange={v => {\n          console.log(v)\n          this.setState({ value: v })\n        }}\n        limit={3}\n        style={{ width: 300 }}\n      >\n        <Button>\n          <FontAwesome name="upload" style={{ marginInlineEnd: 4 }} />\n          Upload file\n        </Button>\n      </Upload>\n    )\n  }\n}\n'},1148:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(307);t.default=function(){return a.a.createElement(o.a.Image,{drop:!0,action:"//jsonplaceholder.typicode.com/posts",accept:"image/*",name:"file",onSuccess:function(e,t,n){return{data:n}},renderResult:function(e){return e.data},limit:3,onStart:function(e){return console.log(e)}})}},1149:function(e,t){e.exports='/**\n * cn - 上传图片\n *    -- 使用 Upload.Image 处理带预览的图片上传\n * en - Image\n *    -- Use Upload.Image to upload and preview images.\n */\nimport React from \'react\'\nimport { Upload } from \'shineout\'\n\nexport default function() {\n  return (\n    <Upload.Image\n      drop\n      action="//jsonplaceholder.typicode.com/posts"\n      accept="image/*"\n      name="file"\n      onSuccess={(res, file, data) => ({ data })}\n      renderResult={f => f.data}\n      limit={3}\n      onStart={f => console.log(f)}\n    />\n  )\n}\n'},1150:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(307),i=n(303);t.default=function(){return a.a.createElement(o.a.Image,{action:"//jsonplaceholder.typicode.com/posts",accept:"image/*",name:"file",onSuccess:function(e,t,n){return{data:n}},renderResult:function(e){return e.data},limit:3,onStart:function(e){return console.log(e)},renderContent:function(e,t,n,r){return console.log(e,t,n,r),a.a.createElement("div",{onClick:function(){return i.a.info("i am click")}},a.a.createElement("img",{width:"100%",src:e,alt:"not found"}))}})}},1151:function(e,t){e.exports='/**\n * cn - 自定义结果内容\n *    -- 使用  renderContent 可以自定义上传之后的图片结果.\n * en - Custom result content\n *    -- Use renderContent to customize the image results after uploading.\n */\nimport React from \'react\'\nimport { Upload, Message } from \'shineout\'\n\nexport default function() {\n  return (\n    <Upload.Image\n      action="//jsonplaceholder.typicode.com/posts"\n      accept="image/*"\n      name="file"\n      onSuccess={(res, file, data) => ({ data })}\n      renderResult={f => f.data}\n      limit={3}\n      onStart={f => console.log(f)}\n      renderContent={(d, v, i, values) => {\n        console.log(d, v, i, values)\n        return (\n          <div onClick={() => Message.info(\'i am click\')}>\n            <img width="100%" src={d} alt="not found" />\n          </div>\n        )\n      }}\n    />\n  )\n}\n'},1152:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(307);t.default=function(){return a.a.createElement(o.a.Button,{action:"//jsonplaceholder.typicode.com/posts",name:"file",onSuccess:function(e,t){return t.name},loading:"正在上传...",placeholder:"点击上传",type:"primary"})}},1153:function(e,t){e.exports='/**\n * cn - 按钮上传\n *    -- 使用 Upload.Button 展示单个文件的上传进度\n * en - Button\n *    -- Use Upload.Button to show the upload progress of individual files\n */\nimport React from \'react\'\nimport { Upload } from \'shineout\'\n\nexport default function() {\n  return (\n    <Upload.Button\n      action="//jsonplaceholder.typicode.com/posts"\n      name="file"\n      onSuccess={(res, file) => file.name}\n      loading="正在上传..."\n      placeholder="点击上传"\n      type="primary"\n    />\n  )\n}\n'},1154:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(307);t.default=function(){return a.a.createElement(o.a.Image,{defaultValue:[{data:"/images/1_b.jpg"}],action:"//jsonplaceholder.typicode.com/posts",renderResult:function(e){return e.data},onSuccess:function(e,t,n){return{data:n}},removeConfirm:"Are you sure to delete it ?"})}},1155:function(e,t){e.exports="/**\n * cn - 删除确认\n *    -- 设置 removeConfirm 属性来开启删除前确认\n * en - Remove Confirm\n *    -- Set the removeConfirm property to enable confirmation before deleting\n */\nimport React from 'react'\nimport { Upload } from 'shineout'\n\nexport default () => (\n  <Upload.Image\n    defaultValue={[{ data: '/images/1_b.jpg' }]}\n    action=\"//jsonplaceholder.typicode.com/posts\"\n    renderResult={d => d.data}\n    onSuccess={(res, file, data) => ({ data })}\n    removeConfirm=\"Are you sure to delete it ?\"\n  />\n)\n"},1156:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(307),i=n(185);t.default=function(){return a.a.createElement(o.a.Image,{action:"//jsonplaceholder.typicode.com/posts",accept:"image/*",name:"file",onSuccess:function(e,t,n){return{data:n}},width:200,height:100,limit:1,renderResult:function(e){return e.data},validator:{imageSize:function(e){return 200!==e.width||100!==e.height?new Error("only allow 200px * 100px"):void 0},ext:function(e){return["jpg","png"].includes(e)?void 0:new Error("File extension must be jpg or png")}}},a.a.createElement("div",{style:{margin:"auto",color:"#999",textAlign:"center"}},a.a.createElement(i.a,{name:"upload"})," Upload Image",a.a.createElement("br",null),"Allow size 200 * 100"))}},1157:function(e,t){e.exports="/**\n * cn - 校验\n *    -- 通过 validator.imageSize 校验图片长宽，本例为 200px * 100px\n * en - Validator\n *    -- Set validator.imageSize to validate the width and height of the image.\n */\nimport React from 'react'\nimport { Upload } from 'shineout'\nimport FontAwesome from '../Icon/FontAwesome'\n\nexport default function() {\n  return (\n    <Upload.Image\n      action=\"//jsonplaceholder.typicode.com/posts\"\n      accept=\"image/*\"\n      name=\"file\"\n      onSuccess={(res, file, data) => ({ data })}\n      width={200}\n      height={100}\n      limit={1}\n      renderResult={f => f.data}\n      validator={{\n        imageSize: img => (img.width !== 200 || img.height !== 100 ? new Error('only allow 200px * 100px') : undefined),\n        ext: ext => (['jpg', 'png'].includes(ext) ? undefined : new Error('File extension must be jpg or png')),\n      }}\n    >\n      <div style={{ margin: 'auto', color: '#999', textAlign: 'center' }}>\n        <FontAwesome name=\"upload\" /> Upload Image\n        <br />\n        Allow size 200 * 100\n      </div>\n    </Upload.Image>\n  )\n}\n"},1158:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(307),i=n(67),c=n(185);t.default=function(){return a.a.createElement("div",null,a.a.createElement(o.a,{action:"//jsonplaceholder.typicode.com/posts",accept:"image/*",multiple:!0,name:"file",onSuccess:function(e,t){return t.name},style:{width:300,marginBottom:30},validator:{size:function(e){return 10240<e?new Error("max file size is 10KB"):void 0}},validatorHandle:function(e,t){return console.log(e,t),!0}},a.a.createElement(i.a,null,a.a.createElement(c.a,{name:"upload"})," Upload file")),a.a.createElement(o.a.Image,{action:"//jsonplaceholder.typicode.com/posts",accept:"image/*",multiple:!0,name:"file",onSuccess:function(e,t,n){return{data:n}},validator:{size:function(e){return 10240<e?new Error("max file size is 10KB"):void 0}},renderResult:function(e){return e.data}}))}},1159:function(e,t){e.exports='/**\n * cn - 文件大小\n *    -- 文件大小校验，本例为 10KB\n * en -\n *    -- Set validator.size to validate the size of the file. This example is 10KB.\n */\nimport React from \'react\'\nimport { Upload, Button } from \'shineout\'\nimport FontAwesome from \'../Icon/FontAwesome\'\n\nexport default function() {\n  return (\n    <div>\n      <Upload\n        action="//jsonplaceholder.typicode.com/posts"\n        accept="image/*"\n        multiple\n        name="file"\n        onSuccess={(res, file) => file.name}\n        style={{ width: 300, marginBottom: 30 }}\n        validator={{\n          size: s => (s > 10240 ? new Error(\'max file size is 10KB\') : undefined),\n        }}\n        validatorHandle={(error, file) => {\n          console.log(error, file)\n          return true\n        }}\n      >\n        <Button>\n          <FontAwesome name="upload" /> Upload file\n        </Button>\n      </Upload>\n\n      <Upload.Image\n        action="//jsonplaceholder.typicode.com/posts"\n        accept="image/*"\n        multiple\n        name="file"\n        onSuccess={(res, file, data) => ({ data })}\n        validator={{\n          size: s => (s > 10240 ? new Error(\'max file size is 10KB\') : undefined),\n        }}\n        renderResult={f => f.data}\n      />\n    </div>\n  )\n}\n'},1160:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(307),i=n(67),c=n(185);t.default=function(){return a.a.createElement("div",null,a.a.createElement(o.a,{action:"/path-no-exist",accept:"image/*",name:"file",onSuccess:function(e,t){return t.name},onHttpError:function(e){return console.log(e),404===e.status?"Url not found.":"Upload Fail."},limit:3,style:{width:300,marginBottom:30}},a.a.createElement(i.a,null,a.a.createElement(c.a,{name:"upload"})," Upload file")),a.a.createElement(o.a.Image,{action:"/path-no-exist",accept:"image/*",name:"file",onSuccess:function(e,t,n){return{data:n}},onHttpError:function(e){return console.log(e),404===e.status?"Url not found.":"Upload Fail."},renderResult:function(e){return e.data}}))}},1161:function(e,t){e.exports="/**\n * cn - 异常处理\n *    -- onHttpError 用来处理上传到服务器返回的异常\n * en - Error\n *    -- Set onHttpError to handle exceptions returned by uploading to the server.\n */\nimport React from 'react'\nimport { Upload, Button } from 'shineout'\nimport FontAwesome from '../Icon/FontAwesome'\n\nexport default function() {\n  return (\n    <div>\n      <Upload\n        action=\"/path-no-exist\"\n        accept=\"image/*\"\n        name=\"file\"\n        onSuccess={(res, file) => file.name}\n        onHttpError={xhr => {\n          console.log(xhr)\n          if (xhr.status === 404) return 'Url not found.'\n          return 'Upload Fail.'\n        }}\n        limit={3}\n        style={{ width: 300, marginBottom: 30 }}\n      >\n        <Button>\n          <FontAwesome name=\"upload\" /> Upload file\n        </Button>\n      </Upload>\n\n      <Upload.Image\n        action=\"/path-no-exist\"\n        accept=\"image/*\"\n        name=\"file\"\n        onSuccess={(res, file, data) => ({ data })}\n        onHttpError={xhr => {\n          console.log(xhr)\n          if (xhr.status === 404) return 'Url not found.'\n          return 'Upload Fail.'\n        }}\n        renderResult={f => f.data}\n      />\n    </div>\n  )\n}\n"},1162:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(307),i=n(67),c=n(185),l=function(e){var t=e.file,n=e.onLoad,r=e.onError,a=e.onProgress,o=new XMLHttpRequest;o.open("post","//jsonplaceholder.typicode.com/posts");var i=new FormData;return i.append("test",t),o.upload.onprogress=a,o.onload=function(){return n(o)},o.onerror=function(){return r({statusText:"error message"})},o.send(i),o};t.default=function(){return a.a.createElement(o.a,{accept:"image/*",onSuccess:function(e,t){return{name:"upload ".concat(t.name)}},limit:3,style:{width:300},request:l,renderResult:function(e){return e.name}},a.a.createElement(i.a,null,a.a.createElement(c.a,{name:"upload"})," Upload file"))}},1163:function(e,t){e.exports="/**\n * cn - 自定义上传\n *    -- 通过 request 函数，替代默认上传方法\n * en - Custom Request\n *    -- Set request property to use your own XMLHttpRequest.\n */\nimport React from 'react'\nimport { Upload, Button } from 'shineout'\nimport FontAwesome from '../Icon/FontAwesome'\n\nconst request = options => {\n  const { file, onLoad, onError, onProgress } = options\n  const xhr = new XMLHttpRequest()\n  xhr.open('post', '//jsonplaceholder.typicode.com/posts')\n\n  const data = new FormData()\n  data.append('test', file)\n  xhr.upload.onprogress = onProgress\n  xhr.onload = () => onLoad(xhr)\n  xhr.onerror = () => onError({ statusText: 'error message' })\n  xhr.send(data)\n\n  return xhr\n}\n\nexport default function() {\n  return (\n    <Upload\n      accept=\"image/*\"\n      onSuccess={(res, file) => ({ name: `upload ${file.name}` })}\n      limit={3}\n      style={{ width: 300 }}\n      request={request}\n      renderResult={d => d.name}\n    >\n      <Button>\n        <FontAwesome name=\"upload\" />\n        &nbsp;Upload file\n      </Button>\n    </Upload>\n  )\n}\n"},1164:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(307),i=function(e){var t=e.file,n=e.onLoad,r=e.onError,a=new FileReader;a.addEventListener("load",function(){n({status:200,response:a.result})}),a.addEventListener("error",function(){r({statusText:"Oops, something went wrong"})}),a.readAsDataURL(t)};t.default=function(){return a.a.createElement(o.a.Image,{accept:"image/*",onSuccess:function(e,t){return{name:t.name,src:e}},request:i,renderResult:function(e){return e.src}})}},1165:function(e,t){e.exports="/**\n * cn -\n *    -- 使用 request 略过上传过程\n * en -\n *    -- ignore request with request\n */\nimport React from 'react'\nimport { Upload } from 'shineout'\n\nconst request = options => {\n  const { file, onLoad, onError } = options\n  const reader = new FileReader()\n  reader.addEventListener('load', () => {\n    onLoad({ status: 200, response: reader.result })\n  })\n  reader.addEventListener('error', () => {\n    onError({ statusText: 'Oops, something went wrong' })\n  })\n  reader.readAsDataURL(file)\n}\n\nexport default function() {\n  return (\n    <Upload.Image\n      accept=\"image/*\"\n      onSuccess={(dataURL, file) => ({ name: file.name, src: dataURL })}\n      request={request}\n      renderResult={d => d.src}\n    />\n  )\n}\n"},1166:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(307),i=n(67),c=n(185),l=function(e){var r=e.file,a=e.onLoad,o=e.onError,i=e.onProgress,c=new XMLHttpRequest;c.open("post","//jsonplaceholder.typicode.com/posts");var t=new window.JSZip;return t.file(r.name,r),t.generateInternalStream({type:"blob"}).accumulate(function(e){i(e,"zipping...")}).then(function(e){var t=new File([e],"".concat(r.name,".zip")),n=new FormData;n.append("file",t),c.upload.onprogress=function(e){return i(e,"sending...")},c.onload=function(){return a(c)},c.onerror=function(){return o({statusText:"error message"})},c.send(n)}),c};t.default=function(){return a.a.createElement(o.a,{onSuccess:function(e,t){return{name:"upload ".concat(t.name)}},limit:3,style:{width:300},request:l,renderResult:function(e){return e.name}},a.a.createElement(i.a,null,a.a.createElement(c.a,{name:"upload"})," Upload file"))}},1167:function(e,t){e.exports="/**\n * cn -\n *    -- 此事例演示通过自定义函数压缩文件后上传\n * en -\n *    -- Zip file and upload.\n */\nimport React from 'react'\nimport { Upload, Button } from 'shineout'\nimport FontAwesome from '../Icon/FontAwesome'\n\nconst request = options => {\n  const { file, onLoad, onError, onProgress } = options\n\n  const xhr = new XMLHttpRequest()\n  xhr.open('post', '//jsonplaceholder.typicode.com/posts')\n\n  const zip = new window.JSZip()\n  zip.file(file.name, file)\n  zip\n    .generateInternalStream({ type: 'blob' })\n    .accumulate(e => {\n      onProgress(e, 'zipping...')\n    })\n    .then(content => {\n      const zipFile = new File([content], `${file.name}.zip`)\n      const data = new FormData()\n      data.append('file', zipFile)\n      xhr.upload.onprogress = m => onProgress(m, 'sending...')\n      xhr.onload = () => onLoad(xhr)\n      xhr.onerror = () => onError({ statusText: 'error message' })\n      xhr.send(data)\n    })\n\n  return xhr\n}\n\nexport default function() {\n  return (\n    <Upload\n      onSuccess={(res, file) => ({ name: `upload ${file.name}` })}\n      limit={3}\n      style={{ width: 300 }}\n      request={request}\n      renderResult={d => d.name}\n    >\n      <Button>\n        <FontAwesome name=\"upload\" /> Upload file\n      </Button>\n    </Upload>\n  )\n}\n"},1168:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(307),i=n(67),c=n(185);t.default=function(){var t=[{name:"test file.png",url:"../images/1_s.jpg"}];return a.a.createElement("div",null,a.a.createElement(o.a,{action:"//jsonplaceholder.typicode.com/posts",accept:"image/*",multiple:!0,limit:2,name:"file",onSuccess:function(e,t){return{name:t.name}},style:{width:300,marginBottom:30},defaultValue:t,renderResult:function(e){return e.name}},a.a.createElement(i.a,null,a.a.createElement(c.a,{name:"upload"}),"Upload file")),a.a.createElement("br",null),a.a.createElement(o.a.Image,{action:"//jsonplaceholder.typicode.com/posts",accept:"image/*",multiple:!0,name:"file",canDelete:function(e){return e.name!==t[0].name},recoverAble:!0,onSuccess:function(e,t,n){return{url:n}},renderResult:function(e){return e.url},defaultValue:t}))}},1169:function(e,t){e.exports='/**\n * cn - 默认值\n *    -- 默认值示例\n * en - defaultValue\n *    -- defaultValue example\n */\nimport React from \'react\'\nimport { Upload, Button } from \'shineout\'\nimport FontAwesome from \'../Icon/FontAwesome\'\n\nexport default function() {\n  const defaultValue = [\n    {\n      name: \'test file.png\',\n      url: \'../images/1_s.jpg\',\n    },\n  ]\n\n  return (\n    <div>\n      <Upload\n        action="//jsonplaceholder.typicode.com/posts"\n        accept="image/*"\n        multiple\n        limit={2}\n        name="file"\n        onSuccess={(res, file) => ({ name: file.name })}\n        style={{ width: 300, marginBottom: 30 }}\n        defaultValue={defaultValue}\n        renderResult={f => f.name}\n      >\n        <Button>\n          <FontAwesome name="upload" />\n          Upload file\n        </Button>\n      </Upload>\n      <br />\n      <Upload.Image\n        action="//jsonplaceholder.typicode.com/posts"\n        accept="image/*"\n        multiple\n        name="file"\n        canDelete={value => value.name !== defaultValue[0].name}\n        recoverAble\n        onSuccess={(res, file, data) => ({ url: data })}\n        renderResult={f => f.url}\n        defaultValue={defaultValue}\n      />\n    </div>\n  )\n}\n'},1170:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(307),i=n(185),c={background:"#fafafa",textAlign:"center",width:"100%",padding:20};function l(){return a.a.createElement(o.a.Image,{action:"//jsonplaceholder.typicode.com/posts",accept:"image/*",name:"file",onSuccess:function(e,t,n){return{data:n}},renderResult:function(e){return e.data},limit:3,onStart:function(e){return console.log(e)},width:250,drop:!0,disabled:!0},a.a.createElement("div",{style:c},a.a.createElement(i.a,{style:{color:"#409dfd",fontSize:20},name:"image"}),a.a.createElement("p",null,"Click or Drag image to upload")))}function s(){return a.a.createElement(o.a,{action:"//jsonplaceholder.typicode.com/posts",multiple:!0,name:"file",onSuccess:function(e,t){return t.name},limit:3,style:{width:400},drop:!0,disabled:!0},a.a.createElement("div",{style:c},a.a.createElement(i.a,{style:{color:"#409dfd",fontSize:28},name:"archive"}),a.a.createElement("p",{style:{marginTop:14}},"Click or drag file to this area to upload")))}t.default=function(){return a.a.createElement("div",null,a.a.createElement(l,null),a.a.createElement("br",null),a.a.createElement(s,null))}},1171:function(e,t){e.exports="/**\n * cn - 拖拽上传\n *    -- 设置 drop 来支持拖拽上传\n * en - Drag and Drop\n *    -- set drop to Drag files to upload.\n */\nimport React from 'react'\nimport { Upload } from 'shineout'\nimport FontAwesome from '../Icon/FontAwesome'\n\nconst placholderStyle = { background: '#fafafa', textAlign: 'center', width: '100%', padding: 20 }\n\nfunction DraggerImage() {\n  return (\n    <Upload.Image\n      action=\"//jsonplaceholder.typicode.com/posts\"\n      accept=\"image/*\"\n      name=\"file\"\n      onSuccess={(res, file, data) => ({ data })}\n      renderResult={f => f.data}\n      limit={3}\n      onStart={f => console.log(f)}\n      width={250}\n      drop\n      disabled\n    >\n      <div style={placholderStyle}>\n        <FontAwesome style={{ color: '#409dfd', fontSize: 20 }} name=\"image\" />\n        <p>Click or Drag image to upload</p>\n      </div>\n    </Upload.Image>\n  )\n}\n\nfunction DraggerFile() {\n  return (\n    <Upload\n      action=\"//jsonplaceholder.typicode.com/posts\"\n      multiple\n      name=\"file\"\n      onSuccess={(res, file) => file.name}\n      limit={3}\n      style={{ width: 400 }}\n      drop\n      disabled\n    >\n      <div style={placholderStyle}>\n        <FontAwesome style={{ color: '#409dfd', fontSize: 28 }} name=\"archive\" />\n        <p style={{ marginTop: 14 }}>Click or drag file to this area to upload</p>\n      </div>\n    </Upload>\n  )\n}\n\nexport default function() {\n  return (\n    <div>\n      <DraggerImage />\n      <br />\n      <DraggerFile />\n    </div>\n  )\n}\n"},300:function(e,t,n){"use strict";var r=n(0),v=n.n(r),a=n(14),g=n.n(a),o=(n(31),n(569)),i=n.n(o),c=n(8),b=Object(c.a)(i.a,"progress"),y=function(n){return n.from?[{pos:"0%",color:n.from},{pos:"100%",color:n.to}]:Object.keys(n).sort(function(e,t){return window.parseInt(e)-window.parseInt(t)}).reduce(function(e,t){return e.push({pos:t,color:n[t]}),e},[])},l=n(28),s=n(4),u=n(5),d=n(6),f=n(7),p=n(2),w=n(9);function m(r){return function(){var e,t=Object(p.a)(r);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(p.a)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Object(f.a)(this,e)}}var h=function(e){Object(d.a)(n,e);var t=m(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"getStyle",value:function(){var e,t=this.props.value,n=0;return n=t<=60?t/60*15:15*(1-t/100),e={},Object(l.a)(e,Object(w.b)()?"right":"left","".concat(t,"%")),Object(l.a)(e,"transform","translateX(".concat(Object(w.b)()?"50%":"-50%",") rotate(").concat(n,"deg)")),e}},{key:"render",value:function(){var e=this.props.children;return v.a.createElement("div",{className:b("popup"),style:this.getStyle()},v.a.createElement("span",{className:b("value")},e),v.a.createElement("span",{className:b("arrow")}))}}]),n}(v.a.Component);function j(e){var t=e.children,n=e.strokeWidth,r=e.type,a=e.value,o=e.color,i=e.style,c=e.background,l=e.popup,s=void 0!==t,u=l&&s,d=g()(b("line",r,u&&"line-popup",Object(w.b)()&&"rtl"),e.className),f={width:"".concat(a/100*100,"%"),borderRadius:n/2};return"string"==typeof o?(f.background=o,f.backgroundSize="1em 1em"):"object"==typeof o&&(f.background="linear-gradient(to right, ".concat(y(o).reduce(function(e,t){var n="".concat(t.color," ").concat(t.pos);return e?"".concat(e,",").concat(n):n},""),")")),v.a.createElement("div",{className:d,style:i},v.a.createElement("div",{className:b("background"),style:{height:n,background:c,borderRadius:n/2}},v.a.createElement("div",{className:b("front"),style:f})),s&&(l?v.a.createElement(h,Object.assign({},e,{value:a})):v.a.createElement("div",{className:b("content")},t)))}j.defaultProps={strokeWidth:8};var E=j;function R(e){var t=e.children,n=e.strokeWidth,r=e.type,a=e.color,o=e.size,i=e.value,c=e.background,l=e.strokeLinecap,s=g()(b("circle",r,Object(w.b)()&&"rtl"),e.className),u=100-Math.ceil(n/o*100),d=2*Math.PI*u,f=[d*(i/100),d*(1-i/100)],p=Object.assign({width:o,height:o},e.style),m=0===i&&"round"===l?0:2*n,h=a&&"object"==typeof a;return v.a.createElement("div",{className:s,style:p},v.a.createElement("svg",{viewBox:"0 0 200 200"},h?v.a.createElement("defs",null,v.a.createElement("linearGradient",{id:"progress-linear",x1:"50%",x2:"50%",y1:"0%",y2:"100%"},y(a).map(function(e){return v.a.createElement("stop",{key:e.pos,offset:e.pos,stopColor:e.color})}))):null,v.a.createElement("circle",{className:b("background"),cx:"100",cy:"100",r:u,strokeWidth:2*n,fill:"transparent",style:{stroke:c}}),v.a.createElement("circle",{className:b("front"),cx:"100",cy:"100",r:u,fill:"transparent",style:{stroke:h?"url('#progress-linear')":a},strokeDasharray:f,strokeLinecap:l,strokeWidth:m})),t&&v.a.createElement("div",{className:b("content")},t))}R.defaultProps={strokeLinecap:"round",strokeWidth:8,size:100};var O=R;function x(e){switch(e.shape){case"circle":return v.a.createElement(O,e);default:return v.a.createElement(E,e)}}x.defaultProps={shape:"line"},x.displayName="ShineoutProgress";t.a=x},302:function(e,t,n){"use strict";var r=n(4),a=n(5),o=n(6),i=n(7),c=n(2),l=n(0),s=n.n(l),u=n(14),d=n.n(u),f=(n(31),n(570)),p=n.n(f),m=n(8),h=Object(m.a)(p.a,"gap");function v(r){return function(){var e,t=Object(c.a)(r);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(c.a)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Object(i.a)(this,e)}}var g=function(){var e=document.createElement("div");e.style.display="flex",e.style.flexDirection="column",e.style.rowGap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),document.body.appendChild(e);var t=1===e.scrollHeight;return e.parentNode.removeChild(e),t}(),b=function(e){Object(o.a)(n,e);var t=v(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"getStyle",value:function(){var e=this.props,t=e.row,n=e.column,r=e.style,a=g?{rowGap:t,columnGap:n}:{marginBottom:-t};return Object.assign({},r,a)}},{key:"getItemStyle",value:function(e){var t=this.props,n=t.row,r=t.column,a=t.itemStyle,o=t.children;if(g)return a;var i=s.a.Children.count(o)-1===e;return Object.assign({},a,{marginBottom:n},!i&&{marginRight:r})}},{key:"render",value:function(){var n=this,e=this.props.children,t=d()(h("_"),this.props.className);return s.a.createElement("div",{className:t,style:this.getStyle()},s.a.Children.map(e,function(e,t){return e&&s.a.createElement("div",{className:h("item"),style:n.getItemStyle(t)},e)}))}}]),n}(l.PureComponent);b.defaultProps={row:8,column:8};t.a=b},303:function(e,t,n){"use strict";var r=n(0),f=n.n(r),a=n(46),o=n.n(a),p=n(110),i=n(4),c=n(5),l=n(1),s=n(6),u=n(7),d=n(2),m=n(41),h=n(17),v=n(123),g=n(21);function b(r){return function(){var e,t=Object(d.a)(r);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(d.a)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Object(u.a)(this,e)}}var y=function(e){Object(s.a)(r,e);var n=b(r);function r(e){var t;return Object(i.a)(this,r),(t=n.call(this,e)).state={messages:[]},t.removeMessage=t.removeMessage.bind(Object(l.a)(t)),t.handleClassName=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"top",t=1<arguments.length?arguments[1]:void 0;return Object(p.a)("item","item-".concat(t?"dismissed":"show","-").concat(e))},t.handleStyle=function(e,t,n){if(!e||null==t)return null;var r={};switch(n){case"bottom-right":case"bottom-left":break;default:r={zIndex:-1,opacity:0,marginTop:-t}}return r},t}return Object(c.a)(r,[{key:"addMessage",value:function(t){var e=this,n=Object(g.c)();return this.setState(Object(m.a)(function(e){e.messages.push(Object.assign({id:n},t))})),0<t.duration&&setTimeout(function(){e.setState(Object(m.a)(function(e){e.messages.forEach(function(e){e.id===n&&(e.dismiss=!0)})}))},1e3*t.duration),this.closeMessageForAnimation.bind(this,n,200,200)}},{key:"removeMessage",value:function(t){var n,e=this.state.messages.filter(function(e){return e.id!==t||(e.onClose&&(n=e.onClose),!1)});0===e.length?this.props.onDestory():this.setState({messages:e}),n&&n()}},{key:"closeMessageForAnimation",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n[0],o=n[1],i=n[2];o?(this.setState(Object(m.a)(function(e){e.messages.forEach(function(e){e.id===a&&(e.dismiss=!0,e.h=i+20)})})),setTimeout(function(){e.removeMessage(a)},o)):this.removeMessage(a)}},{key:"closeEvent",value:function(e,t){if(0===t)return this.removeMessage.bind(this,e)}},{key:"render",value:function(){var d=this;return[this.state.messages.map(function(e){var t=e.id,n=e.type,r=e.content,a=e.dismiss,o=e.h,i=e.title,c=e.top,l=e.className,s=e.position,u=e.hideClose;return f.a.createElement("div",{key:t,className:"".concat(d.handleClassName(s,a)," ").concat(l),style:d.handleStyle(a,o,s)},f.a.createElement(v.a,{outAnimation:!0,className:Object(p.a)("msg"),dismiss:a,hideClose:u,onClose:d.closeMessageForAnimation.bind(d,t),icon:!0,iconSize:i?20:14,style:{top:c},type:n},i&&f.a.createElement("h3",null,i),r))})]}}]),r}(h.b);y.displayName="ShineoutMessage";var w=y,j={},E={};function R(e){j[e]&&(o.a.unmountComponentAtNode(j[e]),document.body.removeChild(j[e]),delete j[e]),E[e]&&delete E[e]}function O(a){return new Promise(function(t){var e,n,r=E[a];r?t(r):o.a.render(f.a.createElement(w,{ref:function(e){E[a]=e,t(e)},onDestory:R.bind(null,a)}),(e=a,(n=document.createElement("div")).className=Object(p.a)("_",e),document.body.appendChild(n),j[e]=n))})}var x={},k=function(p){return function(t,n,e){var r=Object.assign({},x,e);n=[n,x.duration,3].find(function(e){return"number"==typeof e});var a=r.onClose,o=r.position,i=void 0===o?"top":o,c=r.title,l=r.className,s=void 0===l?"":l,u=r.top,d=void 0===u?"auto":u,f=r.hideClose;return O(i).then(function(e){return e.addMessage({content:t,duration:n,type:p,onClose:a,title:c,className:s,top:d,position:i,hideClose:f})})}};t.a={show:k("default"),success:k("success"),info:k("info"),warn:k("warning"),warning:k("warning"),danger:k("danger"),error:k("danger"),close:function(e){e?R(e):["top","middle","top-left","top-right","bottom-left","bottom-right"].forEach(function(e){R(e)})},setOptions:function(e){x=e}}},307:function(e,t,n){"use strict";var r=n(60),h=n(12),a=n(571),v=n.n(a),o=n(572),i=n(4),c=n(5),l=n(1),s=n(6),u=n(7),d=n(2),f=n(0),k=n.n(f),p=n(14),S=n.n(p),y=n(41),C=n(302),m=n(17),g=n(21),b=n(43),w=(n(31),n(573)),j=n.n(w),E=n(8),D=Object(E.a)(j.a,"upload");var R=function(e){var t=e.url,n=e.name,r=(e.cors,e.file),a=e.onProgress,o=e.onLoad,i=e.onError,c=e.withCredentials,l=e.params,s=void 0===l?{}:l,u=e.headers,d=void 0===u?{}:u,f=e.onStart,p=e.responseType;if(t){var m=new FormData;Object.keys(s).forEach(function(e){m.append(e,s[e])}),m.append(n,r);var h,v,g,b=(h="post",v=t,"withCredentials"in(g=new XMLHttpRequest)?g.open(h,v,!0):"undefined"!=typeof XDomainRequest?(g=new XDomainRequest).open(h,v):g=null,g);return b.withCredentials=c,p&&(b.responseType=p),a&&b.upload.addEventListener("progress",a,!1),b.onload=function(e){return o(e.currentTarget)},b.onerror=i,Object.keys(d).forEach(function(e){b.setRequestHeader(e,d[e])}),f&&f(r),b.send(m),b}console.error(new Error("action is required, but its value is ".concat(t)))};function O(r){return function(){var e,t=Object(d.a)(r);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(d.a)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Object(u.a)(this,e)}}var x={display:"none"},U=function(e){Object(s.a)(r,e);var n=O(r);function r(e){var t;return Object(i.a)(this,r),(t=n.call(this,e)).locked=!1,t.bindElement=t.bindElement.bind(Object(l.a)(t)),t}return Object(c.a)(r,[{key:"bindElement",value:function(e){this.input=e}},{key:"click",value:function(){var e=this;this.locked||(this.locked=!0,this.input.value="",this.input.click(),setTimeout(function(){e.locked=!1},1e3))}},{key:"render",value:function(){var e=this.props,t=e.accept,n=e.onChange,r=e.multiple,a=e.webkitdirectory;return k.a.createElement("input",{ref:this.bindElement,accept:t,multiple:r,onChange:n,style:x,webkitdirectory:a,type:"file"})}}]),r}(f.PureComponent),F=n(300),P=n(51),N=n(53);function I(r){return function(){var e,t=Object(d.a)(r);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(d.a)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Object(u.a)(this,e)}}var A=k.a.createElement("span",{style:{display:"inline-block",marginRight:8}},k.a.createElement(P.a,{size:10,name:"ring"})),L=function(e){Object(s.a)(r,e);var n=I(r);function r(e){var t;return Object(i.a)(this,r),(t=n.call(this,e)).handleRemove=t.handleRemove.bind(Object(l.a)(t)),t}return Object(c.a)(r,[{key:"handleRemove",value:function(){this.props.onRemove(this.props.id)}},{key:"render",value:function(){var e=this.props,t=e.message,n=e.name,r=e.status,a=e.process,o=D("view-file",3===r&&"error");return k.a.createElement("div",{className:o},k.a.createElement("div",{className:D(Object(E.b)("text"))},1===r&&A," ",n," ",t&&k.a.createElement("span",null,"(",t,") ")),k.a.createElement("a",{className:D("delete"),onClick:this.handleRemove},N.a.Close),3!==r&&k.a.createElement(F.a,{className:D("progress"),background:0<=a?"#e9ecef":"transparent",value:a,strokeWidth:2}))}}]),r}(f.PureComponent),T=n(189);function B(r){return function(){var e,t=Object(d.a)(r);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(d.a)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Object(u.a)(this,e)}}var z=function(e){Object(s.a)(r,e);var n=B(r);function r(e){var t;return Object(i.a)(this,r),(t=n.call(this,e)).handleRemove=t.handleRemove.bind(Object(l.a)(t)),t}return Object(c.a)(r,[{key:"handleRemove",value:function(){this.props.onRemove(this.props.id)}},{key:"render",value:function(){var e=this.props,t=e.process,n=e.status,r=e.style,a=e.data,o=e.message,i=D("image-item",3===n&&"error");return k.a.createElement("div",{style:r,className:i},a&&k.a.createElement(T.a,{src:a,fit:"center",width:"auto",height:0,className:D("image-bg")}),o&&k.a.createElement("div",{className:D("message")},o),k.a.createElement("span",{className:D("delete"),onClick:this.handleRemove}),k.a.createElement("div",{className:D("progress-bg")},k.a.createElement(F.a,{className:D("progress"),color:"#f2f2f2",background:"rgba(0,0,0,0.5)",value:t,strokeWidth:2})))}}]),r}(f.PureComponent),V=n(84);function H(r){return function(){var e,t=Object(d.a)(r);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(d.a)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Object(u.a)(this,e)}}var q=function(e){Object(s.a)(r,e);var n=H(r);function r(e){var t;return Object(i.a)(this,r),(t=n.call(this,e)).state={visible:!1},t.handleRemoveConfirm=t.handleRemoveConfirm.bind(Object(l.a)(t)),t.handleRemoveLater=t.handleRemoveLater.bind(Object(l.a)(t)),t}return Object(c.a)(r,[{key:"handleRemoveConfirm",value:function(e){var t=this.props.onVisibleChange;t&&t(e),this.setState({visible:e})}},{key:"handleRemoveLater",value:function(){var t=this.props.onRemove;return new Promise(function(e){t&&t(),e()})}},{key:"render",value:function(){var e=this.state.visible,t=this.props.confirm;if(!t)return null;var n="object"==typeof t?t:{children:t};return k.a.createElement(V.a.Confirm,Object.assign({},n,{onOk:this.handleRemoveLater,visible:e,onVisibleChange:this.handleRemoveConfirm}))}}]),r}(m.a);function M(r){return function(){var e,t=Object(d.a)(r);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(d.a)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Object(u.a)(this,e)}}var _=function(e){Object(s.a)(r,e);var n=M(r);function r(e){var t;return Object(i.a)(this,r),(t=n.call(this,e)).state={confirm:!1},t.handleRemove=t.handleRemove.bind(Object(l.a)(t)),t.handleRecover=t.handleRecover.bind(Object(l.a)(t)),t.handleConfirmChange=t.handleConfirmChange.bind(Object(l.a)(t)),t}return Object(c.a)(r,[{key:"handleRemove",value:function(){this.props.onRemove(this.props.index)}},{key:"handleRecover",value:function(){var e=this.props,t=e.onRecover,n=e.value;t(e.index,n)}},{key:"handleConfirmChange",value:function(e){this.setState({confirm:e})}},{key:"render",value:function(){var e=this.state.confirm,t=this.props,n=t.renderResult,r=t.value,a=t.recoverAble,o=t.showRecover,i=t.removeConfirm,c=D("view-value",a&&"to-be-delete",e&&"view-active");return k.a.createElement("div",{className:c},k.a.createElement("div",{className:D(Object(E.b)("text"))},n(r)),this.props.onRemove&&k.a.createElement("a",{className:D("delete"),onClick:i?void 0:this.handleRemove},N.a.Close,k.a.createElement(q,{onVisibleChange:this.handleConfirmChange,confirm:i,onRemove:this.handleRemove})),o&&k.a.createElement("a",{className:D("recover"),onClick:this.handleRecover},N.a.Recovery))}}]),r}(f.PureComponent);_.defaultProps={renderResult:function(e){return e},recoverAble:!1};var G=_;function K(r){return function(){var e,t=Object(d.a)(r);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(d.a)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Object(u.a)(this,e)}}var W=function(e){Object(s.a)(r,e);var n=K(r);function r(e){var t;return Object(i.a)(this,r),(t=n.call(this,e)).state={confirm:!1},t.handleRemove=t.handleRemove.bind(Object(l.a)(t)),t.handleRecover=t.handleRecover.bind(Object(l.a)(t)),t.bindImage=t.bindImage.bind(Object(l.a)(t)),t.handlePreview=t.handlePreview.bind(Object(l.a)(t)),t.handleConfirmChange=t.handleConfirmChange.bind(Object(l.a)(t)),t.preview=t.preview.bind(Object(l.a)(t)),t}return Object(c.a)(r,[{key:"bindImage",value:function(e){this.image=e}},{key:"handleRemove",value:function(){this.props.onRemove(this.props.index)}},{key:"handleRecover",value:function(){var e=this.props,t=e.onRecover,n=e.value;t(e.index,n)}},{key:"handleConfirmChange",value:function(e){this.setState({confirm:e})}},{key:"preview",value:function(){this.image&&this.image.preview()}},{key:"handlePreview",value:function(){var e=this,t=this.props,n=t.onPreview,r=t.renderResult,a=t.value,o=t.index,i=t.values;n?n(r(a),a,o,i,{preview:function(){return e.preview()}}):this.preview()}},{key:"renderOptions",value:function(){var e=this.props.removeConfirm,t=this.state.confirm;return k.a.createElement("div",{className:D("image-options",t&&"image-active")},k.a.createElement("a",{className:D("options-item"),onClick:this.handlePreview},N.a.Preview),this.props.onRemove&&k.a.createElement("a",{className:D("options-item","options-remove"),onClick:e?void 0:this.handleRemove},N.a.Delete,k.a.createElement(q,{onVisibleChange:this.handleConfirmChange,onRemove:this.handleRemove,confirm:e})))}},{key:"render",value:function(){var e=this.props,t=e.value,n=e.renderResult,r=e.recoverAble,a=e.renderContent,o=e.style,i=e.showRecover,c=e.index,l=e.values,s=D("image-item","image-result",r&&"to-be-delete"),u=n(t);return k.a.createElement("div",{style:o,className:s},u&&(a?a(u,t,c,l):k.a.createElement(T.a,{ref:this.bindImage,src:u,href:u,fit:"center",width:"auto",height:0,className:D("image-bg")})),i&&k.a.createElement("a",{className:D("recover"),onClick:this.handleRecover},N.a.Recovery),this.showRemove&&k.a.createElement("span",{className:D("delete"),onClick:this.handleRemove}),!a&&this.renderOptions())}},{key:"showRemove",get:function(){var e=this.props,t=e.onRemove,n=e.renderContent;return t&&n}}]),r}(f.PureComponent);W.defaultProps={renderResult:function(e){return e}};var X=W,J=n(38),Z=Object(J.a)(),Y=Z.Provider,$=n(194);function Q(r){return function(){var e,t=Object(d.a)(r);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(d.a)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Object(u.a)(this,e)}}var ee=function(e){Object(s.a)(r,e);var n=Q(r);function r(e){var t;return Object(i.a)(this,r),(t=n.call(this,e)).state={drop:!1},t.handleDrag=t.handleDrag.bind(Object(l.a)(t)),t.handleFileDrop=t.handleFileDrop.bind(Object(l.a)(t)),t}return Object(c.a)(r,[{key:"handleFileDrop",value:function(e){var t=e.dataTransfer.files,n=this.props,r=n.accept,a=n.multiple,o=n.onDrop,i=n.dropData,c=r?Array.prototype.filter.call(t,function(e){return Object($.a)(e,r)}):t;c&&0!==c.length&&o&&o(a?c:[c[0]],i)}},{key:"handleDrag",value:function(e){this.props.disabled||(e.preventDefault(),e.stopPropagation(),this.setState({drop:"dragover"===e.type}),"drop"===e.type&&this.handleFileDrop(e))}},{key:"render",value:function(){var e=this.state.drop,t=this.props,n=t.children,r=t.className;return this.props.drop?k.a.createElement("span",{className:S()(r,D(e&&"drop")),onDragOver:this.handleDrag,onDragLeave:this.handleDrag,onDrop:this.handleDrag},n):n}}]),r}(k.a.Component);ee.defaultProps={drop:!1};var te=n(11),ne=n(36);function re(r){return function(){var e,t=Object(d.a)(r);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(d.a)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Object(u.a)(this,e)}}var ae=n(68),oe=n(9);function ie(r){return function(){var e,t=Object(d.a)(r);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(d.a)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Object(u.a)(this,e)}}var ce=[{key:"size",param:function(e){return e.size}},{key:"ext",param:function(e){var t=e.name.split(".");return t[t.length-1]}},{key:"customValidator",param:function(e){return e}}],le=function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=e.apply(void 0,n);return a&&"function"==typeof a.then?a:new Promise(function(e,t){a instanceof Error&&t(a),e(!0)})},se=function(e){Object(s.a)(a,e);var t,n,r=ie(a);function a(e){var t;return Object(i.a)(this,a),(t=r.call(this,e)).state={files:{},recycle:[]},t.addFile=t.addFile.bind(Object(l.a)(t)),t.bindElement=t.bindElement.bind(Object(l.a)(t)),t.handleAddClick=t.handleAddClick.bind(Object(l.a)(t)),t.removeFile=t.removeFile.bind(Object(l.a)(t)),t.removeValue=t.removeValue.bind(Object(l.a)(t)),t.recoverValue=t.recoverValue.bind(Object(l.a)(t)),t.validatorHandle=t.validatorHandle.bind(Object(l.a)(t)),t.updateValidate=t.updateValidate.bind(Object(l.a)(t)),t.useValidator=t.useValidator.bind(Object(l.a)(t)),t.handleFileDrop=t.handleFileDrop.bind(Object(l.a)(t)),t.handleReplace=t.handleReplace.bind(Object(l.a)(t)),e.validateHook(t.validate.bind(Object(l.a)(t))),t}return Object(c.a)(a,[{key:"getCanDelete",value:function(e,t){var n=this.props.canDelete;return Object(te.isFunc)(n)?n(e,t):n}},{key:"getAction",value:function(e){var t=this.props.action;return"string"==typeof t?t:"function"==typeof t?t(e):""}},{key:"validatorHandle",value:function(e,t){var n=this.props.validatorHandle;return"function"==typeof n?n(e,t):n}},{key:"bindElement",value:function(e){this.input=e}},{key:"handleAddClick",value:function(){this.props.disabled||this.input.click()}},{key:"validate",value:function(){var n=this.state.files;return new Promise(function(e,t){0<Object.keys(n).length&&t(new b.a("")),e(!0)})}},{key:"removeFile",value:function(t){var e=this,n=this.props.onErrorRemove,r=this.state.files[t];r&&(r.xhr&&r.xhr.abort&&r.xhr.abort(),this.setState(Object(y.a)(function(e){delete e.files[t]}),function(){3===r.status&&n&&n(r.xhr,r.blob,r),e.updateValidate()}))}},{key:"removeValue",value:function(t){var n=this,e=this.props,r=e.recoverAble,a=e.disabled,o=e.beforeRemove;if(!a){var i=this.props.value[t];("function"==typeof o?o(i):Promise.resolve()).then(function(){n.setState(Object(y.a)(function(e){e.recycle.push(n.props.value[t]),"number"==typeof r&&e.recycle.length>r&&e.recycle.shift()}));var e=Object(y.a)(n.props.value,function(e){e.splice(t,1)});n.props.onChange(e)}).catch(function(){})}}},{key:"recoverValue",value:function(t,n){this.props.disabled||(this.props.onChange(Object(y.a)(this.props.value,function(e){e.push(n)})),this.setState(Object(y.a)(function(e){e.recycle.splice(t,1)})))}},{key:"useValidator",value:(n=Object(o.a)(v.a.mark(function e(t){var n,r,a,o,i,c,l,s,u;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props,r=n.validator,a=n.accept,o=n.forceAccept,i=n.forceAcceptErrorMsg,c=this.state.files,l=null,s=0,!o){e.next=8;break}if(Object($.a)(t,a)){e.next=8;break}return e.abrupt("return",new Error(i||Object(ne.a)("invalidAccept")));case 8:if(!ce[s]){e.next=24;break}if("function"==typeof r[(u=ce[s]).key])return e.prev=11,e.next=14,le(r[u.key],u.param(t),c);e.next=21;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(11),l=e.t0 instanceof Error?e.t0:new Error(e.t0);case 19:if(l instanceof Error)return e.abrupt("return",l);e.next=21;break;case 21:s+=1,e.next=8;break;case 24:return e.abrupt("return",null);case 25:case"end":return e.stop()}},e,this,[[11,16]])})),function(e){return n.apply(this,arguments)})},{key:"addFile",value:(t=Object(o.a)(v.a.mark(function e(t){var n,i,r,a,o,c,l,s,u,d,f,p,m=this;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props,i=n.beforeUpload,r=n.value,a=n.limit,o=n.filesFilter,c=Object(h.a)({},this.state.files),l=!1,s=t.fromDragger&&t.files?t.files:t.target.files,o&&(s=o(Array.from(s))||[]),(u=a-r.length-Object.keys(this.state.files).length)<=0)return e.abrupt("return");e.next=8;break;case 8:d=Array.from({length:Math.min(s.length,u)}),f=v.a.mark(function e(t){var n,r,a,o;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=s[t],r=Object(g.c)(),a={name:n.name,process:-1,status:1,blob:n},c[r]=a,e.next=6,m.useValidator(n);case 6:if(!((o=e.sent)instanceof Error)){e.next=15;break}if(m.validatorHandle(o,a.blob)){e.next=11;break}return delete c[r],e.abrupt("return","continue");case 11:return a.message=o.message,a.status=3,i&&i(n,m.validatorHandle).then(function(t){l?m.setState(Object(y.a)(function(e){e.files[r]=Object.assign({},e.files[r],t)})):c[r]=Object.assign({},c[r],t)}).catch(function(){return!0}),e.abrupt("return","continue");case 15:i?i(n,m.validatorHandle).then(function(t){3!==t.status&&(c[r].xhr=m.uploadFile(r,n,t.data)),l?m.setState(Object(y.a)(function(e){e.files[r]=Object.assign({},e.files[r],t)})):c[r]=Object.assign({},c[r],t)}).catch(function(){l?m.setState(Object(y.a)(function(e){delete e.files[r]})):delete c[r]}):c[r].xhr=m.uploadFile(r,n);case 16:case"end":return e.stop()}},e)}),p=0;case 11:if(p<d.length)return e.delegateYield(f(p),"t0",13);e.next=19;break;case 13:if("continue"===e.t0)return e.abrupt("continue",16);e.next=16;break;case 16:p++,e.next=11;break;case 19:l=!0,this.setState({files:c},function(){m.updateValidate()});case 21:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"uploadFile",value:function(r,a,o){var i=this,e=this.props,c=e.onSuccess,t=e.name,n=e.htmlName,l=e.cors,s=e.params,u=e.withCredentials,d=e.headers,f=e.request,p=e.onProgress,m=e.onStart,h=e.responseType,v=f||R,g=!1,b={url:this.getAction(a),name:n||t,cors:l,params:s,withCredentials:u,file:a,headers:d,responseType:h,onStart:m,onProgress:function(e,t){var n="number"==typeof e.percent?e.percent:e.loaded/e.total*100;g||(g=!0,setTimeout(function(){g=!1},16),i.state.files[r]&&i.setState(Object(y.a)(function(e){e.files[r].process=n,t&&(e.files[r].message=t)}),function(){"function"==typeof p&&p(i.state.files[r])}))},onSuccess:c,onLoad:function(e){var t;if(/^2|1223/.test(e.status))if("text"!==e.responseType&&e.responseType||(t=e.responseText),t||(t=e.response),c&&(t=c(t,a,o,e)),t instanceof Error)i.setState(Object(y.a)(function(e){e.files[r].status=3,e.files[r].name=a.name,e.files[r].message=t.message}));else{i.setState(Object(y.a)(function(e){delete e.files[r]}));var n=Object(y.a)(i.props.value,function(e){e.push(t)});i.props.onChange(n)}else i.handleError(r,e,a)},onError:function(e){return i.handleError(r,e,a)}};return!1!==p&&null!==p||delete b.onProgress,v(b)}},{key:"handleFileDrop",value:function(e){this.addFile({files:e,fromDragger:!0})}},{key:"handleReplace",value:function(e,t){var n=this;this.removeValue(t),setTimeout(function(){n.addFile({files:e,fromDragger:!0})})}},{key:"handleError",value:function(t,e,n){var r=this,a=this.props,o=a.onError,i=a.onHttpError,c=e.statusText;o&&(c=o(e,n)),i&&(c=i(e,n)||c),this.setState(Object(y.a)(function(e){e.files[t]&&(e.files[t].status=3,e.files[t].message=c)}),function(){r.updateValidate()})}},{key:"updateValidate",value:function(){(0,this.props.forceValidate)()}},{key:"renderHandle",value:function(){var e=this.props,t=e.limit,n=e.value,r=e.children,a=e.accept,o=e.multiple,i=e.disabled,c=e.webkitdirectory,l=e.drop,s=n.length+Object.keys(this.state.files).length;if(0<t&&t<=s)return null;var u={multiple:o,addFile:this.addFile,accept:a,disabled:i,limit:t};return k.a.createElement(ee,{drop:l,accept:a,disabled:i,onDrop:this.handleFileDrop,multiple:o||1<t},k.a.createElement("span",{className:D("handle",i&&"disabled"),onClick:this.handleAddClick},k.a.createElement(Y,{value:u},r),k.a.createElement(U,{webkitdirectory:c,accept:a,ref:this.bindElement,multiple:o,onChange:this.addFile})))}},{key:"render",value:function(){var n=this,e=this.props,r=e.limit,a=e.value,o=e.renderResult,t=e.style,i=e.imageStyle,c=e.recoverAble,l=e.showUploadList,s=e.customResult,u=e.disabled,d=e.renderContent,f=e.accept,p=e.drop,m=e.leftHandler,h=e.onPreview,v=e.removeConfirm,g=e.GapProps,b=this.state,y=b.files,w=b.recycle,j=p&&!i,E=S()(D("_",Object(oe.b)()&&"rtl",u&&"disabled",!1===l&&"hide-list",j&&"file-drop"),this.props.className),R=i?z:L,O=i?X:G;if(s)return k.a.createElement("div",{className:E,style:t},this.renderHandle(),k.a.createElement(s,{value:a,files:y,onValueRemove:this.removeValue,onFileRemove:this.removeFile}));var x=i?C.a:k.a.Fragment;return k.a.createElement("div",Object.assign({className:E,style:t},Object(ae.a)(this.props)),k.a.createElement(x,i?g:null,!i&&this.renderHandle(),i&&m&&this.renderHandle(),l&&a.map(function(e,t){return k.a.createElement(ee,{drop:p,multiple:!1,key:t,accept:f,dropData:t,disabled:u,onDrop:n.handleReplace},k.a.createElement(O,{renderContent:d,value:e,values:a,index:t,style:i,renderResult:o,onRemove:n.getCanDelete(e,t)?n.removeValue:void 0,removeConfirm:v,onPreview:h}))}),l&&Object.keys(y).map(function(e){return k.a.createElement(R,Object.assign({},y[e],{key:e,id:e,style:i,onRemove:n.removeFile}))}),i&&!m&&this.renderHandle(),c&&w.map(function(e,t){return k.a.createElement(O,{renderContent:d,key:t,value:e,values:w,index:t,renderResult:o,recoverAble:!!c,showRecover:c&&r>a.length,onRecover:n.recoverValue,style:i})})))}}]),a}(m.b);se.defaultProps={cors:!1,limit:100,recoverAble:!1,validator:{},value:[],withCredentials:!1,showUploadList:!0,validatorHandle:!0,canDelete:!0,GapProps:{column:12,row:12}};var ue,de=(ue=se,function(e){Object(s.a)(n,e);var t=re(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.forceAccept,n=e.accept;return k.a.createElement(ue,Object.assign({},this.props,{accept:t||n,forceAccept:!!t}))}}]),n}(k.a.PureComponent)),fe=n(15);function pe(r){return function(){var e,t=Object(d.a)(r);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(d.a)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Object(u.a)(this,e)}}var me=function(e){var t=e.className,n=e.disabled,r=e.urlInvalid,a=e.children,o=e.style,i=e.width,c=e.height,l=Object(fe.a)(e,["className","disabled","urlInvalid","children","style","width","height"]),s=S()(D("image-plus","image-item",n&&"disabled",r&&"url-invalid-border"),t),u=Object.assign({},{width:i,height:c},o);return k.a.createElement("div",Object.assign({},l,{style:u,tabIndex:n?-1:0,className:s}),a||k.a.createElement("div",{className:D("indicator",r&&"url-invalid-indicator")}))};me.defaultProps={width:80,height:80};var he=function(e){Object(s.a)(r,e);var n=pe(r);function r(e){var t;return Object(i.a)(this,r),(t=n.call(this,e)).beforeUpload=t.beforeUpload.bind(Object(l.a)(t)),t.handleMouseDown=t.handleMouseDown.bind(Object(l.a)(t)),t.handleKeyDown=t.handleKeyDown.bind(Object(l.a)(t)),t.state={urlInvalid:!1},t.timeout=null,t}return Object(c.a)(r,[{key:"beforeUpload",value:function(c,l){var s=this;return new Promise(function(r,a){var o=s.props.validator.imageSize,i={},e=new FileReader;e.onload=function(e){var t=e.target.result;i.data=t;var n=new window.Image;n.onerror=function(){s.setState(Object(y.a)(function(e){e.urlInvalid=!0})),a()},n.onload=function(){if(o){var e=o(n);e instanceof Error&&(l(e,c)||a(),i.status=3,i.message=e.message),r(i)}else r(i)},n.src=t},e.readAsDataURL(c)})}},{key:"handleKeyDown",value:function(e){this.setState({urlInvalid:!1}),13===e.keyCode&&e.target.click()}},{key:"handleMouseDown",value:function(){this.setState({urlInvalid:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.width,a=t.height,o=t.ignorePreview,i=Object(fe.a)(t,["children","width","height","ignorePreview"]),c=this.state.urlInvalid;c&&(clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.setState({urlInvalid:!1})},3e3));var l={width:r,height:a};return k.a.createElement(de,Object.assign({},i,{imageStyle:l,beforeUpload:o?void 0:this.beforeUpload}),k.a.createElement(me,{disabled:this.props.disabled,style:l,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,urlInvalid:c},n),c&&k.a.createElement("div",{style:{width:"100%",position:"relative"}},k.a.createElement("div",{className:D("url-invalid-message")},Object(ne.a)("urlInvalidMsg"))))}}]),r}(f.PureComponent);he.defaultProps={accept:"image/*",height:80,validator:{},width:80};var ve=he,ge=n(28),be=n(67);function ye(r){return function(){var e,t=Object(d.a)(r);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(d.a)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Object(u.a)(this,e)}}var we=function(e){13===e.keyCode&&e.target.click()},je=function(e){Object(s.a)(r,e);var n=ye(r);function r(e){var t;return Object(i.a)(this,r),(t=n.call(this,e)).state={progress:-1},t.handleError=t.handleError.bind(Object(l.a)(t)),t.handleSuccess=t.handleSuccess.bind(Object(l.a)(t)),t.handleProgress=t.handleProgress.bind(Object(l.a)(t)),t.handleStart=t.handleChange.bind(Object(l.a)(t),0),t.handleOver=t.handleChange.bind(Object(l.a)(t),-1),t.handleUpload=t.handleUpload.bind(Object(l.a)(t)),t}return Object(c.a)(r,[{key:"handleChange",value:function(e){this.setState({progress:e})}},{key:"handleProgress",value:function(e){this.handleChange(e.process)}},{key:"handleError",value:function(e){var t=this.props.onError;t&&t(e),this.handleOver()}},{key:"handleSuccess",value:function(){var e=this.props.onSuccess;e&&e.apply(void 0,arguments),this.handleOver()}},{key:"handleUpload",value:function(e){0<=this.state.progress&&e.stopPropagation()}},{key:"renderLoadingView",value:function(e){var t,n=this.props,r=n.placeholder,a=n.loading;return Object(f.isValidElement)(a)?k.a.createElement("span",null,a):k.a.createElement("span",null,(t=e,k.a.createElement("span",{className:D("bg-spin")},k.a.createElement(P.a,{size:10,name:"ring",color:t}))),"string"==typeof a?a:r)}},{key:"render",value:function(){var e=this.props,t=e.placeholder,n=e.type,r=Object(fe.a)(e,["placeholder","type"]),a=0<=this.state.progress,o=Object(ge.a)({},Object(oe.b)()?"left":"right",a?"".concat(100-this.state.progress,"%"):"100%");return k.a.createElement(de,Object.assign({},r,{limit:void 0,onProgress:this.handleProgress,onStart:this.handleStart,showUploadList:!1,onError:this.handleError,onSuccess:this.handleSuccess}),k.a.createElement(be.a,{tabIndex:r.disabled?-1:0,disabled:r.disabled,className:D("button",a&&"uploading"),type:n,onClick:this.handleUpload,onKeyDown:we},a&&[k.a.createElement("div",{key:"cover",className:D("cover")}),k.a.createElement("div",{key:"bg",style:o,className:D("bg")},this.renderLoadingView("#fff"))],k.a.createElement("span",null,a?this.renderLoadingView():t)))}}]),r}(m.b);je.defaultProps={type:"primary"};var Ee=je;function Re(r){return function(){var e,t=Object(d.a)(r);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(d.a)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Object(u.a)(this,e)}}var Oe,xe=function(e){Object(s.a)(r,e);var n=Re(r);function r(e){var t;return Object(i.a)(this,r),(t=n.call(this,e)).handleDrop=t.handleDrop.bind(Object(l.a)(t)),t}return Object(c.a)(r,[{key:"getMatchedFile",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=this.props.accept;return Array.prototype.slice.call(e).filter(function(e){return Object($.a)(e,t)})}},{key:"handleDrop",value:function(e){(0,this.props.addFile)({files:e,fromDragger:!0})}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.disabled,r=e.multiple,a=e.limit,o=e.accept;return k.a.createElement(ee,{className:D("dragger-wrapper"),drop:!0,disabled:n,multiple:r||1<a,accept:o,onDrop:this.handleDrop},k.a.createElement("div",{className:D("dragger-area",n&&"disabled")},t))}}]),r}(m.b),ke=Object(r.a)(de);ke.Image=Object(r.a)(ve),ke.ImageHandler=me,ke.Button=Object(r.a)(Ee),ke.Dragger=(Oe=xe,function(t){return k.a.createElement(Z.Consumer,null,function(e){return k.a.createElement(Oe,Object.assign({},t,e))})}),ke.displayName="ShineoutUpload",ke.Image.displayName="ShineoutImageUpload",ke.Button.displayName="ShineoutButtonUpload",ke.Dragger.displayName="ShineoutDraggerUpload";t.a=ke},569:function(e,t){},570:function(e,t){},571:function(e,t,n){e.exports=n(578)},572:function(e,t,n){"use strict";function l(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function r(c){return function(){var e=this,i=arguments;return new Promise(function(t,n){var r=c.apply(e,i);function a(e){l(r,t,n,a,o,"next",e)}function o(e){l(r,t,n,a,o,"throw",e)}a(void 0)})}}n.d(t,"a",function(){return r})},573:function(e,t){},578:function(e,t,n){var r=function(i){"use strict";var l,e=Object.prototype,u=e.hasOwnProperty,t="function"==typeof Symbol?Symbol:{},a=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",r=t.toStringTag||"@@toStringTag";function o(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(e){o=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o,i,c,l,a=t&&t.prototype instanceof g?t:g,s=Object.create(a.prototype),u=new C(r||[]);return s._invoke=(o=e,i=n,c=u,l=f,function(e,t){if(l===m)throw new Error("Generator is already running");if(l===h){if("throw"===e)throw t;return U()}for(c.method=e,c.arg=t;;){var n=c.delegate;if(n){var r=x(n,c);if(r){if(r===v)continue;return r}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if(l===f)throw l=h,c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);l=m;var a=d(o,i,c);if("normal"===a.type){if(l=c.done?h:p,a.arg===v)continue;return{value:a.arg,done:c.done}}"throw"===a.type&&(l=h,c.method="throw",c.arg=a.arg)}}),s}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}i.wrap=c;var f="suspendedStart",p="suspendedYield",m="executing",h="completed",v={};function g(){}function s(){}function b(){}var y={};y[a]=function(){return this};var w=Object.getPrototypeOf,j=w&&w(w(D([])));j&&j!==e&&u.call(j,a)&&(y=j);var E=b.prototype=g.prototype=Object.create(y);function R(e){["next","throw","return"].forEach(function(t){o(e,t,function(e){return this._invoke(t,e)})})}function O(l,s){var t;this._invoke=function(n,r){function e(){return new s(function(e,t){!function t(e,n,r,a){var o=d(l[e],l,n);if("throw"!==o.type){var i=o.arg,c=i.value;return c&&"object"==typeof c&&u.call(c,"__await")?s.resolve(c.__await).then(function(e){t("next",e,r,a)},function(e){t("throw",e,r,a)}):s.resolve(c).then(function(e){i.value=e,r(i)},function(e){return t("throw",e,r,a)})}a(o.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}}function x(e,t){var n=e.iterator[t.method];if(n===l){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=l,x(e,t),"throw"===t.method))return v;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var r=d(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,v;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=l),t.delegate=null,v):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function D(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(u.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=l,e.done=!0,e};return r.next=r}}return{next:U}}function U(){return{value:l,done:!0}}return s.prototype=E.constructor=b,(b.constructor=s).displayName=o(b,r,"GeneratorFunction"),i.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===s||"GeneratorFunction"===(t.displayName||t.name))},i.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,o(e,r,"GeneratorFunction")),e.prototype=Object.create(E),e},i.awrap=function(e){return{__await:e}},R(O.prototype),O.prototype[n]=function(){return this},i.AsyncIterator=O,i.async=function(e,t,n,r,a){void 0===a&&(a=Promise);var o=new O(c(e,t,n,r),a);return i.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},R(E),o(E,r,"Generator"),E[a]=function(){return this},E.toString=function(){return"[object Generator]"},i.keys=function(n){var r=[];for(var e in n)r.push(e);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},i.values=D,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=l,this.done=!1,this.delegate=null,this.method="next",this.arg=l,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&u.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=l)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return o.type="throw",o.arg=n,r.next=e,t&&(r.method="next",r.arg=l),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var a=this.tryEntries[t],o=a.completion;if("root"===a.tryLoc)return e("end");if(a.tryLoc<=this.prev){var i=u.call(a,"catchLoc"),c=u.call(a,"finallyLoc");if(i&&c){if(this.prev<a.catchLoc)return e(a.catchLoc,!0);if(this.prev<a.finallyLoc)return e(a.finallyLoc)}else if(i){if(this.prev<a.catchLoc)return e(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return e(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&u.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;S(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:D(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=l),v}},i}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}}}]);